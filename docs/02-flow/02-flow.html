<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />



<meta name="progressive" content="true" />
<meta name="allow-skip" content="true" />

<title>2: Inputs, outputs, and rendering functions</title>

<link rel="icon" type="image/png" href="images/favicon.ico"/>

<!--Bootstrap-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>


<!--Clipboard JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<script>

/* Clipboard --------------------------*/
/* This copy-paste button (with tooltips) requires ClipboardJS, JQuery, & Bootstrap JS, linked in head_includes.html */

$(document).ready(function() {

  function changeTooltipMessage(element, msg) {
    var tooltipOriginalTitle=element.getAttribute('data-original-title');
    element.setAttribute('data-original-title', msg);
    $(element).tooltip('show');
    element.setAttribute('data-original-title', tooltipOriginalTitle);
  }

  if(ClipboardJS.isSupported()) {
    $(document).ready(function() {
      var copyButton = "<button type='button' class='btn btn-primary btn-copy-ex' type = 'submit' title='Copy to clipboard' aria-label='Copy to clipboard' data-toggle='tooltip' data-placement='left auto' data-trigger='hover' data-clipboard-copy><i class='fa fa-copy'></i></button>";

      $(".sourceCode > pre").addClass("hasCopyButton");

      // Insert copy buttons:
      $(copyButton).prependTo(".hasCopyButton");

      // Initialize tooltips:
      $('.btn-copy-ex').tooltip({container: 'body'});

      // Initialize clipboard:
      var clipboardBtnCopies = new ClipboardJS('[data-clipboard-copy]', {
        text: function(trigger) {
          return trigger.parentNode.textContent;
        }
      });

      clipboardBtnCopies.on('success', function(e) {
        changeTooltipMessage(e.trigger, 'Copied!');
        e.clearSelection();
      });

      clipboardBtnCopies.on('error', function() {
        changeTooltipMessage(e.trigger,'Press Ctrl+C or Command+C to copy');
      });
    });
  }
})

</script>

<!-- highlightjs -->
<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>

<!-- taken from https://github.com/rstudio/rmarkdown/blob/67b7f5fc779e4cfdfd0f021d3d7745b6b6e17149/inst/rmd/h/default.html#L296-L362 -->
<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<script>
$(document).ready(function () {
  window.buildTabsets("section-TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>
<!-- end tabsets -->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />

</head>

<body>


<style type="text/css">
  /* padding for bootstrap navbar */
  body {
    padding-top: 64px;
    padding-bottom: 40px;
  }
/* offset scroll position for anchor links (for fixed navbar)  */
  .section h1 {
    padding-top: 69px;
    margin-top: -69px;
  }
.section h2 {
  padding-top: 69px;
  margin-top: -69px;
}
.section h3 {
  padding-top: 69px;
  margin-top: -69px;
}
.section h4 {
  padding-top: 69px;
  margin-top: -69px;
}
.section h5 {
  padding-top: 69px;
  margin-top: -69px;
}
.section h6 {
  padding-top: 69px;
  margin-top: -69px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
    margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>
  
  
<div class="container-fluid main-container">
  <div class="row-fluid">
    <div class="col-xs-12 col-sm-4 col-md-3">
      <div id="TOC" class="tocify">
      </div>
    </div>
  
    <div class="toc-content col-xs-12 col-sm-8 col-md-9">
  
    <div class="navbar navbar-default  navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="index.html"> </a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li>
              <a href="index.html">
                <span class="fa fa-home"></span>
              </a>
            </li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li>
              <a href="01-hello/01-hello.html">Module 1</a>
            </li>
            <li>
              <a href="02-flow/02-flow.html">Module 2</a>
            </li>
            <li>
              <a href="03-reactivity/03-reactivity.html">Module 3</a>
            </li>
            <li>
              <a href="04-ui/04-ui.html">Module 4</a>
            </li>
          </ul>
        </div><!--/.nav-collapse -->
      </div><!--/.container -->
    </div><!--/.navbar -->
  </div>
</div>
  

<div class="pageContent band">
<div class="bandContent page">

<div class="topics">

<div id="section-reactive-flow" class="section level2">
<h2>2.1 Reactive flow</h2>
<div id="section-reactivity-in-spreadsheets" class="section level3">
<h3>Reactivity, in spreadsheets</h3>
<p>One familiar way of thinking about reactivity is to think in the context of a spreadsheet, like Google Sheets or Microsoft Excel.</p>
<p><img src="images/spreadsheet-1.png" width="80%" style="display: block; margin: auto;" /></p>
</div>
<div id="section-section" class="section level3">
<h3></h3>
<p>Suppose you write a value into a cell in a spreadsheet…</p>
<p><img src="images/spreadsheet-2.png" width="80%" style="display: block; margin: auto;" /></p>
</div>
<div id="section-section-1" class="section level3">
<h3></h3>
<p>and then in another cell you write a formula that depends on that cell.</p>
<p><img src="images/spreadsheet-3.png" width="80%" style="display: block; margin: auto;" /></p>
</div>
<div id="section-section-2" class="section level3">
<h3></h3>
<p>First, the formula is calculated with the value you originally typed.</p>
<p><img src="images/spreadsheet-4.png" width="80%" style="display: block; margin: auto;" /></p>
</div>
<div id="section-section-3" class="section level3">
<h3></h3>
<p>Now when you change the value of the original cell, the result of the formula will automatically update, or in other words, react to this change.</p>
<p><img src="images/spreadsheet-5.png" width="80%" style="display: block; margin: auto;" /></p>
</div>
<div id="section-reactions" class="section level3">
<h3>Reactions</h3>
<p>In a Shiny app reactivity happens in a similar fashion.</p>
<p>Suppose you have a <code>sliderInput</code> in your app with the <code>inputId</code> of <code>alpha</code>. The value of this input is stored in <code>input$alpha</code>.</p>
<p><img src="images/slider-alpha.png" width="100%" style="display: block; margin: auto;" /></p>
<p>So when the user moves around the slider, the value of the alpha input is updated in the input list.</p>
</div>
<div id="section-reactivity-101" class="section level3">
<h3>Reactivity 101</h3>
<p>Reactivity automatically occurs when an input value is used to render an output object, i.e. in the <code>server</code> function below the plot is re-rendered when the value of <code>input$alpha</code> changes based on user input. You, as the app developer, do not need to write code that says <em>“Update the plot every time the value of <code>input$alpha</code> changes”</em>, Shiny automatically takes care of this for you in the <code>render*()</code> function.</p>
<p><img src="images/server-alpha.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="section-reactive-flow-1" class="section level3">
<h3>Reactive flow</h3>
<p>Here is a roadmap of the reactive flow in Shiny, though for now we’ll just focus on the straight path between an input and an output, and discuss the other features later in the course.</p>
<p><img src="images/reactive-flow.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="section-reactive-flow-simplified" class="section level3">
<h3>Reactive flow, simplified</h3>
<p><img src="images/reactive-flow-simple.png" width="100%" style="display: block; margin: auto;" /></p>
<p>The user selects an input, this input goes through some expression in the server, and an output is rendered. Each time the user changes their input selection, the expression that generates the output will automatically re-execute, and the relevant output will be re-rendered based on the new value of the input.</p>
<p>In a Shiny application, there’s no need to explictly describe the relationships between inputs and outputs and tell R what to do when each input changes, Shiny automatically handles these details for you.</p>
</div>
</div>
<div id="section-practice" class="section level2">
<h2>2.1 Practice</h2>
<p>Time for practice!</p>
<div id="section-building-a-reactive-widget" class="section level3">
<h3>Building a reactive widget</h3>
<p>As we saw in the previous sections, reactivity is established by linking an input with an output via a <code>render*()</code> function.</p>
<div id="section-your-turn" class="section level4">
<h4>Your turn</h4>
<ul>
<li><p>Add a new input widget, a <code>sliderInput</code>, that controls the transparency of the plotted points. This widget should have the ID <code>alpha</code> and its values should range between 0 and 1. You can decide what the displayed label and initial value of the slider should be.</p></li>
<li><p>Make the associated update in the server function.</p></li>
</ul>
<div class="proj">
<p><em>Complete the exercise by navigating to the RStudio Cloud Project titled <strong>2-1a Building a reactive widget</strong> in your RStudio Workspace</em></p>
<p><a href="https://rstudio.cloud/spaces/81721/join?access_code=I4VJaNsKfTqR3Td9hLP7E1nz8%2FtMg6Xbw9Bgqumv" class="btn test-drive"><i class="fa fa-cloud"></i> Go to RStudio Cloud Project</a></p>
</div>
<div class="sourceCode" id="section-cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb1-1"><a href="#section-cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="section-cb1-2"><a href="#section-cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="section-cb1-3"><a href="#section-cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;movies.RData&quot;</span>)</span>
<span id="section-cb1-4"><a href="#section-cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb1-5"><a href="#section-cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Define UI for application that plots features of movies</span></span>
<span id="section-cb1-6"><a href="#section-cb1-6" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="section-cb1-7"><a href="#section-cb1-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="section-cb1-8"><a href="#section-cb1-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Sidebar layout with a input and output definitions</span></span>
<span id="section-cb1-9"><a href="#section-cb1-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sidebarLayout</span>(</span>
<span id="section-cb1-10"><a href="#section-cb1-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="section-cb1-11"><a href="#section-cb1-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Inputs: Select variables to plot</span></span>
<span id="section-cb1-12"><a href="#section-cb1-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sidebarPanel</span>(</span>
<span id="section-cb1-13"><a href="#section-cb1-13" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="section-cb1-14"><a href="#section-cb1-14" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Select variable for y-axis</span></span>
<span id="section-cb1-15"><a href="#section-cb1-15" aria-hidden="true" tabindex="-1"></a>      <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;y&quot;</span>, </span>
<span id="section-cb1-16"><a href="#section-cb1-16" aria-hidden="true" tabindex="-1"></a>                  <span class="at">label =</span> <span class="st">&quot;Y-axis:&quot;</span>,</span>
<span id="section-cb1-17"><a href="#section-cb1-17" aria-hidden="true" tabindex="-1"></a>                  <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">&quot;imdb_rating&quot;</span>, <span class="st">&quot;imdb_num_votes&quot;</span>, <span class="st">&quot;critics_score&quot;</span>, <span class="st">&quot;audience_score&quot;</span>, <span class="st">&quot;runtime&quot;</span>), </span>
<span id="section-cb1-18"><a href="#section-cb1-18" aria-hidden="true" tabindex="-1"></a>                  <span class="at">selected =</span> <span class="st">&quot;audience_score&quot;</span>),</span>
<span id="section-cb1-19"><a href="#section-cb1-19" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="section-cb1-20"><a href="#section-cb1-20" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Select variable for x-axis</span></span>
<span id="section-cb1-21"><a href="#section-cb1-21" aria-hidden="true" tabindex="-1"></a>      <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;x&quot;</span>, </span>
<span id="section-cb1-22"><a href="#section-cb1-22" aria-hidden="true" tabindex="-1"></a>                  <span class="at">label =</span> <span class="st">&quot;X-axis:&quot;</span>,</span>
<span id="section-cb1-23"><a href="#section-cb1-23" aria-hidden="true" tabindex="-1"></a>                  <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">&quot;imdb_rating&quot;</span>, <span class="st">&quot;imdb_num_votes&quot;</span>, <span class="st">&quot;critics_score&quot;</span>, <span class="st">&quot;audience_score&quot;</span>, <span class="st">&quot;runtime&quot;</span>), </span>
<span id="section-cb1-24"><a href="#section-cb1-24" aria-hidden="true" tabindex="-1"></a>                  <span class="at">selected =</span> <span class="st">&quot;critics_score&quot;</span>),</span>
<span id="section-cb1-25"><a href="#section-cb1-25" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="section-cb1-26"><a href="#section-cb1-26" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Set alpha level</span></span>
<span id="section-cb1-27"><a href="#section-cb1-27" aria-hidden="true" tabindex="-1"></a>      <span class="fu">sliderInput</span>(<span class="at">inputId =</span> ___, </span>
<span id="section-cb1-28"><a href="#section-cb1-28" aria-hidden="true" tabindex="-1"></a>                  <span class="at">label =</span> ___, </span>
<span id="section-cb1-29"><a href="#section-cb1-29" aria-hidden="true" tabindex="-1"></a>                  <span class="at">min =</span> ___, <span class="at">max =</span> ___, </span>
<span id="section-cb1-30"><a href="#section-cb1-30" aria-hidden="true" tabindex="-1"></a>                  <span class="at">value =</span> ___)</span>
<span id="section-cb1-31"><a href="#section-cb1-31" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="section-cb1-32"><a href="#section-cb1-32" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="section-cb1-33"><a href="#section-cb1-33" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Output: Show scatterplot</span></span>
<span id="section-cb1-34"><a href="#section-cb1-34" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mainPanel</span>(</span>
<span id="section-cb1-35"><a href="#section-cb1-35" aria-hidden="true" tabindex="-1"></a>      <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">&quot;scatterplot&quot;</span>)</span>
<span id="section-cb1-36"><a href="#section-cb1-36" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="section-cb1-37"><a href="#section-cb1-37" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="section-cb1-38"><a href="#section-cb1-38" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="section-cb1-39"><a href="#section-cb1-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb1-40"><a href="#section-cb1-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Define server function required to create the scatterplot</span></span>
<span id="section-cb1-41"><a href="#section-cb1-41" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="section-cb1-42"><a href="#section-cb1-42" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="section-cb1-43"><a href="#section-cb1-43" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create scatterplot object the plotOutput function is expecting</span></span>
<span id="section-cb1-44"><a href="#section-cb1-44" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>scatterplot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="section-cb1-45"><a href="#section-cb1-45" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="at">data =</span> movies, <span class="fu">aes_string</span>(<span class="at">x =</span> input<span class="sc">$</span>x, <span class="at">y =</span> input<span class="sc">$</span>y)) <span class="sc">+</span></span>
<span id="section-cb1-46"><a href="#section-cb1-46" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_point</span>(<span class="at">alpha =</span> ___)</span>
<span id="section-cb1-47"><a href="#section-cb1-47" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="section-cb1-48"><a href="#section-cb1-48" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="section-cb1-49"><a href="#section-cb1-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb1-50"><a href="#section-cb1-50" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the Shiny app object</span></span>
<span id="section-cb1-51"><a href="#section-cb1-51" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code></pre></div>
</div>
</div>
<div id="section-dude-wheres-my-plot" class="section level3">
<h3>Dude, where’s my plot?</h3>
<p>The server function of this app builds two plots, <code>scatterplot</code> and <code>densityplot</code>, however the app only displays one.</p>
<div id="section-your-turn-1" class="section level4">
<h4>Your turn</h4>
<ul>
<li>Run the app and identify which plot is missing</li>
<li>Make the necessary update to the app UI to display the missing plot</li>
<li>Reduce the height of the new plot using the <code>height</code> argument in the <code>plotOutput()</code> function (suggested height: <code>height = 200</code>)</li>
</ul>
<div class="proj">
<p><em>Complete the exercise by navigating to the RStudio Cloud Project titled <strong>2-1b Dude wheres my plot </strong> in your RStudio Workspace</em></p>
<p><a href="https://rstudio.cloud/spaces/81721/join?access_code=I4VJaNsKfTqR3Td9hLP7E1nz8%2FtMg6Xbw9Bgqumv" class="btn test-drive"><i class="fa fa-cloud"></i> Go to RStudio Cloud Project</a></p>
</div>
<div class="sourceCode" id="section-cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb2-1"><a href="#section-cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="section-cb2-2"><a href="#section-cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="section-cb2-3"><a href="#section-cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;movies.RData&quot;</span>)</span>
<span id="section-cb2-4"><a href="#section-cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb2-5"><a href="#section-cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Define UI for application that plots features of movies</span></span>
<span id="section-cb2-6"><a href="#section-cb2-6" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="section-cb2-7"><a href="#section-cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb2-8"><a href="#section-cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Sidebar layout with a input and output definitions</span></span>
<span id="section-cb2-9"><a href="#section-cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sidebarLayout</span>(</span>
<span id="section-cb2-10"><a href="#section-cb2-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb2-11"><a href="#section-cb2-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Inputs: Select variables to plot</span></span>
<span id="section-cb2-12"><a href="#section-cb2-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sidebarPanel</span>(</span>
<span id="section-cb2-13"><a href="#section-cb2-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb2-14"><a href="#section-cb2-14" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Select variable for y-axis</span></span>
<span id="section-cb2-15"><a href="#section-cb2-15" aria-hidden="true" tabindex="-1"></a>      <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;y&quot;</span>,</span>
<span id="section-cb2-16"><a href="#section-cb2-16" aria-hidden="true" tabindex="-1"></a>                  <span class="at">label =</span> <span class="st">&quot;Y-axis:&quot;</span>,</span>
<span id="section-cb2-17"><a href="#section-cb2-17" aria-hidden="true" tabindex="-1"></a>                  <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">&quot;imdb_rating&quot;</span>, <span class="st">&quot;imdb_num_votes&quot;</span>, <span class="st">&quot;critics_score&quot;</span>, <span class="st">&quot;audience_score&quot;</span>, <span class="st">&quot;runtime&quot;</span>),</span>
<span id="section-cb2-18"><a href="#section-cb2-18" aria-hidden="true" tabindex="-1"></a>                  <span class="at">selected =</span> <span class="st">&quot;audience_score&quot;</span>),</span>
<span id="section-cb2-19"><a href="#section-cb2-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb2-20"><a href="#section-cb2-20" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Select variable for x-axis</span></span>
<span id="section-cb2-21"><a href="#section-cb2-21" aria-hidden="true" tabindex="-1"></a>      <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;x&quot;</span>,</span>
<span id="section-cb2-22"><a href="#section-cb2-22" aria-hidden="true" tabindex="-1"></a>                  <span class="at">label =</span> <span class="st">&quot;X-axis:&quot;</span>,</span>
<span id="section-cb2-23"><a href="#section-cb2-23" aria-hidden="true" tabindex="-1"></a>                  <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">&quot;imdb_rating&quot;</span>, <span class="st">&quot;imdb_num_votes&quot;</span>, <span class="st">&quot;critics_score&quot;</span>, <span class="st">&quot;audience_score&quot;</span>, <span class="st">&quot;runtime&quot;</span>),</span>
<span id="section-cb2-24"><a href="#section-cb2-24" aria-hidden="true" tabindex="-1"></a>                  <span class="at">selected =</span> <span class="st">&quot;critics_score&quot;</span>)</span>
<span id="section-cb2-25"><a href="#section-cb2-25" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="section-cb2-26"><a href="#section-cb2-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb2-27"><a href="#section-cb2-27" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Output: Show scatterplot</span></span>
<span id="section-cb2-28"><a href="#section-cb2-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mainPanel</span>(</span>
<span id="section-cb2-29"><a href="#section-cb2-29" aria-hidden="true" tabindex="-1"></a>      <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">&quot;scatterplot&quot;</span>)</span>
<span id="section-cb2-30"><a href="#section-cb2-30" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="section-cb2-31"><a href="#section-cb2-31" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="section-cb2-32"><a href="#section-cb2-32" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="section-cb2-33"><a href="#section-cb2-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb2-34"><a href="#section-cb2-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Define server function required to create the scatterplot</span></span>
<span id="section-cb2-35"><a href="#section-cb2-35" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="section-cb2-36"><a href="#section-cb2-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb2-37"><a href="#section-cb2-37" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create scatterplot</span></span>
<span id="section-cb2-38"><a href="#section-cb2-38" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>scatterplot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="section-cb2-39"><a href="#section-cb2-39" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="at">data =</span> movies, <span class="fu">aes_string</span>(<span class="at">x =</span> input<span class="sc">$</span>x, <span class="at">y =</span> input<span class="sc">$</span>y)) <span class="sc">+</span></span>
<span id="section-cb2-40"><a href="#section-cb2-40" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_point</span>()</span>
<span id="section-cb2-41"><a href="#section-cb2-41" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="section-cb2-42"><a href="#section-cb2-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb2-43"><a href="#section-cb2-43" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create densityplot</span></span>
<span id="section-cb2-44"><a href="#section-cb2-44" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>densityplot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="section-cb2-45"><a href="#section-cb2-45" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="at">data =</span> movies, <span class="fu">aes_string</span>(<span class="at">x =</span> input<span class="sc">$</span>x)) <span class="sc">+</span></span>
<span id="section-cb2-46"><a href="#section-cb2-46" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_density</span>()</span>
<span id="section-cb2-47"><a href="#section-cb2-47" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="section-cb2-48"><a href="#section-cb2-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb2-49"><a href="#section-cb2-49" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="section-cb2-50"><a href="#section-cb2-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb2-51"><a href="#section-cb2-51" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the Shiny app object</span></span>
<span id="section-cb2-52"><a href="#section-cb2-52" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code></pre></div>
<p><em>Hint:</em> Make sure you place commas as appropriate.</p>
</div>
</div>
</div>
<div id="section-ui-inputs" class="section level2">
<h2>2.2 UI Inputs</h2>
<div id="section-section-4" class="section level3">
<h3></h3>
<p>The goal of this section is to build familiarity with a few UI input functions.</p>
</div>
<div id="section-section-5" class="section level3">
<h3></h3>
<p>Once again, we’ll build on our simple movie browser app.</p>
<p><img src="images/app-selectinput-scatterplot.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="section-section-6" class="section level3">
<h3></h3>
<p>Shiny provides a wide selection of input widgets. The Shiny cheatsheet is a great place to see a list of them all at once.</p>
<p>Once you know which one you want to use, you can find out more about it in the package documentation. You’ll also get a chance to work with some of them in the following exercises.</p>
<p><img src="images/cheatsheet-inputs.png" width="80%" style="display: block; margin: auto;" /></p>
</div>
<div id="section-checkboxinput" class="section level3">
<h3>checkboxInput</h3>
<p>Let’s start with a <code>checkboxInput()</code>.</p>
<p>Suppose we want to add checkbox input to our app to specify whether the data plotted should be shown in a data table. We need to make three modifications to our app to accomplish this.</p>
<ol style="list-style-type: decimal">
<li>In the <strong>ui</strong>: Add an input widget that the user can interact with to check/uncheck the box.</li>
</ol>
<p>1.In the <strong>ui</strong>: Add an output to the UI defining where the data table should appear.</p>
<ol style="list-style-type: decimal">
<li>In the <strong>server</strong> function: Add a reactive expression that creates the data table if the checkbox is checked.</li>
</ol>
<p>We’ll go through these steps one by one.</p>
</div>
<div id="section-ui-add-an-input-widget-that-the-user-can-interact-with-to-checkuncheck-the-box" class="section level3">
<h3>1. <strong>ui</strong>: Add an input widget that the user can interact with to check/uncheck the box</h3>
<div class="sourceCode" id="section-cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb3-1"><a href="#section-cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Show data table</span></span>
<span id="section-cb3-2"><a href="#section-cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">checkboxInput</span>(<span class="at">inputId =</span> <span class="st">&quot;show_data&quot;</span>,</span>
<span id="section-cb3-3"><a href="#section-cb3-3" aria-hidden="true" tabindex="-1"></a>              <span class="at">label =</span> <span class="st">&quot;Show data table&quot;</span>, </span>
<span id="section-cb3-4"><a href="#section-cb3-4" aria-hidden="true" tabindex="-1"></a>              <span class="at">value =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<ul>
<li>The first argument is the <code>inputId</code>, which we can define to be anything we want, but short and informative names are the best.</li>
<li>Next is the <code>label</code>, which is the user facing description of the widget.</li>
<li>And last is the <code>value</code>, the initial value of the widget. <code>TRUE</code> means the box is initially checked. If you want it to not be checked initially, you’d set it to <code>FALSE</code> instead.</li>
</ul>
</div>
<div id="section-watch-for-commas" class="section level3">
<h3>Watch for commas!</h3>
<p>A cautionary tale before we move on – watch for your commas! Remember that this widget definition goes in the <code>sidebarPanel()</code>. In this panel we separate out widget with commas.</p>
<div class="sourceCode" id="section-cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb4-1"><a href="#section-cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sidebarPanel</span>(</span>
<span id="section-cb4-2"><a href="#section-cb4-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Select variable for y-axis </span></span>
<span id="section-cb4-3"><a href="#section-cb4-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;y&quot;</span>, <span class="at">label =</span> <span class="st">&quot;Y-axis:&quot;</span>,</span>
<span id="section-cb4-4"><a href="#section-cb4-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">&quot;imdb_rating&quot;</span>, <span class="st">&quot;imdb_num_votes&quot;</span>, <span class="st">&quot;critics_score&quot;</span>, <span class="st">&quot;audience_score&quot;</span>, <span class="st">&quot;runtime&quot;</span>),</span>
<span id="section-cb4-5"><a href="#section-cb4-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">selected =</span> <span class="st">&quot;audience_score&quot;</span>),  </span>
<span id="section-cb4-6"><a href="#section-cb4-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Select variable for x-axis</span></span>
<span id="section-cb4-7"><a href="#section-cb4-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;x&quot;</span>, <span class="at">label =</span> <span class="st">&quot;X-axis:&quot;</span>,</span>
<span id="section-cb4-8"><a href="#section-cb4-8" aria-hidden="true" tabindex="-1"></a>                <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">&quot;imdb_rating&quot;</span>, <span class="st">&quot;imdb_num_votes&quot;</span>, <span class="st">&quot;critics_score&quot;</span>,  </span>
<span id="section-cb4-9"><a href="#section-cb4-9" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;audience_score&quot;</span>, <span class="st">&quot;runtime&quot;</span>),</span>
<span id="section-cb4-10"><a href="#section-cb4-10" aria-hidden="true" tabindex="-1"></a><span class="at">selected =</span> <span class="st">&quot;critics_score&quot;</span>),</span>
<span id="section-cb4-11"><a href="#section-cb4-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Show data table </span></span>
<span id="section-cb4-12"><a href="#section-cb4-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">checkboxInput</span>(<span class="at">inputId =</span> <span class="st">&quot;show_data&quot;</span>,</span>
<span id="section-cb4-13"><a href="#section-cb4-13" aria-hidden="true" tabindex="-1"></a>                  <span class="at">label =</span> <span class="st">&quot;Show data table&quot;</span>, <span class="at">value =</span> <span class="cn">TRUE</span>)   </span>
<span id="section-cb4-14"><a href="#section-cb4-14" aria-hidden="true" tabindex="-1"></a> )</span></code></pre></div>
<p><img src="images/commas.png" width="80%" style="display: block; margin: auto;" /></p>
<p>For example:</p>
<ul>
<li>The first is the <code>selectInput</code> widget for y, then we have a comma,</li>
<li>then another <code>selectInput</code> and another comma, and</li>
<li>then our new <code>checkboxInput</code> and no comma after it since it’s the last item in the list.</li>
</ul>
</div>
<div id="section-ui-add-an-output-to-the-ui-defining-where-the-data-table-should-appear." class="section level3">
<h3>2. <strong>ui</strong>: Add an output to the UI defining where the data table should appear.</h3>
<div class="sourceCode" id="section-cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb5-1"><a href="#section-cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mainPanel</span>(</span>
<span id="section-cb5-2"><a href="#section-cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Show scatterplot</span></span>
<span id="section-cb5-3"><a href="#section-cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">&quot;scatterplot&quot;</span>), </span>
<span id="section-cb5-4"><a href="#section-cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Show data table</span></span>
<span id="section-cb5-5"><a href="#section-cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dataTableOutput</span>(<span class="at">outputId =</span> <span class="st">&quot;movestable&quot;</span>)</span>
<span id="section-cb5-6"><a href="#section-cb5-6" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>The second step was to add an output to the UI defining where the data table should appear. Note that for this we’re using the <code>dataTableOutput()</code> function.</p>
<p>This function takes one argument, the <code>outputId</code>. Again, you can define to be anything we want, but short and informative names are the best.</p>
</div>
<div id="section-server-add-a-reactive-expression-that-creates-the-data-table-if-the-checkbox-is-checked." class="section level3">
<h3>3. <strong>server</strong>: Add a reactive expression that creates the data table if the checkbox is checked.</h3>
<div class="sourceCode" id="section-cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb6-1"><a href="#section-cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Print data table if checked </span></span>
<span id="section-cb6-2"><a href="#section-cb6-2" aria-hidden="true" tabindex="-1"></a>output<span class="sc">$</span>moviestable <span class="ot">&lt;-</span> <span class="fu">renderDataTable</span>({</span>
<span id="section-cb6-3"><a href="#section-cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(input<span class="sc">$</span>show_data){</span>
<span id="section-cb6-4"><a href="#section-cb6-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">datatable</span>(<span class="at">data =</span> movies <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>),</span>
<span id="section-cb6-5"><a href="#section-cb6-5" aria-hidden="true" tabindex="-1"></a>                  <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">10</span>),</span>
<span id="section-cb6-6"><a href="#section-cb6-6" aria-hidden="true" tabindex="-1"></a>                  <span class="at">rownames =</span> <span class="cn">FALSE</span>)</span>
<span id="section-cb6-7"><a href="#section-cb6-7" aria-hidden="true" tabindex="-1"></a>  } </span>
<span id="section-cb6-8"><a href="#section-cb6-8" aria-hidden="true" tabindex="-1"></a>})</span></code></pre></div>
<p>Lastly, in our server, we describe how this table should be calculated. We use the <code>renderDataTable()</code> function to build this table.</p>
<p>Note that the first line of code in the function is an if statement, telling the app to only do this if <code>input$show_data</code> is <code>TRUE</code>. We also specify some other arguments to <code>datatable()</code>, mostly for cosmetic reasons.</p>
</div>
<div id="section-section-7" class="section level3">
<h3></h3>
<p>Here is the resulting app, with the box <strong>checked</strong>:</p>
<p><img src="images/app-datatable-checked.png" width="80%" style="display: block; margin: auto;" /></p>
<p>and box <strong>unchecked</strong>:</p>
<p><img src="images/app-datatable-checked.png" width="80%" style="display: block; margin: auto;" /></p>
</div>
<div id="section-scoping" class="section level3">
<h3>Scoping</h3>
<p>A quick note on scoping:</p>
<p>We saw that the data loaded on top of the Shiny app, outside of ui and server definitions, is visible to the server. That’s how we were able to plot the data simply by referring to the data frame by name. The data frame is actually also visible to the UI as well. So our UI inputs could be defined programmatically.</p>
<p>We’ll give an example for this, not with an interactive widget but instead with a static HTML statement:</p>
<div class="sourceCode" id="section-cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb7-1"><a href="#section-cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Display number of observations</span></span>
<span id="section-cb7-2"><a href="#section-cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">HTML</span>(<span class="fu">paste0</span>(<span class="st">&quot;The dataset has &quot;</span>, <span class="fu">nrow</span>(movies), </span>
<span id="section-cb7-3"><a href="#section-cb7-3" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;observations.&quot;</span>))</span></code></pre></div>
</div>
</div>
<div id="section-practice-1" class="section level2">
<h2>2.2 Practice</h2>
<div id="section-add-numericinput" class="section level3">
<h3>Add numericInput</h3>
<p>The app below allows users to randomly select a desired number of movies, and displays some information on the selected movies in a tabular output. This table is created using a new function, <code>renderDataTable()</code>, but for now we will keep our focus on the <code>numericInput()</code> widget. We will also learn to define variables outside of the app so that they can be used in multiple spots to make our code more efficient.</p>
<div id="section-your-turn-2" class="section level4">
<h4>Your turn</h4>
<ul>
<li><p>Make sure entries in the <code>sidebarPanel()</code> are separated by commas</p></li>
<li><p>Calculate <code>n_total</code> (total number of movies in the data set) as <code>nrow(movies)</code> before defining the UI.</p></li>
<li><p>Use <code>n_total</code> instead of the hard-coded <code>"651"</code> in the helper text.</p></li>
<li><p>Add <code>min</code> and <code>max</code> values to the <code>numericInput()</code> widget, where min is 1 and max is <code>n_total</code>.</p></li>
<li><p>Change the default <code>value</code> of the sample size to 30.</p></li>
<li><p>Change the <code>step</code> parameter of <code>numericInput()</code> such that values increase by 1 (instead of 10) when the up arrow is clicked in the numeric input widget in the app UI.</p></li>
</ul>
<div class="proj">
<p><em>Complete the exercise by navigating to the RStudio Cloud Project titled <strong>2-2a Add numericInput </strong> in your RStudio Workspace</em></p>
<p><a href="https://rstudio.cloud/spaces/81721/join?access_code=I4VJaNsKfTqR3Td9hLP7E1nz8%2FtMg6Xbw9Bgqumv" class="btn test-drive"><i class="fa fa-cloud"></i> Go to RStudio Cloud Project</a></p>
</div>
<div class="sourceCode" id="section-cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb8-1"><a href="#section-cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="section-cb8-2"><a href="#section-cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="section-cb8-3"><a href="#section-cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb8-4"><a href="#section-cb8-4" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;movies.RData&quot;</span>)</span>
<span id="section-cb8-5"><a href="#section-cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb8-6"><a href="#section-cb8-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Define UI for application that plots features of movies</span></span>
<span id="section-cb8-7"><a href="#section-cb8-7" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="section-cb8-8"><a href="#section-cb8-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="section-cb8-9"><a href="#section-cb8-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Sidebar layout with a input and output definitions</span></span>
<span id="section-cb8-10"><a href="#section-cb8-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sidebarLayout</span>(</span>
<span id="section-cb8-11"><a href="#section-cb8-11" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="section-cb8-12"><a href="#section-cb8-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Inputs: Select variables to plot</span></span>
<span id="section-cb8-13"><a href="#section-cb8-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sidebarPanel</span>(</span>
<span id="section-cb8-14"><a href="#section-cb8-14" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="section-cb8-15"><a href="#section-cb8-15" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Text instructions</span></span>
<span id="section-cb8-16"><a href="#section-cb8-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">HTML</span>(<span class="fu">paste</span>(<span class="st">&quot;Enter a value between 1 and&quot;</span>, <span class="st">&quot;651&quot;</span>))</span>
<span id="section-cb8-17"><a href="#section-cb8-17" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="section-cb8-18"><a href="#section-cb8-18" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Numeric input for sample size</span></span>
<span id="section-cb8-19"><a href="#section-cb8-19" aria-hidden="true" tabindex="-1"></a>      <span class="fu">numericInput</span>(<span class="at">inputId =</span> <span class="st">&quot;n&quot;</span>,</span>
<span id="section-cb8-20"><a href="#section-cb8-20" aria-hidden="true" tabindex="-1"></a>                   <span class="at">value =</span> <span class="dv">3</span>,</span>
<span id="section-cb8-21"><a href="#section-cb8-21" aria-hidden="true" tabindex="-1"></a>                   <span class="at">step =</span> <span class="dv">10</span>)</span>
<span id="section-cb8-22"><a href="#section-cb8-22" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="section-cb8-23"><a href="#section-cb8-23" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="section-cb8-24"><a href="#section-cb8-24" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="section-cb8-25"><a href="#section-cb8-25" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Output: Show data table</span></span>
<span id="section-cb8-26"><a href="#section-cb8-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mainPanel</span>(</span>
<span id="section-cb8-27"><a href="#section-cb8-27" aria-hidden="true" tabindex="-1"></a>      <span class="fu">dataTableOutput</span>(<span class="at">outputId =</span> <span class="st">&quot;moviestable&quot;</span>)</span>
<span id="section-cb8-28"><a href="#section-cb8-28" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="section-cb8-29"><a href="#section-cb8-29" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="section-cb8-30"><a href="#section-cb8-30" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="section-cb8-31"><a href="#section-cb8-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb8-32"><a href="#section-cb8-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Define server function required to create the scatterplot</span></span>
<span id="section-cb8-33"><a href="#section-cb8-33" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="section-cb8-34"><a href="#section-cb8-34" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="section-cb8-35"><a href="#section-cb8-35" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create data table</span></span>
<span id="section-cb8-36"><a href="#section-cb8-36" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>moviestable <span class="ot">&lt;-</span> <span class="fu">renderDataTable</span>({</span>
<span id="section-cb8-37"><a href="#section-cb8-37" aria-hidden="true" tabindex="-1"></a>    movies_sample <span class="ot">&lt;-</span> movies <span class="sc">%&gt;%</span></span>
<span id="section-cb8-38"><a href="#section-cb8-38" aria-hidden="true" tabindex="-1"></a>      <span class="fu">sample_n</span>(input<span class="sc">$</span>n) <span class="sc">%&gt;%</span></span>
<span id="section-cb8-39"><a href="#section-cb8-39" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(title<span class="sc">:</span>studio)</span>
<span id="section-cb8-40"><a href="#section-cb8-40" aria-hidden="true" tabindex="-1"></a>    <span class="fu">datatable</span>(<span class="at">data =</span> movies_sample, </span>
<span id="section-cb8-41"><a href="#section-cb8-41" aria-hidden="true" tabindex="-1"></a>                  <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">10</span>), </span>
<span id="section-cb8-42"><a href="#section-cb8-42" aria-hidden="true" tabindex="-1"></a>                  <span class="at">rownames =</span> <span class="cn">FALSE</span>)</span>
<span id="section-cb8-43"><a href="#section-cb8-43" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="section-cb8-44"><a href="#section-cb8-44" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="section-cb8-45"><a href="#section-cb8-45" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="section-cb8-46"><a href="#section-cb8-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb8-47"><a href="#section-cb8-47" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a Shiny app object</span></span>
<span id="section-cb8-48"><a href="#section-cb8-48" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code></pre></div>
</div>
</div>
<div id="section-req" class="section level3">
<h3>req</h3>
<p>The app below is the one you developed in the previous exercise.</p>
<ul>
<li>Highlight the code and run it.</li>
<li>Then, delete the numeric value.</li>
</ul>
<p>You will encounter an error: <code>Error: size is not a numeric or integer vector</code>.</p>
<p>In order to avoid such errors, which users of your app could very easily encounter, we need to hold back the output from being calculated if the input is missing.</p>
<p>The <code>req()</code> function is the simplest and best way to do this, it ensures that values are available (“<a href="https://shiny.rstudio.com/reference/shiny/latest/req.html">truthy</a>”) before proceeding with a calculation or action. If any of the given values is not truthy, the operation is stopped by raising a “silent” exception (not logged by Shiny, nor displayed in the Shiny app’s UI).</p>
<div id="section-your-turn-3" class="section level4">
<h4>Your turn</h4>
<ul>
<li><p>Add <code>req(input$n)</code> in the <code>renderDataTable()</code> function in the server before <code>movies_sample</code> is calculated.</p></li>
<li><p>Run your app again and delete the input sample size to confirm that the error doesn’t appear, and neither does the output table.</p></li>
</ul>
<div class="proj">
<p><em>Complete the exercise by navigating to the RStudio Cloud Project titled <strong>2-2b req</strong> in your RStudio Workspace</em></p>
<p><a href="https://rstudio.cloud/spaces/81721/join?access_code=I4VJaNsKfTqR3Td9hLP7E1nz8%2FtMg6Xbw9Bgqumv" class="btn test-drive"><i class="fa fa-cloud"></i> Go to RStudio Cloud Project</a></p>
</div>
<div class="sourceCode" id="section-cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb9-1"><a href="#section-cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="section-cb9-2"><a href="#section-cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="section-cb9-3"><a href="#section-cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb9-4"><a href="#section-cb9-4" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="st">&quot;shiny.sanitize.errors&quot;</span> <span class="ot">=</span> <span class="cn">FALSE</span>) <span class="co"># Turn off error sanitization</span></span>
<span id="section-cb9-5"><a href="#section-cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb9-6"><a href="#section-cb9-6" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;movies.RData&quot;</span>)</span>
<span id="section-cb9-7"><a href="#section-cb9-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb9-8"><a href="#section-cb9-8" aria-hidden="true" tabindex="-1"></a>n_total <span class="ot">&lt;-</span> <span class="fu">nrow</span>(movies)</span>
<span id="section-cb9-9"><a href="#section-cb9-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb9-10"><a href="#section-cb9-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Define UI for application that plots features of movies</span></span>
<span id="section-cb9-11"><a href="#section-cb9-11" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="section-cb9-12"><a href="#section-cb9-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="section-cb9-13"><a href="#section-cb9-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Sidebar layout with a input and output definitions</span></span>
<span id="section-cb9-14"><a href="#section-cb9-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sidebarLayout</span>(</span>
<span id="section-cb9-15"><a href="#section-cb9-15" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="section-cb9-16"><a href="#section-cb9-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Inputs: Select variables to plot</span></span>
<span id="section-cb9-17"><a href="#section-cb9-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sidebarPanel</span>(</span>
<span id="section-cb9-18"><a href="#section-cb9-18" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="section-cb9-19"><a href="#section-cb9-19" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Text instructions</span></span>
<span id="section-cb9-20"><a href="#section-cb9-20" aria-hidden="true" tabindex="-1"></a>      <span class="fu">HTML</span>(<span class="fu">paste</span>(<span class="st">&quot;Enter a value between 1 and&quot;</span>, n_total)),</span>
<span id="section-cb9-21"><a href="#section-cb9-21" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="section-cb9-22"><a href="#section-cb9-22" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Numeric input for sample size</span></span>
<span id="section-cb9-23"><a href="#section-cb9-23" aria-hidden="true" tabindex="-1"></a>      <span class="fu">numericInput</span>(<span class="at">inputId =</span> <span class="st">&quot;n&quot;</span>,</span>
<span id="section-cb9-24"><a href="#section-cb9-24" aria-hidden="true" tabindex="-1"></a>                   <span class="at">label =</span> <span class="st">&quot;Sample size:&quot;</span>,</span>
<span id="section-cb9-25"><a href="#section-cb9-25" aria-hidden="true" tabindex="-1"></a>                   <span class="at">value =</span> <span class="dv">30</span>,</span>
<span id="section-cb9-26"><a href="#section-cb9-26" aria-hidden="true" tabindex="-1"></a>                   <span class="at">min =</span> <span class="dv">1</span>, <span class="at">max =</span> n_total,</span>
<span id="section-cb9-27"><a href="#section-cb9-27" aria-hidden="true" tabindex="-1"></a>                   <span class="at">step =</span> <span class="dv">1</span>)</span>
<span id="section-cb9-28"><a href="#section-cb9-28" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="section-cb9-29"><a href="#section-cb9-29" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="section-cb9-30"><a href="#section-cb9-30" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="section-cb9-31"><a href="#section-cb9-31" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Output: Show data table</span></span>
<span id="section-cb9-32"><a href="#section-cb9-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mainPanel</span>(</span>
<span id="section-cb9-33"><a href="#section-cb9-33" aria-hidden="true" tabindex="-1"></a>      <span class="fu">dataTableOutput</span>(<span class="at">outputId =</span> <span class="st">&quot;moviestable&quot;</span>)</span>
<span id="section-cb9-34"><a href="#section-cb9-34" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="section-cb9-35"><a href="#section-cb9-35" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="section-cb9-36"><a href="#section-cb9-36" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="section-cb9-37"><a href="#section-cb9-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb9-38"><a href="#section-cb9-38" aria-hidden="true" tabindex="-1"></a><span class="co"># Define server function required to create the scatterplot</span></span>
<span id="section-cb9-39"><a href="#section-cb9-39" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="section-cb9-40"><a href="#section-cb9-40" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="section-cb9-41"><a href="#section-cb9-41" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create data table</span></span>
<span id="section-cb9-42"><a href="#section-cb9-42" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>moviestable <span class="ot">&lt;-</span> <span class="fu">renderDataTable</span>({</span>
<span id="section-cb9-43"><a href="#section-cb9-43" aria-hidden="true" tabindex="-1"></a>    movies_sample <span class="ot">&lt;-</span> movies <span class="sc">%&gt;%</span></span>
<span id="section-cb9-44"><a href="#section-cb9-44" aria-hidden="true" tabindex="-1"></a>      <span class="fu">sample_n</span>(input<span class="sc">$</span>n) <span class="sc">%&gt;%</span></span>
<span id="section-cb9-45"><a href="#section-cb9-45" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(title<span class="sc">:</span>studio)</span>
<span id="section-cb9-46"><a href="#section-cb9-46" aria-hidden="true" tabindex="-1"></a>    <span class="fu">datatable</span>(<span class="at">data =</span> movies_sample, </span>
<span id="section-cb9-47"><a href="#section-cb9-47" aria-hidden="true" tabindex="-1"></a>                  <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">10</span>), </span>
<span id="section-cb9-48"><a href="#section-cb9-48" aria-hidden="true" tabindex="-1"></a>                  <span class="at">rownames =</span> <span class="cn">FALSE</span>)</span>
<span id="section-cb9-49"><a href="#section-cb9-49" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="section-cb9-50"><a href="#section-cb9-50" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="section-cb9-51"><a href="#section-cb9-51" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="section-cb9-52"><a href="#section-cb9-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb9-53"><a href="#section-cb9-53" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a Shiny app object</span></span>
<span id="section-cb9-54"><a href="#section-cb9-54" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code></pre></div>
</div>
</div>
<div id="section-select-to-selectize" class="section level3">
<h3>Select to selectize</h3>
<p>The app below can be used to display movies from selected studios. Currently you can only choose one studio, but we’ll modify it to allow for multiple selections. Additionally, there are 211 unique studios represented in this dataset, we need a better way to select than to scroll through such a long list, and we address that with the <code>selectize</code> option, which will suggest names of studios as you type them.</p>
<div id="section-your-turn-4" class="section level4">
<h4>Your turn</h4>
<ul>
<li><p>View the help function for the <code>selectInput</code> widget by typing <code>?selectInput</code> in the console, and figure out how to enable the <code>selectize</code> and <code>multiple</code> selection options (or whether they are enabled by default).</p></li>
<li><p>Based on your findings add the necessary arguments to the <code>selectInput</code> widget.</p></li>
<li><p>Add a call to the <code>req()</code> function in the server, just like you did in the previous exercise but this time <code>req</code>uiring that <code>input$studio</code> be available.</p></li>
<li><p>Run the app and (1) confirm that you can select multiple studios, (2) start typing “Warner Bros” to confirm <code>selectize</code> works, and (3) delete all selections to confirm <code>req</code> is preventing an error from being displayed.</p></li>
<li><p>Now try with <code>selectize = FALSE</code>: Start typing “Warner Bros” and see how the behaviour changed.</p></li>
</ul>
<div class="proj">
<p><em>Complete the exercise by navigating to the RStudio Cloud Project titled <strong>2-2c Select to selectize</strong> in your RStudio Workspace</em></p>
<p><a href="https://rstudio.cloud/spaces/81721/join?access_code=I4VJaNsKfTqR3Td9hLP7E1nz8%2FtMg6Xbw9Bgqumv" class="btn test-drive"><i class="fa fa-cloud"></i> Go to RStudio Cloud Project</a></p>
</div>
<div class="sourceCode" id="section-cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb10-1"><a href="#section-cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="section-cb10-2"><a href="#section-cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="section-cb10-3"><a href="#section-cb10-3" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;movies.RData&quot;</span>)</span>
<span id="section-cb10-4"><a href="#section-cb10-4" aria-hidden="true" tabindex="-1"></a>     </span>
<span id="section-cb10-5"><a href="#section-cb10-5" aria-hidden="true" tabindex="-1"></a>all_studios <span class="ot">&lt;-</span> <span class="fu">sort</span>(<span class="fu">unique</span>(movies<span class="sc">$</span>studio))</span>
<span id="section-cb10-6"><a href="#section-cb10-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb10-7"><a href="#section-cb10-7" aria-hidden="true" tabindex="-1"></a><span class="co"># UI</span></span>
<span id="section-cb10-8"><a href="#section-cb10-8" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="section-cb10-9"><a href="#section-cb10-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sidebarLayout</span>(</span>
<span id="section-cb10-10"><a href="#section-cb10-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="section-cb10-11"><a href="#section-cb10-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Input(s)</span></span>
<span id="section-cb10-12"><a href="#section-cb10-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sidebarPanel</span>(</span>
<span id="section-cb10-13"><a href="#section-cb10-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;studio&quot;</span>,</span>
<span id="section-cb10-14"><a href="#section-cb10-14" aria-hidden="true" tabindex="-1"></a>                  <span class="at">label =</span> <span class="st">&quot;Select studio:&quot;</span>,</span>
<span id="section-cb10-15"><a href="#section-cb10-15" aria-hidden="true" tabindex="-1"></a>                  <span class="at">choices =</span> all_studios,</span>
<span id="section-cb10-16"><a href="#section-cb10-16" aria-hidden="true" tabindex="-1"></a>                  <span class="at">selected =</span> <span class="st">&quot;20th Century Fox&quot;</span>)</span>
<span id="section-cb10-17"><a href="#section-cb10-17" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="section-cb10-18"><a href="#section-cb10-18" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="section-cb10-19"><a href="#section-cb10-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="section-cb10-20"><a href="#section-cb10-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Output(s)</span></span>
<span id="section-cb10-21"><a href="#section-cb10-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mainPanel</span>(</span>
<span id="section-cb10-22"><a href="#section-cb10-22" aria-hidden="true" tabindex="-1"></a>      <span class="fu">dataTableOutput</span>(<span class="at">outputId =</span> <span class="st">&quot;moviestable&quot;</span>)</span>
<span id="section-cb10-23"><a href="#section-cb10-23" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="section-cb10-24"><a href="#section-cb10-24" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="section-cb10-25"><a href="#section-cb10-25" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="section-cb10-26"><a href="#section-cb10-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb10-27"><a href="#section-cb10-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Server</span></span>
<span id="section-cb10-28"><a href="#section-cb10-28" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="section-cb10-29"><a href="#section-cb10-29" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="section-cb10-30"><a href="#section-cb10-30" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create data table</span></span>
<span id="section-cb10-31"><a href="#section-cb10-31" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>moviestable <span class="ot">&lt;-</span> <span class="fu">renderDataTable</span>({</span>
<span id="section-cb10-32"><a href="#section-cb10-32" aria-hidden="true" tabindex="-1"></a>    movies_from_selected_studios <span class="ot">&lt;-</span> movies <span class="sc">%&gt;%</span></span>
<span id="section-cb10-33"><a href="#section-cb10-33" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(studio <span class="sc">==</span> input<span class="sc">$</span>studio) <span class="sc">%&gt;%</span></span>
<span id="section-cb10-34"><a href="#section-cb10-34" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(title<span class="sc">:</span>studio)</span>
<span id="section-cb10-35"><a href="#section-cb10-35" aria-hidden="true" tabindex="-1"></a>    <span class="fu">datatable</span>(<span class="at">data =</span> movies_from_selected_studios, </span>
<span id="section-cb10-36"><a href="#section-cb10-36" aria-hidden="true" tabindex="-1"></a>                  <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">10</span>), </span>
<span id="section-cb10-37"><a href="#section-cb10-37" aria-hidden="true" tabindex="-1"></a>                  <span class="at">rownames =</span> <span class="cn">FALSE</span>)</span>
<span id="section-cb10-38"><a href="#section-cb10-38" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="section-cb10-39"><a href="#section-cb10-39" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="section-cb10-40"><a href="#section-cb10-40" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="section-cb10-41"><a href="#section-cb10-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb10-42"><a href="#section-cb10-42" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a Shiny app object</span></span>
<span id="section-cb10-43"><a href="#section-cb10-43" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code></pre></div>
</div>
</div>
<div id="section-convert-dateinput-to-daterangeinput" class="section level3">
<h3>Convert <code>dateInput</code> to <code>dateRangeInput</code></h3>
<p>The app below can be used to display movies from a particular date onwards. Instead we would like to select movies between two given dates. Hence we need to convert the <code>dateInput</code> widget to <code>dateRangeInput</code>. This input will yield a vector (<code>input$date</code>) of length two: the first element is the start date and the second is the end date.</p>
<div id="section-your-turn-5" class="section level4">
<h4>Your turn</h4>
<ul>
<li><p>Review the help files for the two widgets by typing <code>?dateInput</code> and <code>?dateRangeInput</code> in the console.</p></li>
<li><p>Update <code>dateInput</code> to <code>dateRangeInput</code>, instead of just a start date (<code>value</code>) specify <code>start</code> and <code>end</code> dates, Jan 1, 2013 and Jan 1, 2014, respectively.</p></li>
<li><p>Update the explanatory text to reflect the new functionality of the app.</p></li>
<li><p>Change the <code>startview</code> to <code>"year"</code> to make it a bit easier for the user to navigate the calendar.</p></li>
<li><p>Update how subsetting is being done in the server function: we need movies released at or after the start date and at or before the end date.</p></li>
<li><p>Add the necessary <code>req</code> statement to the server to stop the app from trying to create a plot when no dates are specified.</p></li>
</ul>
<div class="proj">
<p><em>Complete the exercise by navigating to the RStudio Cloud Project titled <strong>2-2d Convert dateInput to dateRangeInput</strong> in your RStudio Workspace</em></p>
<p><a href="https://rstudio.cloud/spaces/81721/join?access_code=I4VJaNsKfTqR3Td9hLP7E1nz8%2FtMg6Xbw9Bgqumv" class="btn test-drive"><i class="fa fa-cloud"></i> Go to RStudio Cloud Project</a></p>
</div>
<div class="sourceCode" id="section-cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb11-1"><a href="#section-cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="section-cb11-2"><a href="#section-cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="section-cb11-3"><a href="#section-cb11-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="section-cb11-4"><a href="#section-cb11-4" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;movies.RData&quot;</span>)</span>
<span id="section-cb11-5"><a href="#section-cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb11-6"><a href="#section-cb11-6" aria-hidden="true" tabindex="-1"></a>min_date <span class="ot">&lt;-</span> <span class="fu">min</span>(movies<span class="sc">$</span>thtr_rel_date)</span>
<span id="section-cb11-7"><a href="#section-cb11-7" aria-hidden="true" tabindex="-1"></a>max_date <span class="ot">&lt;-</span> <span class="fu">max</span>(movies<span class="sc">$</span>thtr_rel_date)</span>
<span id="section-cb11-8"><a href="#section-cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb11-9"><a href="#section-cb11-9" aria-hidden="true" tabindex="-1"></a><span class="co"># UI</span></span>
<span id="section-cb11-10"><a href="#section-cb11-10" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="section-cb11-11"><a href="#section-cb11-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sidebarLayout</span>(</span>
<span id="section-cb11-12"><a href="#section-cb11-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="section-cb11-13"><a href="#section-cb11-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Input(s)</span></span>
<span id="section-cb11-14"><a href="#section-cb11-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sidebarPanel</span>(</span>
<span id="section-cb11-15"><a href="#section-cb11-15" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="section-cb11-16"><a href="#section-cb11-16" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Explanatory text</span></span>
<span id="section-cb11-17"><a href="#section-cb11-17" aria-hidden="true" tabindex="-1"></a>      <span class="fu">HTML</span>(<span class="fu">paste0</span>(<span class="st">&quot;Movies released since the following date will be plotted. </span></span>
<span id="section-cb11-18"><a href="#section-cb11-18" aria-hidden="true" tabindex="-1"></a><span class="st">                 Pick a date between &quot;</span>, min_date, <span class="st">&quot; and &quot;</span>, max_date, <span class="st">&quot;.&quot;</span>)),</span>
<span id="section-cb11-19"><a href="#section-cb11-19" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="section-cb11-20"><a href="#section-cb11-20" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Break for visual separation</span></span>
<span id="section-cb11-21"><a href="#section-cb11-21" aria-hidden="true" tabindex="-1"></a>      <span class="fu">br</span>(), <span class="fu">br</span>(),</span>
<span id="section-cb11-22"><a href="#section-cb11-22" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="section-cb11-23"><a href="#section-cb11-23" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Date input</span></span>
<span id="section-cb11-24"><a href="#section-cb11-24" aria-hidden="true" tabindex="-1"></a>      <span class="fu">dateInput</span>(<span class="at">inputId =</span> <span class="st">&quot;date&quot;</span>,</span>
<span id="section-cb11-25"><a href="#section-cb11-25" aria-hidden="true" tabindex="-1"></a>                <span class="at">label =</span> <span class="st">&quot;Select date:&quot;</span>,</span>
<span id="section-cb11-26"><a href="#section-cb11-26" aria-hidden="true" tabindex="-1"></a>                <span class="at">value =</span> <span class="st">&quot;2013-01-01&quot;</span>,</span>
<span id="section-cb11-27"><a href="#section-cb11-27" aria-hidden="true" tabindex="-1"></a>                <span class="at">min =</span> min_date, <span class="at">max =</span> max_date)</span>
<span id="section-cb11-28"><a href="#section-cb11-28" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="section-cb11-29"><a href="#section-cb11-29" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="section-cb11-30"><a href="#section-cb11-30" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Output(s)</span></span>
<span id="section-cb11-31"><a href="#section-cb11-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mainPanel</span>(</span>
<span id="section-cb11-32"><a href="#section-cb11-32" aria-hidden="true" tabindex="-1"></a>      <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">&quot;scatterplot&quot;</span>)</span>
<span id="section-cb11-33"><a href="#section-cb11-33" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="section-cb11-34"><a href="#section-cb11-34" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="section-cb11-35"><a href="#section-cb11-35" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="section-cb11-36"><a href="#section-cb11-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb11-37"><a href="#section-cb11-37" aria-hidden="true" tabindex="-1"></a><span class="co"># Server</span></span>
<span id="section-cb11-38"><a href="#section-cb11-38" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="section-cb11-39"><a href="#section-cb11-39" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="section-cb11-40"><a href="#section-cb11-40" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create the plot</span></span>
<span id="section-cb11-41"><a href="#section-cb11-41" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>scatterplot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="section-cb11-42"><a href="#section-cb11-42" aria-hidden="true" tabindex="-1"></a>    movies_selected_date <span class="ot">&lt;-</span> movies <span class="sc">%&gt;%</span></span>
<span id="section-cb11-43"><a href="#section-cb11-43" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(thtr_rel_date <span class="sc">&gt;=</span> <span class="fu">as.POSIXct</span>(input<span class="sc">$</span>date))</span>
<span id="section-cb11-44"><a href="#section-cb11-44" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="at">data =</span> movies_selected_date, <span class="fu">aes</span>(<span class="at">x =</span> critics_score, <span class="at">y =</span> audience_score, <span class="at">color =</span> mpaa_rating)) <span class="sc">+</span></span>
<span id="section-cb11-45"><a href="#section-cb11-45" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_point</span>()</span>
<span id="section-cb11-46"><a href="#section-cb11-46" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="section-cb11-47"><a href="#section-cb11-47" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="section-cb11-48"><a href="#section-cb11-48" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="section-cb11-49"><a href="#section-cb11-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb11-50"><a href="#section-cb11-50" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a Shiny app object</span></span>
<span id="section-cb11-51"><a href="#section-cb11-51" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code></pre></div>
</div>
</div>
</div>
<div id="section-render-functions" class="section level2">
<h2>2.3 <code>render*()</code> functions</h2>
<div id="section-section-8" class="section level3">
<h3></h3>
<p>The goal of this section is to build familiarity with a few rendering functions.</p>
</div>
<div id="section-section-9" class="section level3">
<h3></h3>
<p>As we mentioned earlier in the course, Shiny provides a wide selection of output types, each of which works with a render function. We looked at the <code>renderPlot()</code> function before.</p>
<p><img src="images/cheatsheet-outputs.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="section-section-10" class="section level3">
<h3></h3>
<p>Now let’s take a look at the <code>renderTable()</code> function.</p>
<p><img src="images/cheatsheet-renderTable.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="section-section-11" class="section level3">
<h3></h3>
<p>This is the app you’ve seen numerous times so far that we will use as our starting point.</p>
<p><img src="images/app-selectinput-scatterplot.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="section-section-12" class="section level3">
<h3></h3>
<p>And this is the final app that we want to achieve, with a summary table beneath the plot.</p>
<p><img src="images/app-summary-table.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="section-rendertable" class="section level3">
<h3><code>renderTable</code></h3>
<p>So we want to add a summary table beneath the plot displaying summary statistics for a new variable we’ll create: <code>score_ratio</code>, the ratio of audience scores to critics scores.</p>
<p>We need to make four modifications to our app to accomplish this.</p>
<ol style="list-style-type: decimal">
<li>Calculate the new variable</li>
<li>In the <strong>ui</strong>: Add an input widget that the user can interact with to check boxes for selected title types.</li>
<li>In the <strong>ui</strong>: Add an output defining where the summary tables should appear.</li>
<li>In the <strong>server</strong> function: Add a reactive expression that creates the summary table.</li>
</ol>
<p>We’ll go through these steps one by one.</p>
</div>
<div id="section-calculate-the-new-variable." class="section level3">
<h3>1. Calculate the new variable.</h3>
<div class="sourceCode" id="section-cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb12-1"><a href="#section-cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create new variable:</span></span>
<span id="section-cb12-2"><a href="#section-cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ratio of critics and audience scores</span></span>
<span id="section-cb12-3"><a href="#section-cb12-3" aria-hidden="true" tabindex="-1"></a>movies <span class="ot">&lt;-</span> movies <span class="sc">%&gt;%</span></span>
<span id="section-cb12-4"><a href="#section-cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">score_ratio =</span> audience_score <span class="sc">/</span> critics_score)</span></code></pre></div>
<p>First is creating the new variable, which we can do outside of the ui and the server so it’s calculated once when our app launches.</p>
<p>There are many ways one can create the new variable in R. We do so here using the <code>mutate()</code> function from the <code>dplyr</code> package.</p>
</div>
<div id="section-ui-add-an-input-widget-that-the-user-can-interact-with-to-check-boxes-for-selected-title-types." class="section level3">
<h3>2. <strong>ui</strong>: Add an input widget that the user can interact with to check boxes for selected title types.</h3>
<div class="sourceCode" id="section-cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb13-1"><a href="#section-cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Subset for title types</span></span>
<span id="section-cb13-2"><a href="#section-cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">checkboxGroupInput</span>(<span class="at">inputId =</span> <span class="st">&quot;selected_title_type&quot;</span>, </span>
<span id="section-cb13-3"><a href="#section-cb13-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">label =</span> <span class="st">&quot;Select title type:&quot;</span>, </span>
<span id="section-cb13-4"><a href="#section-cb13-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">choices =</span> <span class="fu">levels</span>(moves<span class="sc">$</span>title_type),</span>
<span id="section-cb13-5"><a href="#section-cb13-5" aria-hidden="true" tabindex="-1"></a>                   <span class="at">selected =</span> <span class="fu">levels</span>(movies<span class="sc">$</span>title_type))</span></code></pre></div>
<ul>
<li>The first argument is the <code>inputId</code>.</li>
<li>Next is the user facing <code>label</code>.</li>
<li>Third, we define the <code>choices</code>. Previously we manually entered the choices. We present an alternative approach here, directly using information from the dataset. Specifically, the choices we want are the levels of the <code>title_type</code> variable. And by default we select all of them.</li>
</ul>
</div>
<div id="section-ui-add-an-output-defining-where-the-summary-tables-should-appear." class="section level3">
<h3>3. <strong>ui</strong>: Add an output defining where the summary tables should appear.</h3>
<div class="sourceCode" id="section-cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb14-1"><a href="#section-cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mainPanel</span>(</span>
<span id="section-cb14-2"><a href="#section-cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Show scatterplot</span></span>
<span id="section-cb14-3"><a href="#section-cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">&quot;scatterplot&quot;</span>), </span>
<span id="section-cb14-4"><a href="#section-cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Show data table</span></span>
<span id="section-cb14-5"><a href="#section-cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tableOutput</span>(<span class="at">outputId =</span> <span class="st">&quot;summarytable&quot;</span>)</span>
<span id="section-cb14-6"><a href="#section-cb14-6" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>We use the <code>tableOutput()</code> function for this. This function takes one argument, the <code>outputId</code>.</p>
</div>
<div id="section-server-add-a-reactive-expression-that-creates-the-summary-table." class="section level3">
<h3>4. <strong>server</strong>: Add a reactive expression that creates the summary table.</h3>
<p>Lastly, in the server, we describe how this table should be calculated with the <code>renderTable()</code> function.</p>
<div class="sourceCode" id="section-cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb15-1"><a href="#section-cb15-1" aria-hidden="true" tabindex="-1"></a>output<span class="sc">$</span>summarytable <span class="ot">&lt;-</span> <span class="fu">renderTable</span>(</span>
<span id="section-cb15-2"><a href="#section-cb15-2" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="section-cb15-3"><a href="#section-cb15-3" aria-hidden="true" tabindex="-1"></a>    movies <span class="sc">%&gt;%</span></span>
<span id="section-cb15-4"><a href="#section-cb15-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(title_type <span class="sc">%in%</span> input<span class="sc">$</span>selected_title_type) <span class="sc">%&gt;%</span></span>
<span id="section-cb15-5"><a href="#section-cb15-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(mpaa_rating) <span class="sc">%&gt;%</span></span>
<span id="section-cb15-6"><a href="#section-cb15-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">summarise</span>(<span class="at">Mean =</span> <span class="fu">mean</span>(score_ratio), <span class="at">SD =</span> <span class="fu">sd</span>(score_ratio), <span class="at">n =</span> <span class="fu">n</span>())</span>
<span id="section-cb15-7"><a href="#section-cb15-7" aria-hidden="true" tabindex="-1"></a>  },</span>
<span id="section-cb15-8"><a href="#section-cb15-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">striped =</span> <span class="cn">TRUE</span>,</span>
<span id="section-cb15-9"><a href="#section-cb15-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">spacing =</span> <span class="st">&quot;l&quot;</span>,</span>
<span id="section-cb15-10"><a href="#section-cb15-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">align =</span> <span class="st">&quot;lccr&quot;</span>,</span>
<span id="section-cb15-11"><a href="#section-cb15-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">digits =</span> <span class="dv">4</span>,</span>
<span id="section-cb15-12"><a href="#section-cb15-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">width =</span> <span class="st">&quot;90%&quot;</span>,</span>
<span id="section-cb15-13"><a href="#section-cb15-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">&quot;Score ratio (audience / critics&#39; scores) summary statistics by MPAA rating.&quot;</span></span>
<span id="section-cb15-14"><a href="#section-cb15-14" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>Note that the name of the output created by the render function should match the name we used for the output in the ui (<code>summarytable</code>).</p>
<p>The first argument is the expression that returns an R object in tabular form.</p>
<div class="sourceCode" id="section-cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb16-1"><a href="#section-cb16-1" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="section-cb16-2"><a href="#section-cb16-2" aria-hidden="true" tabindex="-1"></a>    movies <span class="sc">%&gt;%</span></span>
<span id="section-cb16-3"><a href="#section-cb16-3" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(title_type <span class="sc">%in%</span> input<span class="sc">$</span>selected_title_type) <span class="sc">%&gt;%</span></span>
<span id="section-cb16-4"><a href="#section-cb16-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(mpaa_rating) <span class="sc">%&gt;%</span></span>
<span id="section-cb16-5"><a href="#section-cb16-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">summarise</span>(<span class="at">Mean =</span> <span class="fu">mean</span>(score_ratio), <span class="at">SD =</span> <span class="fu">sd</span>(score_ratio), <span class="at">n =</span> <span class="fu">n</span>())</span>
<span id="section-cb16-6"><a href="#section-cb16-6" aria-hidden="true" tabindex="-1"></a>  }</span></code></pre></div>
<p>Note that we wrap the expression with curly braces. The expression first filters for the selected title types. Since this is a user selection, the information is in the input list generated in the ui.</p>
<p>Then, the expression groups the data by MPAA rating, and then calculates summary statistics like means, standard deviations, and sample sizes for each level of MPAA ratings.</p>
</div>
<div id="section-section-13" class="section level3">
<h3></h3>
<p>If we stopped here and didn’t include any of the following arguments, the app would look something like this:</p>
<p><img src="images/summary-table.png" width="40%" style="display: block; margin: auto;" /></p>
<p>But we want our table to look like this:</p>
<p><img src="images/summary-table-styled.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="section-section-14" class="section level3">
<h3></h3>
<p>In order to achieve this look, we add additional arguments to our <code>render*</code> function.</p>
<div class="sourceCode" id="section-cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb17-1"><a href="#section-cb17-1" aria-hidden="true" tabindex="-1"></a>striped <span class="ot">=</span> <span class="cn">TRUE</span>, spacing <span class="ot">=</span> <span class="st">&quot;l&quot;</span>, align <span class="ot">=</span> <span class="st">&quot;lccr&quot;</span>, digits <span class="ot">=</span> <span class="dv">4</span>, width <span class="ot">=</span> <span class="st">&quot;90%&quot;</span>,</span>
<span id="section-cb17-2"><a href="#section-cb17-2" aria-hidden="true" tabindex="-1"></a>caption <span class="ot">=</span> <span class="st">&quot;Score ratio (audience / critics&#39; scores) summary statistics by MPAA rating.&quot;</span></span></code></pre></div>
<ul>
<li><code>striped = TRUE</code> for alternating color rows</li>
<li><code>spacing = "l"</code> for larger row heights</li>
<li>the <code>align</code> argument for left, right, or center alignment of columns</li>
<li><code>digits</code> for number of decimal places to display</li>
<li><code>width</code> for, well, width of the table output</li>
<li>and lastly a caption.</li>
</ul>
</div>
<div id="section-recap" class="section level3">
<h3>Recap</h3>
<ul>
<li><p>Shiny has a variety of <code>render*()</code> functions with corresponding <code>*Output()</code> functions to create and display outputs.</p></li>
<li><p><code>render*()</code> functions can take on multiple arguments, the first being the expression for the desired output.</p></li>
<li><p>The expression in the <code>render*()</code> function should be wrapped in curly braces.</p></li>
</ul>
<p>Alright, it’s time for you to practice <code>render*()</code> functions!</p>
</div>
</div>
<div id="section-practice-2" class="section level2">
<h2>2.3 Practice</h2>
<div id="section-missing-renderplot" class="section level3">
<h3>Missing <code>renderPlot()</code></h3>
<p>The following app is one you’ve seen before – it creates a scatterplot of two variables selected by the user. However it’s missing a crucial component, and hence the plot is not rendered.</p>
<div id="section-your-turn-6" class="section level4">
<h4>Your turn</h4>
<ul>
<li>Fix the app code by adding the missing component, and run to confirm that it works.</li>
</ul>
<div class="proj">
<p><em>Complete the exercise by navigating to the RStudio Cloud Project titled <strong>2-3a Missing renderPlot</strong> in your RStudio Workspace</em></p>
<p><a href="https://rstudio.cloud/spaces/81721/join?access_code=I4VJaNsKfTqR3Td9hLP7E1nz8%2FtMg6Xbw9Bgqumv" class="btn test-drive"><i class="fa fa-cloud"></i> Go to RStudio Cloud Project</a></p>
</div>
<div class="sourceCode" id="section-cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb18-1"><a href="#section-cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="section-cb18-2"><a href="#section-cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="section-cb18-3"><a href="#section-cb18-3" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;movies.RData&quot;</span>)</span>
<span id="section-cb18-4"><a href="#section-cb18-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb18-5"><a href="#section-cb18-5" aria-hidden="true" tabindex="-1"></a><span class="co"># UI</span></span>
<span id="section-cb18-6"><a href="#section-cb18-6" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="section-cb18-7"><a href="#section-cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sidebarLayout</span>(</span>
<span id="section-cb18-8"><a href="#section-cb18-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="section-cb18-9"><a href="#section-cb18-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Input(s)</span></span>
<span id="section-cb18-10"><a href="#section-cb18-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sidebarPanel</span>(</span>
<span id="section-cb18-11"><a href="#section-cb18-11" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="section-cb18-12"><a href="#section-cb18-12" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Select variable for y-axis</span></span>
<span id="section-cb18-13"><a href="#section-cb18-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;y&quot;</span>, </span>
<span id="section-cb18-14"><a href="#section-cb18-14" aria-hidden="true" tabindex="-1"></a>                  <span class="at">label =</span> <span class="st">&quot;Y-axis:&quot;</span>,</span>
<span id="section-cb18-15"><a href="#section-cb18-15" aria-hidden="true" tabindex="-1"></a>                  <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">&quot;imdb_rating&quot;</span>, <span class="st">&quot;imdb_num_votes&quot;</span>, <span class="st">&quot;critics_score&quot;</span>, <span class="st">&quot;audience_score&quot;</span>, <span class="st">&quot;runtime&quot;</span>), </span>
<span id="section-cb18-16"><a href="#section-cb18-16" aria-hidden="true" tabindex="-1"></a>                  <span class="at">selected =</span> <span class="st">&quot;audience_score&quot;</span>),</span>
<span id="section-cb18-17"><a href="#section-cb18-17" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="section-cb18-18"><a href="#section-cb18-18" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Select variable for x-axis</span></span>
<span id="section-cb18-19"><a href="#section-cb18-19" aria-hidden="true" tabindex="-1"></a>      <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;x&quot;</span>, </span>
<span id="section-cb18-20"><a href="#section-cb18-20" aria-hidden="true" tabindex="-1"></a>                  <span class="at">label =</span> <span class="st">&quot;X-axis:&quot;</span>,</span>
<span id="section-cb18-21"><a href="#section-cb18-21" aria-hidden="true" tabindex="-1"></a>                  <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">&quot;imdb_rating&quot;</span>, <span class="st">&quot;imdb_num_votes&quot;</span>, <span class="st">&quot;critics_score&quot;</span>, <span class="st">&quot;audience_score&quot;</span>, <span class="st">&quot;runtime&quot;</span>), </span>
<span id="section-cb18-22"><a href="#section-cb18-22" aria-hidden="true" tabindex="-1"></a>                  <span class="at">selected =</span> <span class="st">&quot;critics_score&quot;</span>)</span>
<span id="section-cb18-23"><a href="#section-cb18-23" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="section-cb18-24"><a href="#section-cb18-24" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="section-cb18-25"><a href="#section-cb18-25" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Output: Show scatterplot</span></span>
<span id="section-cb18-26"><a href="#section-cb18-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mainPanel</span>(</span>
<span id="section-cb18-27"><a href="#section-cb18-27" aria-hidden="true" tabindex="-1"></a>      <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">&quot;scatterplot&quot;</span>)</span>
<span id="section-cb18-28"><a href="#section-cb18-28" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="section-cb18-29"><a href="#section-cb18-29" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="section-cb18-30"><a href="#section-cb18-30" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="section-cb18-31"><a href="#section-cb18-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb18-32"><a href="#section-cb18-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Server</span></span>
<span id="section-cb18-33"><a href="#section-cb18-33" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="section-cb18-34"><a href="#section-cb18-34" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="section-cb18-35"><a href="#section-cb18-35" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create scatterplot object the plotOutput function is expecting</span></span>
<span id="section-cb18-36"><a href="#section-cb18-36" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>scatterplot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> movies, <span class="fu">aes_string</span>(<span class="at">x =</span> input<span class="sc">$</span>x, <span class="at">y =</span> input<span class="sc">$</span>y)) <span class="sc">+</span></span>
<span id="section-cb18-37"><a href="#section-cb18-37" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">geom_point</span>()</span>
<span id="section-cb18-38"><a href="#section-cb18-38" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="section-cb18-39"><a href="#section-cb18-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb18-40"><a href="#section-cb18-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a Shiny app object</span></span>
<span id="section-cb18-41"><a href="#section-cb18-41" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code></pre></div>
</div>
</div>
<div id="section-add-rendertext" class="section level3">
<h3>Add <code>renderText()</code></h3>
<p>In this app, the user selects <code>x</code> and <code>y</code> variables for the scatterplot. We will extend the app to also include a <code>textOutput</code> which prints the correlation between the two selected variables as well some informational text.</p>
<div id="section-your-turn-7" class="section level4">
<h4>Your turn</h4>
<ul>
<li>Create the text to be printed using the <code>paste()</code> function: “Correlation = ____. Note: If the relationship between the two variables is not linear, the correlation coefficient will not be meaningful.”</li>
<li>Place the text within the <code>renderText()</code> function, and assign to <code>output$text$</code>.</li>
</ul>
<div class="proj">
<p><em>Complete the exercise by navigating to the RStudio Cloud Project titled <strong>2-3b Add renderText</strong> in your RStudio Workspace</em>.</p>
<p><a href="https://rstudio.cloud/spaces/81721/join?access_code=I4VJaNsKfTqR3Td9hLP7E1nz8%2FtMg6Xbw9Bgqumv" class="btn test-drive"><i class="fa fa-cloud"></i> Go to RStudio Cloud Project</a></p>
</div>
<div class="sourceCode" id="section-cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb19-1"><a href="#section-cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="section-cb19-2"><a href="#section-cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="section-cb19-3"><a href="#section-cb19-3" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;movies.RData&quot;</span>)</span>
<span id="section-cb19-4"><a href="#section-cb19-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb19-5"><a href="#section-cb19-5" aria-hidden="true" tabindex="-1"></a><span class="co"># UI</span></span>
<span id="section-cb19-6"><a href="#section-cb19-6" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="section-cb19-7"><a href="#section-cb19-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sidebarLayout</span>(</span>
<span id="section-cb19-8"><a href="#section-cb19-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="section-cb19-9"><a href="#section-cb19-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Input(s)</span></span>
<span id="section-cb19-10"><a href="#section-cb19-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sidebarPanel</span>(</span>
<span id="section-cb19-11"><a href="#section-cb19-11" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="section-cb19-12"><a href="#section-cb19-12" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Select variable for y-axis</span></span>
<span id="section-cb19-13"><a href="#section-cb19-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;y&quot;</span>, </span>
<span id="section-cb19-14"><a href="#section-cb19-14" aria-hidden="true" tabindex="-1"></a>                  <span class="at">label =</span> <span class="st">&quot;Y-axis:&quot;</span>,</span>
<span id="section-cb19-15"><a href="#section-cb19-15" aria-hidden="true" tabindex="-1"></a>                  <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">&quot;imdb_rating&quot;</span>, <span class="st">&quot;imdb_num_votes&quot;</span>, <span class="st">&quot;critics_score&quot;</span>, <span class="st">&quot;audience_score&quot;</span>, <span class="st">&quot;runtime&quot;</span>), </span>
<span id="section-cb19-16"><a href="#section-cb19-16" aria-hidden="true" tabindex="-1"></a>                  <span class="at">selected =</span> <span class="st">&quot;audience_score&quot;</span>),</span>
<span id="section-cb19-17"><a href="#section-cb19-17" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="section-cb19-18"><a href="#section-cb19-18" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Select variable for x-axis</span></span>
<span id="section-cb19-19"><a href="#section-cb19-19" aria-hidden="true" tabindex="-1"></a>      <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;x&quot;</span>, </span>
<span id="section-cb19-20"><a href="#section-cb19-20" aria-hidden="true" tabindex="-1"></a>                  <span class="at">label =</span> <span class="st">&quot;X-axis:&quot;</span>,</span>
<span id="section-cb19-21"><a href="#section-cb19-21" aria-hidden="true" tabindex="-1"></a>                  <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">&quot;imdb_rating&quot;</span>, <span class="st">&quot;imdb_num_votes&quot;</span>, <span class="st">&quot;critics_score&quot;</span>, <span class="st">&quot;audience_score&quot;</span>, <span class="st">&quot;runtime&quot;</span>), </span>
<span id="section-cb19-22"><a href="#section-cb19-22" aria-hidden="true" tabindex="-1"></a>                  <span class="at">selected =</span> <span class="st">&quot;critics_score&quot;</span>)</span>
<span id="section-cb19-23"><a href="#section-cb19-23" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="section-cb19-24"><a href="#section-cb19-24" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="section-cb19-25"><a href="#section-cb19-25" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Output: Show scatterplot</span></span>
<span id="section-cb19-26"><a href="#section-cb19-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mainPanel</span>(</span>
<span id="section-cb19-27"><a href="#section-cb19-27" aria-hidden="true" tabindex="-1"></a>      <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">&quot;scatterplot&quot;</span>),</span>
<span id="section-cb19-28"><a href="#section-cb19-28" aria-hidden="true" tabindex="-1"></a>      <span class="fu">textOutput</span>(<span class="at">outputId =</span> <span class="st">&quot;correlation&quot;</span>)</span>
<span id="section-cb19-29"><a href="#section-cb19-29" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="section-cb19-30"><a href="#section-cb19-30" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="section-cb19-31"><a href="#section-cb19-31" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="section-cb19-32"><a href="#section-cb19-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb19-33"><a href="#section-cb19-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Server</span></span>
<span id="section-cb19-34"><a href="#section-cb19-34" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="section-cb19-35"><a href="#section-cb19-35" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="section-cb19-36"><a href="#section-cb19-36" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create scatterplot object the plotOutput function is expecting</span></span>
<span id="section-cb19-37"><a href="#section-cb19-37" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>scatterplot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="section-cb19-38"><a href="#section-cb19-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="at">data =</span> movies, <span class="fu">aes_string</span>(<span class="at">x =</span> input<span class="sc">$</span>x, <span class="at">y =</span> input<span class="sc">$</span>y)) <span class="sc">+</span></span>
<span id="section-cb19-39"><a href="#section-cb19-39" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_point</span>()</span>
<span id="section-cb19-40"><a href="#section-cb19-40" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="section-cb19-41"><a href="#section-cb19-41" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="section-cb19-42"><a href="#section-cb19-42" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create text output stating the correlation between the two ploted </span></span>
<span id="section-cb19-43"><a href="#section-cb19-43" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>correlation <span class="ot">&lt;-</span> ___</span>
<span id="section-cb19-44"><a href="#section-cb19-44" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="section-cb19-45"><a href="#section-cb19-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb19-46"><a href="#section-cb19-46" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a Shiny app object</span></span>
<span id="section-cb19-47"><a href="#section-cb19-47" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code></pre></div>
</div>
</div>
</div>
<div id="section-ui-outputs" class="section level2">
<h2>2.4: UI outputs</h2>
<div id="section-section-15" class="section level3">
<h3></h3>
<p>We’ve seen UI outputs before, and in this section we dive deeper into the <code>plotOutput()</code> function to build an interactive graph.</p>
</div>
<div id="section-section-16" class="section level3">
<h3></h3>
<p>Once again we’re going to start with this app.</p>
<p><img src="images/app-summary-table.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="section-section-17" class="section level3">
<h3></h3>
<p>And we’ll add functionality to the app so that movies corresponding to the selected points on the plot via brushing are displayed in a data table beneath the plot.</p>
<p><img src="images/app-brushing.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="section-plotoutput" class="section level3">
<h3><code>plotOutput()</code></h3>
<p>We need to make three modifications to our app to accomplish this.</p>
<ol style="list-style-type: decimal">
<li><strong>ui:</strong> Add functionality to <code>plotOutput</code> to select points via brushing.</li>
<li><strong>ui:</strong> Add an output defining where the data table should appear.</li>
<li><strong>server:</strong> Add a reactive expression that creates the data table for the selected points.</li>
</ol>
<p>Let’s go through these steps one by one.</p>
</div>
<div id="section-ui-add-functionality-to-plotoutput-to-select-points-via-brushing." class="section level3">
<h3>1. <strong>ui:</strong> Add functionality to <code>plotOutput</code> to select points via brushing.</h3>
<p>First is the brushing capability added to the <code>plotOutput()</code> function. Previously we’ve only passed one argument to the <code>plotOutput()</code> function. This time we’re making use its additional arguments, one of which is <code>brush</code>.</p>
<p>Providing a string to this argument allows the user to “brush” in the plotting area. Brushing means that the user will be able to draw a rectangle in the plotting area and drag it around. Brushing will send information about the brushed area to the server. The value will then be accessible via <code>input$plot_brush</code>.</p>
</div>
<div id="section-ui-add-an-output-defining-where-the-data-table-should-appear." class="section level3">
<h3>2. <strong>ui:</strong> Add an output defining where the data table should appear.</h3>
<p>Second, we use the <code>dataTableOutput()</code> to define where on the main panel the data table should appear.</p>
</div>
<div id="section-server-add-a-reactive-expression-that-creates-the-data-table-for-the-selected-points." class="section level3">
<h3>3. <strong>server:</strong> Add a reactive expression that creates the data table for the selected points.</h3>
<p>And third, in the server, we describe how this table should be calculated with the <code>renderDataTable()</code> function. We make use of a helper function <code>brushedPoints()</code>, which returns rows from a data frame which are under a brush used with <code>plotOutput()</code>.</p>
<ul>
<li>The first argument is the data frame from which to select rows.</li>
<li>The second argument is the input element that contains information on the brushed points.</li>
<li>In order to avoid printing all of the variables in the data frame, in the next line we select a few to display.</li>
</ul>
<p>Note that the complete expression is wrapped in curly braces again. We do this for consistency in our code as well as to make debugging easier, if need be.</p>
</div>
</div>
<div id="section-practice-3" class="section level2">
<h2>2.4 Practice</h2>
<p>In the following four exercises you’ll get to work with other interactive graphics and output functions!</p>
<div id="section-hovering" class="section level3">
<h3>Hovering</h3>
<p>In addition to brushing, users can also interact with plots via hovering over them.</p>
<div id="section-your-turn-8" class="section level4">
<h4>Your turn</h4>
<ul>
<li>Change the <code>brush</code> argument to <code>hover</code> in the <code>plotOutput()</code>.</li>
<li>Read the article on <a href="http://shiny.rstudio.com/articles/selecting-rows-of-data.html">Selecting rows of data</a> to determine what change needs to be made in the <code>renderDataTable()</code> function to list the data points that the user hovers on.</li>
<li>Implement this change.</li>
</ul>
<div class="proj">
<p><em>Complete the exercise by navigating to the RStudio Cloud Project titled <strong>2-4a Hovering</strong> in your RStudio Workspace</em>.</p>
<p><a href="https://rstudio.cloud/spaces/81721/join?access_code=I4VJaNsKfTqR3Td9hLP7E1nz8%2FtMg6Xbw9Bgqumv" class="btn test-drive"><i class="fa fa-cloud"></i> Go to RStudio Cloud Project</a></p>
</div>
<div class="sourceCode" id="section-cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb20-1"><a href="#section-cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load packages</span></span>
<span id="section-cb20-2"><a href="#section-cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="section-cb20-3"><a href="#section-cb20-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="section-cb20-4"><a href="#section-cb20-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb20-5"><a href="#section-cb20-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Load data</span></span>
<span id="section-cb20-6"><a href="#section-cb20-6" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;movies.RData&quot;</span>)</span>
<span id="section-cb20-7"><a href="#section-cb20-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb20-8"><a href="#section-cb20-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Define UI for application that plots features of movies</span></span>
<span id="section-cb20-9"><a href="#section-cb20-9" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="section-cb20-10"><a href="#section-cb20-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb20-11"><a href="#section-cb20-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">br</span>(),</span>
<span id="section-cb20-12"><a href="#section-cb20-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="section-cb20-13"><a href="#section-cb20-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Sidebar layout with a input and output definitions</span></span>
<span id="section-cb20-14"><a href="#section-cb20-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sidebarLayout</span>(</span>
<span id="section-cb20-15"><a href="#section-cb20-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Inputs: Select variables to plot</span></span>
<span id="section-cb20-16"><a href="#section-cb20-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sidebarPanel</span>(</span>
<span id="section-cb20-17"><a href="#section-cb20-17" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Select variable for y-axis</span></span>
<span id="section-cb20-18"><a href="#section-cb20-18" aria-hidden="true" tabindex="-1"></a>      <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;y&quot;</span>, <span class="at">label =</span> <span class="st">&quot;Y-axis:&quot;</span>,</span>
<span id="section-cb20-19"><a href="#section-cb20-19" aria-hidden="true" tabindex="-1"></a>                  <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">&quot;imdb_rating&quot;</span>, <span class="st">&quot;imdb_num_votes&quot;</span>, <span class="st">&quot;critics_score&quot;</span>, <span class="st">&quot;audience_score&quot;</span>, <span class="st">&quot;runtime&quot;</span>),</span>
<span id="section-cb20-20"><a href="#section-cb20-20" aria-hidden="true" tabindex="-1"></a>                  <span class="at">selected =</span> <span class="st">&quot;audience_score&quot;</span>),</span>
<span id="section-cb20-21"><a href="#section-cb20-21" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Select variable for x-axis</span></span>
<span id="section-cb20-22"><a href="#section-cb20-22" aria-hidden="true" tabindex="-1"></a>      <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;x&quot;</span>, <span class="at">label =</span> <span class="st">&quot;X-axis:&quot;</span>,</span>
<span id="section-cb20-23"><a href="#section-cb20-23" aria-hidden="true" tabindex="-1"></a>                  <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">&quot;imdb_rating&quot;</span>, <span class="st">&quot;imdb_num_votes&quot;</span>, <span class="st">&quot;critics_score&quot;</span>, <span class="st">&quot;audience_score&quot;</span>, <span class="st">&quot;runtime&quot;</span>),</span>
<span id="section-cb20-24"><a href="#section-cb20-24" aria-hidden="true" tabindex="-1"></a>                  <span class="at">selected =</span> <span class="st">&quot;critics_score&quot;</span>)</span>
<span id="section-cb20-25"><a href="#section-cb20-25" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="section-cb20-26"><a href="#section-cb20-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb20-27"><a href="#section-cb20-27" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Output:</span></span>
<span id="section-cb20-28"><a href="#section-cb20-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mainPanel</span>(</span>
<span id="section-cb20-29"><a href="#section-cb20-29" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Show scatterplot with brushing capability</span></span>
<span id="section-cb20-30"><a href="#section-cb20-30" aria-hidden="true" tabindex="-1"></a>      <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">&quot;scatterplot&quot;</span>, <span class="at">brush =</span> <span class="st">&quot;plot_brush&quot;</span>),</span>
<span id="section-cb20-31"><a href="#section-cb20-31" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Show data table</span></span>
<span id="section-cb20-32"><a href="#section-cb20-32" aria-hidden="true" tabindex="-1"></a>      <span class="fu">dataTableOutput</span>(<span class="at">outputId =</span> <span class="st">&quot;moviestable&quot;</span>),</span>
<span id="section-cb20-33"><a href="#section-cb20-33" aria-hidden="true" tabindex="-1"></a>      <span class="fu">br</span>()</span>
<span id="section-cb20-34"><a href="#section-cb20-34" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="section-cb20-35"><a href="#section-cb20-35" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="section-cb20-36"><a href="#section-cb20-36" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="section-cb20-37"><a href="#section-cb20-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb20-38"><a href="#section-cb20-38" aria-hidden="true" tabindex="-1"></a><span class="co"># Define server function required to create the scatterplot</span></span>
<span id="section-cb20-39"><a href="#section-cb20-39" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="section-cb20-40"><a href="#section-cb20-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb20-41"><a href="#section-cb20-41" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create scatterplot object the plotOutput function is expecting</span></span>
<span id="section-cb20-42"><a href="#section-cb20-42" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>scatterplot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="section-cb20-43"><a href="#section-cb20-43" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="at">data =</span> movies, <span class="fu">aes_string</span>(<span class="at">x =</span> input<span class="sc">$</span>x, <span class="at">y =</span> input<span class="sc">$</span>y)) <span class="sc">+</span></span>
<span id="section-cb20-44"><a href="#section-cb20-44" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_point</span>()</span>
<span id="section-cb20-45"><a href="#section-cb20-45" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="section-cb20-46"><a href="#section-cb20-46" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="section-cb20-47"><a href="#section-cb20-47" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create data table</span></span>
<span id="section-cb20-48"><a href="#section-cb20-48" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>moviestable <span class="ot">&lt;-</span> <span class="fu">renderDataTable</span>({</span>
<span id="section-cb20-49"><a href="#section-cb20-49" aria-hidden="true" tabindex="-1"></a>    <span class="fu">brushedPoints</span>(movies, <span class="at">brush =</span> input<span class="sc">$</span>plot_brush) <span class="sc">%&gt;%</span> </span>
<span id="section-cb20-50"><a href="#section-cb20-50" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(title, audience_score, critics_score)</span>
<span id="section-cb20-51"><a href="#section-cb20-51" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="section-cb20-52"><a href="#section-cb20-52" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="section-cb20-53"><a href="#section-cb20-53" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="section-cb20-54"><a href="#section-cb20-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb20-55"><a href="#section-cb20-55" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a Shiny app object</span></span>
<span id="section-cb20-56"><a href="#section-cb20-56" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code></pre></div>
</div>
</div>
<div id="section-displaying-text-outputs" class="section level3">
<h3>Displaying text outputs</h3>
<p>The goal in this exercise is to develop an app where the user selects two variables and their relationship is visualized with a scatterplot, and averages of both variables are reported as well as the output of the linear regression predicting the variable on the y-axis from the variable in the x-axis. The code on the right only does some of these things.</p>
<div id="section-your-turn-9" class="section level4">
<h4>Your turn</h4>
<ul>
<li>Add the appropriate output UI functions and output IDs to print the elements noted in the comments in the <code>mainPanel()</code> of the UI and run the app. Also add commas as needed.</li>
<li>In the server function averages are calculated first and then the regression model is fit, but in the app the regression output comes before the averages. Make the necessary changes to the app so that averages are displayed above the regression output.</li>
</ul>
<div class="proj">
<p><em>Complete the exercise by navigating to the RStudio Cloud Project titled <strong>2-4b Displaying text outputs</strong> in your RStudio Workspace</em>.</p>
<p><a href="https://rstudio.cloud/spaces/81721/join?access_code=I4VJaNsKfTqR3Td9hLP7E1nz8%2FtMg6Xbw9Bgqumv" class="btn test-drive"><i class="fa fa-cloud"></i> Go to RStudio Cloud Project</a></p>
</div>
<div class="sourceCode" id="section-cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb21-1"><a href="#section-cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="section-cb21-2"><a href="#section-cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="section-cb21-3"><a href="#section-cb21-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="section-cb21-4"><a href="#section-cb21-4" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;movies.RData&quot;</span>)</span>
<span id="section-cb21-5"><a href="#section-cb21-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb21-6"><a href="#section-cb21-6" aria-hidden="true" tabindex="-1"></a><span class="co"># UI</span></span>
<span id="section-cb21-7"><a href="#section-cb21-7" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="section-cb21-8"><a href="#section-cb21-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sidebarLayout</span>(</span>
<span id="section-cb21-9"><a href="#section-cb21-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="section-cb21-10"><a href="#section-cb21-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Input(s)</span></span>
<span id="section-cb21-11"><a href="#section-cb21-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sidebarPanel</span>(</span>
<span id="section-cb21-12"><a href="#section-cb21-12" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="section-cb21-13"><a href="#section-cb21-13" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Select variable for y-axis</span></span>
<span id="section-cb21-14"><a href="#section-cb21-14" aria-hidden="true" tabindex="-1"></a>      <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;y&quot;</span>,</span>
<span id="section-cb21-15"><a href="#section-cb21-15" aria-hidden="true" tabindex="-1"></a>                  <span class="at">label =</span> <span class="st">&quot;Y-axis:&quot;</span>,</span>
<span id="section-cb21-16"><a href="#section-cb21-16" aria-hidden="true" tabindex="-1"></a>                  <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">&quot;imdb_rating&quot;</span>, <span class="st">&quot;imdb_num_votes&quot;</span>, <span class="st">&quot;critics_score&quot;</span>, <span class="st">&quot;audience_score&quot;</span>, <span class="st">&quot;runtime&quot;</span>),</span>
<span id="section-cb21-17"><a href="#section-cb21-17" aria-hidden="true" tabindex="-1"></a>                  <span class="at">selected =</span> <span class="st">&quot;audience_score&quot;</span>),</span>
<span id="section-cb21-18"><a href="#section-cb21-18" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="section-cb21-19"><a href="#section-cb21-19" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Select variable for x-axis</span></span>
<span id="section-cb21-20"><a href="#section-cb21-20" aria-hidden="true" tabindex="-1"></a>      <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;x&quot;</span>,</span>
<span id="section-cb21-21"><a href="#section-cb21-21" aria-hidden="true" tabindex="-1"></a>                  <span class="at">label =</span> <span class="st">&quot;X-axis:&quot;</span>,</span>
<span id="section-cb21-22"><a href="#section-cb21-22" aria-hidden="true" tabindex="-1"></a>                  <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">&quot;imdb_rating&quot;</span>, <span class="st">&quot;imdb_num_votes&quot;</span>, <span class="st">&quot;critics_score&quot;</span>, <span class="st">&quot;audience_score&quot;</span>, <span class="st">&quot;runtime&quot;</span>),</span>
<span id="section-cb21-23"><a href="#section-cb21-23" aria-hidden="true" tabindex="-1"></a>                  <span class="at">selected =</span> <span class="st">&quot;critics_score&quot;</span>)</span>
<span id="section-cb21-24"><a href="#section-cb21-24" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="section-cb21-25"><a href="#section-cb21-25" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="section-cb21-26"><a href="#section-cb21-26" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="section-cb21-27"><a href="#section-cb21-27" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Output(s)</span></span>
<span id="section-cb21-28"><a href="#section-cb21-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mainPanel</span>(</span>
<span id="section-cb21-29"><a href="#section-cb21-29" aria-hidden="true" tabindex="-1"></a>      <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">&quot;scatterplot&quot;</span>),</span>
<span id="section-cb21-30"><a href="#section-cb21-30" aria-hidden="true" tabindex="-1"></a>      <span class="fu">___</span>(<span class="at">outputId =</span> ___) <span class="co"># regression output</span></span>
<span id="section-cb21-31"><a href="#section-cb21-31" aria-hidden="true" tabindex="-1"></a>      <span class="fu">___</span>(<span class="at">outputId =</span> ___) <span class="co"># avg of x</span></span>
<span id="section-cb21-32"><a href="#section-cb21-32" aria-hidden="true" tabindex="-1"></a>      <span class="fu">___</span>(<span class="at">outputId =</span> ___) <span class="co"># avg of y</span></span>
<span id="section-cb21-33"><a href="#section-cb21-33" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="section-cb21-34"><a href="#section-cb21-34" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="section-cb21-35"><a href="#section-cb21-35" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="section-cb21-36"><a href="#section-cb21-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb21-37"><a href="#section-cb21-37" aria-hidden="true" tabindex="-1"></a><span class="co"># Server</span></span>
<span id="section-cb21-38"><a href="#section-cb21-38" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="section-cb21-39"><a href="#section-cb21-39" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="section-cb21-40"><a href="#section-cb21-40" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create scatterplot</span></span>
<span id="section-cb21-41"><a href="#section-cb21-41" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>scatterplot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="section-cb21-42"><a href="#section-cb21-42" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="at">data =</span> movies, <span class="fu">aes_string</span>(<span class="at">x =</span> input<span class="sc">$</span>x, <span class="at">y =</span> input<span class="sc">$</span>y)) <span class="sc">+</span></span>
<span id="section-cb21-43"><a href="#section-cb21-43" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_point</span>()</span>
<span id="section-cb21-44"><a href="#section-cb21-44" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="section-cb21-45"><a href="#section-cb21-45" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="section-cb21-46"><a href="#section-cb21-46" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate average of x</span></span>
<span id="section-cb21-47"><a href="#section-cb21-47" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>avg_x <span class="ot">&lt;-</span> <span class="fu">renderText</span>({</span>
<span id="section-cb21-48"><a href="#section-cb21-48" aria-hidden="true" tabindex="-1"></a>    avg_x <span class="ot">&lt;-</span> movies <span class="sc">%&gt;%</span> <span class="fu">pull</span>(input<span class="sc">$</span>x) <span class="sc">%&gt;%</span> <span class="fu">mean</span>() <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">2</span>)</span>
<span id="section-cb21-49"><a href="#section-cb21-49" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste</span>(<span class="st">&quot;Average&quot;</span>, input<span class="sc">$</span>x, <span class="st">&quot;=&quot;</span>, avg_x)</span>
<span id="section-cb21-50"><a href="#section-cb21-50" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="section-cb21-51"><a href="#section-cb21-51" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="section-cb21-52"><a href="#section-cb21-52" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate average of y</span></span>
<span id="section-cb21-53"><a href="#section-cb21-53" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>avg_y <span class="ot">&lt;-</span> <span class="fu">renderText</span>({</span>
<span id="section-cb21-54"><a href="#section-cb21-54" aria-hidden="true" tabindex="-1"></a>    avg_y <span class="ot">&lt;-</span> movies <span class="sc">%&gt;%</span> <span class="fu">pull</span>(input<span class="sc">$</span>y) <span class="sc">%&gt;%</span> <span class="fu">mean</span>() <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">2</span>)</span>
<span id="section-cb21-55"><a href="#section-cb21-55" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste</span>(<span class="st">&quot;Average&quot;</span>, input<span class="sc">$</span>y, <span class="st">&quot;=&quot;</span>, avg_y)</span>
<span id="section-cb21-56"><a href="#section-cb21-56" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="section-cb21-57"><a href="#section-cb21-57" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="section-cb21-58"><a href="#section-cb21-58" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create regression output</span></span>
<span id="section-cb21-59"><a href="#section-cb21-59" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>lmoutput <span class="ot">&lt;-</span> <span class="fu">renderPrint</span>({</span>
<span id="section-cb21-60"><a href="#section-cb21-60" aria-hidden="true" tabindex="-1"></a>    x <span class="ot">&lt;-</span> movies <span class="sc">%&gt;%</span> <span class="fu">pull</span>(input<span class="sc">$</span>x)</span>
<span id="section-cb21-61"><a href="#section-cb21-61" aria-hidden="true" tabindex="-1"></a>    y <span class="ot">&lt;-</span> movies <span class="sc">%&gt;%</span> <span class="fu">pull</span>(input<span class="sc">$</span>y)</span>
<span id="section-cb21-62"><a href="#section-cb21-62" aria-hidden="true" tabindex="-1"></a>    summ <span class="ot">&lt;-</span> <span class="fu">summary</span>(<span class="fu">lm</span>(y <span class="sc">~</span> x, <span class="at">data =</span> movies)) </span>
<span id="section-cb21-63"><a href="#section-cb21-63" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(summ, <span class="at">digits =</span> <span class="dv">3</span>, <span class="at">signif.stars =</span> <span class="cn">FALSE</span>)</span>
<span id="section-cb21-64"><a href="#section-cb21-64" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="section-cb21-65"><a href="#section-cb21-65" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="section-cb21-66"><a href="#section-cb21-66" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="section-cb21-67"><a href="#section-cb21-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb21-68"><a href="#section-cb21-68" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a Shiny app object</span></span>
<span id="section-cb21-69"><a href="#section-cb21-69" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code></pre></div>
</div>
</div>
<div id="section-creating-and-formatting-html-output" class="section level3">
<h3>Creating and formatting HTML output</h3>
<p>In the previous exercise you developed an app that reported averages of selected x and y variables as two separate outputs. An alternative approach would be to combine them into a single, multi-line output.</p>
<p>Combine the values calculated in the previous exercise as described below to create a customized HTML output.</p>
<div id="section-your-turn-10" class="section level4">
<h4>Your turn</h4>
<ul>
<li>In the server, create a new output, named <code>output$avgs</code>, that replaces <code>output$avg_x</code> and <code>output$avg_y</code>. For this output, calculate <code>avg_x</code> and <code>avg_y</code> like you did before, save the output text strings as <code>str_x</code> and <code>str_y</code>, and finally combine these two text strings with <code>HTML(paste(str_x, str_y, sep = '&lt;br/&gt;'))</code>.</li>
<li>In the UI, replace the <code>textOutput()</code>s with a call to <code>htmlOutput()</code>, calling the new HTML text string you created in the server.</li>
</ul>
<div class="proj">
<p><em>Complete the exercise by navigating to the RStudio Cloud Project titled <strong>2-4c Creating and formatting HTML output</strong> in your RStudio Workspace</em>.</p>
<p><a href="https://rstudio.cloud/spaces/81721/join?access_code=I4VJaNsKfTqR3Td9hLP7E1nz8%2FtMg6Xbw9Bgqumv" class="btn test-drive"><i class="fa fa-cloud"></i> Go to RStudio Cloud Project</a></p>
</div>
<div class="sourceCode" id="section-cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb22-1"><a href="#section-cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="section-cb22-2"><a href="#section-cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="section-cb22-3"><a href="#section-cb22-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="section-cb22-4"><a href="#section-cb22-4" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;movies.RData&quot;</span>)</span>
<span id="section-cb22-5"><a href="#section-cb22-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb22-6"><a href="#section-cb22-6" aria-hidden="true" tabindex="-1"></a><span class="co"># UI</span></span>
<span id="section-cb22-7"><a href="#section-cb22-7" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="section-cb22-8"><a href="#section-cb22-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sidebarLayout</span>(</span>
<span id="section-cb22-9"><a href="#section-cb22-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="section-cb22-10"><a href="#section-cb22-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Input(s)</span></span>
<span id="section-cb22-11"><a href="#section-cb22-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sidebarPanel</span>(</span>
<span id="section-cb22-12"><a href="#section-cb22-12" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="section-cb22-13"><a href="#section-cb22-13" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Select variable for y-axis</span></span>
<span id="section-cb22-14"><a href="#section-cb22-14" aria-hidden="true" tabindex="-1"></a>      <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;y&quot;</span>,</span>
<span id="section-cb22-15"><a href="#section-cb22-15" aria-hidden="true" tabindex="-1"></a>                  <span class="at">label =</span> <span class="st">&quot;Y-axis:&quot;</span>,</span>
<span id="section-cb22-16"><a href="#section-cb22-16" aria-hidden="true" tabindex="-1"></a>                  <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">&quot;imdb_rating&quot;</span>, <span class="st">&quot;imdb_num_votes&quot;</span>, <span class="st">&quot;critics_score&quot;</span>, <span class="st">&quot;audience_score&quot;</span>, <span class="st">&quot;runtime&quot;</span>),</span>
<span id="section-cb22-17"><a href="#section-cb22-17" aria-hidden="true" tabindex="-1"></a>                  <span class="at">selected =</span> <span class="st">&quot;audience_score&quot;</span>),</span>
<span id="section-cb22-18"><a href="#section-cb22-18" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="section-cb22-19"><a href="#section-cb22-19" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Select variable for x-axis</span></span>
<span id="section-cb22-20"><a href="#section-cb22-20" aria-hidden="true" tabindex="-1"></a>      <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">&quot;x&quot;</span>,</span>
<span id="section-cb22-21"><a href="#section-cb22-21" aria-hidden="true" tabindex="-1"></a>                  <span class="at">label =</span> <span class="st">&quot;X-axis:&quot;</span>,</span>
<span id="section-cb22-22"><a href="#section-cb22-22" aria-hidden="true" tabindex="-1"></a>                  <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">&quot;imdb_rating&quot;</span>, <span class="st">&quot;imdb_num_votes&quot;</span>, <span class="st">&quot;critics_score&quot;</span>, <span class="st">&quot;audience_score&quot;</span>, <span class="st">&quot;runtime&quot;</span>),</span>
<span id="section-cb22-23"><a href="#section-cb22-23" aria-hidden="true" tabindex="-1"></a>                  <span class="at">selected =</span> <span class="st">&quot;critics_score&quot;</span>)</span>
<span id="section-cb22-24"><a href="#section-cb22-24" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="section-cb22-25"><a href="#section-cb22-25" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="section-cb22-26"><a href="#section-cb22-26" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="section-cb22-27"><a href="#section-cb22-27" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Output(s)</span></span>
<span id="section-cb22-28"><a href="#section-cb22-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mainPanel</span>(</span>
<span id="section-cb22-29"><a href="#section-cb22-29" aria-hidden="true" tabindex="-1"></a>      <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">&quot;scatterplot&quot;</span>),</span>
<span id="section-cb22-30"><a href="#section-cb22-30" aria-hidden="true" tabindex="-1"></a>      <span class="fu">textOutput</span>(<span class="at">outputId =</span> <span class="st">&quot;avg_x&quot;</span>), <span class="co"># avg of x</span></span>
<span id="section-cb22-31"><a href="#section-cb22-31" aria-hidden="true" tabindex="-1"></a>      <span class="fu">textOutput</span>(<span class="at">outputId =</span> <span class="st">&quot;avg_y&quot;</span>), <span class="co"># avg of y</span></span>
<span id="section-cb22-32"><a href="#section-cb22-32" aria-hidden="true" tabindex="-1"></a>      <span class="fu">verbatimTextOutput</span>(<span class="at">outputId =</span> <span class="st">&quot;lmoutput&quot;</span>) <span class="co"># regression output</span></span>
<span id="section-cb22-33"><a href="#section-cb22-33" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="section-cb22-34"><a href="#section-cb22-34" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="section-cb22-35"><a href="#section-cb22-35" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="section-cb22-36"><a href="#section-cb22-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb22-37"><a href="#section-cb22-37" aria-hidden="true" tabindex="-1"></a><span class="co"># Server</span></span>
<span id="section-cb22-38"><a href="#section-cb22-38" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="section-cb22-39"><a href="#section-cb22-39" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="section-cb22-40"><a href="#section-cb22-40" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create scatterplot</span></span>
<span id="section-cb22-41"><a href="#section-cb22-41" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>scatterplot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="section-cb22-42"><a href="#section-cb22-42" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="at">data =</span> movies, <span class="fu">aes_string</span>(<span class="at">x =</span> input<span class="sc">$</span>x, <span class="at">y =</span> input<span class="sc">$</span>y)) <span class="sc">+</span></span>
<span id="section-cb22-43"><a href="#section-cb22-43" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_point</span>()</span>
<span id="section-cb22-44"><a href="#section-cb22-44" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="section-cb22-45"><a href="#section-cb22-45" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="section-cb22-46"><a href="#section-cb22-46" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate average of x</span></span>
<span id="section-cb22-47"><a href="#section-cb22-47" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>avg_x <span class="ot">&lt;-</span> <span class="fu">renderText</span>({</span>
<span id="section-cb22-48"><a href="#section-cb22-48" aria-hidden="true" tabindex="-1"></a>    avg_x <span class="ot">&lt;-</span> movies <span class="sc">%&gt;%</span> <span class="fu">pull</span>(input<span class="sc">$</span>x) <span class="sc">%&gt;%</span> <span class="fu">mean</span>() <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">2</span>)</span>
<span id="section-cb22-49"><a href="#section-cb22-49" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste</span>(<span class="st">&quot;Average&quot;</span>, input<span class="sc">$</span>x, <span class="st">&quot;=&quot;</span>, avg_x)</span>
<span id="section-cb22-50"><a href="#section-cb22-50" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="section-cb22-51"><a href="#section-cb22-51" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="section-cb22-52"><a href="#section-cb22-52" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate average of y</span></span>
<span id="section-cb22-53"><a href="#section-cb22-53" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>avg_y <span class="ot">&lt;-</span> <span class="fu">renderText</span>({</span>
<span id="section-cb22-54"><a href="#section-cb22-54" aria-hidden="true" tabindex="-1"></a>    avg_y <span class="ot">&lt;-</span> movies <span class="sc">%&gt;%</span> <span class="fu">pull</span>(input<span class="sc">$</span>y) <span class="sc">%&gt;%</span> <span class="fu">mean</span>() <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">2</span>)</span>
<span id="section-cb22-55"><a href="#section-cb22-55" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste</span>(<span class="st">&quot;Average&quot;</span>, input<span class="sc">$</span>y, <span class="st">&quot;=&quot;</span>, avg_y)</span>
<span id="section-cb22-56"><a href="#section-cb22-56" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="section-cb22-57"><a href="#section-cb22-57" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="section-cb22-58"><a href="#section-cb22-58" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create regression output</span></span>
<span id="section-cb22-59"><a href="#section-cb22-59" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>lmoutput <span class="ot">&lt;-</span> <span class="fu">renderPrint</span>({</span>
<span id="section-cb22-60"><a href="#section-cb22-60" aria-hidden="true" tabindex="-1"></a>    x <span class="ot">&lt;-</span> movies <span class="sc">%&gt;%</span> <span class="fu">pull</span>(input<span class="sc">$</span>x)</span>
<span id="section-cb22-61"><a href="#section-cb22-61" aria-hidden="true" tabindex="-1"></a>    y <span class="ot">&lt;-</span> movies <span class="sc">%&gt;%</span> <span class="fu">pull</span>(input<span class="sc">$</span>y)</span>
<span id="section-cb22-62"><a href="#section-cb22-62" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="fu">summary</span>(<span class="fu">lm</span>(y <span class="sc">~</span> x, <span class="at">data =</span> movies)), <span class="at">digits =</span> <span class="dv">3</span>, <span class="at">signif.stars =</span> <span class="cn">FALSE</span>)</span>
<span id="section-cb22-63"><a href="#section-cb22-63" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="section-cb22-64"><a href="#section-cb22-64" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="section-cb22-65"><a href="#section-cb22-65" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="section-cb22-66"><a href="#section-cb22-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb22-67"><a href="#section-cb22-67" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a Shiny app object</span></span>
<span id="section-cb22-68"><a href="#section-cb22-68" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code></pre></div>
</div>
</div>
<div id="section-download-data-with-downloadbutton" class="section level3">
<h3>Download data with <code>downloadButton()</code></h3>
<p>In this app you get to specify the filetype and the variables included in the file you will download. For downloading from a Shiny app we use the <code>downloadHandler()</code> function in the server and <code>downloadButton()</code> or <code>downloadLink()</code> function in the UI.</p>
<p>Download the selected data with <code>downloadButton()</code> using instructions help files to figure out exactly how it works</p>
<div id="section-your-turn-11" class="section level4">
<h4>Your turn</h4>
<ul>
<li>In the server function, add the name of the output for file download, the function for setting up a file download, and fill in other blanks. Looking in the help file for the function may be useful.</li>
<li>In the UI, add the name of the function for displaying a link or button for downloading.</li>
</ul>
<div class="proj">
<p><em>Complete the exercise by navigating to the RStudio Cloud Project titled <strong>2-4d Download data with downloadButton()</strong> in your RStudio Workspace</em>.</p>
<p><a href="https://rstudio.cloud/spaces/81721/join?access_code=I4VJaNsKfTqR3Td9hLP7E1nz8%2FtMg6Xbw9Bgqumv" class="btn test-drive"><i class="fa fa-cloud"></i> Go to RStudio Cloud Project</a></p>
</div>
<div class="sourceCode" id="section-cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb23-1"><a href="#section-cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="section-cb23-2"><a href="#section-cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="section-cb23-3"><a href="#section-cb23-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="section-cb23-4"><a href="#section-cb23-4" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;movies.RData&quot;</span>)</span>
<span id="section-cb23-5"><a href="#section-cb23-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb23-6"><a href="#section-cb23-6" aria-hidden="true" tabindex="-1"></a><span class="co"># UI</span></span>
<span id="section-cb23-7"><a href="#section-cb23-7" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="section-cb23-8"><a href="#section-cb23-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sidebarLayout</span>(</span>
<span id="section-cb23-9"><a href="#section-cb23-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="section-cb23-10"><a href="#section-cb23-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Input(s)</span></span>
<span id="section-cb23-11"><a href="#section-cb23-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sidebarPanel</span>(</span>
<span id="section-cb23-12"><a href="#section-cb23-12" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="section-cb23-13"><a href="#section-cb23-13" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Select filetype</span></span>
<span id="section-cb23-14"><a href="#section-cb23-14" aria-hidden="true" tabindex="-1"></a>      <span class="fu">radioButtons</span>(<span class="at">inputId =</span> <span class="st">&quot;filetype&quot;</span>,</span>
<span id="section-cb23-15"><a href="#section-cb23-15" aria-hidden="true" tabindex="-1"></a>                   <span class="at">label =</span> <span class="st">&quot;Select filetype:&quot;</span>,</span>
<span id="section-cb23-16"><a href="#section-cb23-16" aria-hidden="true" tabindex="-1"></a>                   <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">&quot;csv&quot;</span>, <span class="st">&quot;tsv&quot;</span>),</span>
<span id="section-cb23-17"><a href="#section-cb23-17" aria-hidden="true" tabindex="-1"></a>                   <span class="at">selected =</span> <span class="st">&quot;csv&quot;</span>),</span>
<span id="section-cb23-18"><a href="#section-cb23-18" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="section-cb23-19"><a href="#section-cb23-19" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Select variables to download</span></span>
<span id="section-cb23-20"><a href="#section-cb23-20" aria-hidden="true" tabindex="-1"></a>      <span class="fu">checkboxGroupInput</span>(<span class="at">inputId =</span> <span class="st">&quot;selected_var&quot;</span>,</span>
<span id="section-cb23-21"><a href="#section-cb23-21" aria-hidden="true" tabindex="-1"></a>                  <span class="at">label =</span> <span class="st">&quot;Select variables:&quot;</span>,</span>
<span id="section-cb23-22"><a href="#section-cb23-22" aria-hidden="true" tabindex="-1"></a>                  <span class="at">choices =</span> <span class="fu">names</span>(movies),</span>
<span id="section-cb23-23"><a href="#section-cb23-23" aria-hidden="true" tabindex="-1"></a>                  <span class="at">selected =</span> <span class="fu">c</span>(<span class="st">&quot;title&quot;</span>))</span>
<span id="section-cb23-24"><a href="#section-cb23-24" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="section-cb23-25"><a href="#section-cb23-25" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="section-cb23-26"><a href="#section-cb23-26" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="section-cb23-27"><a href="#section-cb23-27" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Output(s)</span></span>
<span id="section-cb23-28"><a href="#section-cb23-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mainPanel</span>(</span>
<span id="section-cb23-29"><a href="#section-cb23-29" aria-hidden="true" tabindex="-1"></a>      <span class="fu">HTML</span>(<span class="st">&quot;Select filetype and variables, then hit &#39;Download data&#39;.&quot;</span>),</span>
<span id="section-cb23-30"><a href="#section-cb23-30" aria-hidden="true" tabindex="-1"></a>      <span class="fu">___</span>(<span class="st">&quot;download_data&quot;</span>, <span class="st">&quot;Download data&quot;</span>)</span>
<span id="section-cb23-31"><a href="#section-cb23-31" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="section-cb23-32"><a href="#section-cb23-32" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="section-cb23-33"><a href="#section-cb23-33" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="section-cb23-34"><a href="#section-cb23-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb23-35"><a href="#section-cb23-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Server</span></span>
<span id="section-cb23-36"><a href="#section-cb23-36" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="section-cb23-37"><a href="#section-cb23-37" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="section-cb23-38"><a href="#section-cb23-38" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Download file</span></span>
<span id="section-cb23-39"><a href="#section-cb23-39" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>___ <span class="ot">&lt;-</span> <span class="fu">___</span>(</span>
<span id="section-cb23-40"><a href="#section-cb23-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">filename =</span> <span class="cf">function</span>() {</span>
<span id="section-cb23-41"><a href="#section-cb23-41" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(<span class="st">&quot;movies.&quot;</span>, ___)</span>
<span id="section-cb23-42"><a href="#section-cb23-42" aria-hidden="true" tabindex="-1"></a>      },</span>
<span id="section-cb23-43"><a href="#section-cb23-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">content =</span> <span class="cf">function</span>(file) { </span>
<span id="section-cb23-44"><a href="#section-cb23-44" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span>(___ <span class="sc">==</span> <span class="st">&quot;csv&quot;</span>){ </span>
<span id="section-cb23-45"><a href="#section-cb23-45" aria-hidden="true" tabindex="-1"></a>        <span class="fu">write_csv</span>(movies <span class="sc">%&gt;%</span> <span class="fu">select</span>(input<span class="sc">$</span>selected_var), file) </span>
<span id="section-cb23-46"><a href="#section-cb23-46" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="section-cb23-47"><a href="#section-cb23-47" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span>(___ <span class="sc">==</span> <span class="st">&quot;tsv&quot;</span>){ </span>
<span id="section-cb23-48"><a href="#section-cb23-48" aria-hidden="true" tabindex="-1"></a>        <span class="fu">write_tsv</span>(movies <span class="sc">%&gt;%</span> <span class="fu">select</span>(input<span class="sc">$</span>selected_var), file) </span>
<span id="section-cb23-49"><a href="#section-cb23-49" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="section-cb23-50"><a href="#section-cb23-50" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="section-cb23-51"><a href="#section-cb23-51" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="section-cb23-52"><a href="#section-cb23-52" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="section-cb23-53"><a href="#section-cb23-53" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="section-cb23-54"><a href="#section-cb23-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb23-55"><a href="#section-cb23-55" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a Shiny app object</span></span>
<span id="section-cb23-56"><a href="#section-cb23-56" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code></pre></div>

<script type="application/shiny-prerendered" data-context="server-start">
library(learnr)
knitr::opts_chunk$set(
  echo = FALSE, 
  fig.align = "center",
  out.width = "100%"
  )
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::register_http_handlers(session, metadata = NULL)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::clear_exercise_setup_chunks()
</script>
 
<script type="application/shiny-prerendered" data-context="server">
session$onSessionEnded(function() {
        learnr:::event_trigger(session, "session_stop")
      })
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_setup_chunk("__setup__", c("library(learnr)", "knitr::opts_chunk$set(", "  echo = FALSE, ", 
"  fig.align = \"center\",", "  out.width = \"100%\"", "  )"), overwrite = FALSE)
</script>
 <!--html_preserve-->
<script type="application/shiny-prerendered" data-context="dependencies">
{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["header-attrs"]},{"type":"character","attributes":{},"value":["2.6.4"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/pandoc"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["header-attrs.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.6.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["1.11.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.6.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootstrap"]},{"type":"character","attributes":{},"value":["3.3.5"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/bootstrap"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["viewport"]}},"value":[{"type":"character","attributes":{},"value":["width=device-width, initial-scale=1"]}]},{"type":"character","attributes":{},"value":["js/bootstrap.min.js","shim/html5shiv.min.js","shim/respond.min.js"]},{"type":"character","attributes":{},"value":["css/paper.min.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.6.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["pagedtable"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/pagedtable-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/pagedtable.js"]},{"type":"character","attributes":{},"value":["css/pagedtable.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.6.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial"]},{"type":"character","attributes":{},"value":["0.10.1.9006"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial.js"]},{"type":"character","attributes":{},"value":["tutorial.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9006"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-autocompletion"]},{"type":"character","attributes":{},"value":["0.10.1.9006"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-autocompletion.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9006"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-diagnostics"]},{"type":"character","attributes":{},"value":["0.10.1.9006"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-diagnostics.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9006"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-format"]},{"type":"character","attributes":{},"value":["0.10.1.9006"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmarkdown/templates/tutorial/resources"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-format.js"]},{"type":"character","attributes":{},"value":["tutorial-format.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9006"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["1.11.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.6.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["navigation"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/navigation-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tabsets.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.6.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["highlightjs"]},{"type":"character","attributes":{},"value":["9.12.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/highlightjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["highlight.js"]},{"type":"character","attributes":{},"value":["default.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.6.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["1.11.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.6.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["font-awesome"]},{"type":"character","attributes":{},"value":["5.1.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/fontawesome"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/all.css","css/v4-shims.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.6.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootbox"]},{"type":"character","attributes":{},"value":["4.4.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/bootbox"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["bootbox.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9006"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["idb-keyvalue"]},{"type":"character","attributes":{},"value":["3.2.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/idb-keyval"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["idb-keyval-iife-compat.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["0.10.1.9006"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial"]},{"type":"character","attributes":{},"value":["0.10.1.9006"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial.js"]},{"type":"character","attributes":{},"value":["tutorial.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9006"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-autocompletion"]},{"type":"character","attributes":{},"value":["0.10.1.9006"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-autocompletion.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9006"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-diagnostics"]},{"type":"character","attributes":{},"value":["0.10.1.9006"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-diagnostics.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9006"]}]}]}
</script>
<!--/html_preserve-->
<!--html_preserve-->
<script type="application/shiny-prerendered" data-context="execution_dependencies">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages","version"]},"class":{"type":"character","attributes":{},"value":["data.frame"]},"row.names":{"type":"integer","attributes":{},"value":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83]}},"value":[{"type":"character","attributes":{},"value":["assertthat","backports","base","broom","callr","cellranger","cli","colorspace","compiler","crayon","curl","datasets","DBI","dbplyr","digest","dplyr","ellipsis","evaluate","fansi","farver","fastmap","forcats","fs","generics","ggplot2","glue","graphics","grDevices","grid","gtable","haven","hms","htmltools","htmlwidgets","httpuv","httr","jsonlite","knitr","labeling","later","learnr","lifecycle","lubridate","magrittr","markdown","methods","mime","modelr","munsell","pillar","pkgconfig","processx","promises","ps","purrr","R6","Rcpp","readr","readxl","reprex","rlang","rmarkdown","rprojroot","rstudioapi","rvest","scales","shiny","stats","stringi","stringr","tibble","tidyr","tidyselect","tidyverse","tools","utils","vctrs","webshot","withr","xfun","xml2","xtable","yaml"]},{"type":"character","attributes":{},"value":["0.2.1","1.2.1","4.0.3","0.7.3","3.5.1","1.1.0","2.2.0","2.0-0","4.0.3","1.3.4","4.3","4.0.3","1.1.0","2.0.0","0.6.27","1.0.2","0.3.1","0.14","0.4.1","2.0.3","1.0.1","0.5.0","1.5.0","0.1.0","3.3.3","1.4.2","4.0.3","4.0.3","4.0.3","0.3.0","2.3.1","0.5.3","0.5.0.9003","1.5.3","1.5.4","1.4.2","1.7.2","1.30","0.4.2","1.1.0.1","0.10.1.9006","0.2.0","1.7.9.2","2.0.1","1.1","4.0.3","0.9","0.1.8","0.5.0","1.4.7","2.0.3","3.4.5","1.1.1.9001","1.5.0","0.3.4","2.5.0","1.0.5","1.4.0","1.3.1","0.3.0","0.4.10","2.6.4","2.0.2","0.13.0-9000","0.3.6","1.1.1","1.5.0","4.0.3","1.5.3","1.4.0","3.0.4","1.1.2","1.1.0","1.3.0","4.0.3","4.0.3","0.3.6","0.5.2","2.3.0","0.19","1.3.2","1.8-4","2.2.1"]}]}]}
</script>
<!--/html_preserve-->
</div>
</div>
</div>

</div> <!-- topics -->

<div class="topicsContainer">
<div class="topicsPositioner">
<div class="band">
<div class="bandContent topicsListContainer">

<!-- begin doc-metadata -->
<div id="doc-metadata">
<h2 class="title toc-ignore" style="display:none;">2: Inputs, outputs, and rendering functions</h2>
<h3 class="subtitle"><em>Relating inputs to rendering functions to outputs &amp; build on one app over the chapter</em></h3>
</div>
<!-- end doc-metadata -->

</div> <!-- bandContent.topicsListContainer -->
</div> <!-- band -->
</div> <!-- topicsPositioner -->
</div> <!-- topicsContainer -->


</div> <!-- bandContent page -->
</div> <!-- pageContent band -->




<script>
// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});
</script>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>


</body>

</html>
