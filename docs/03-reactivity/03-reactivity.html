<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />



<meta name="progressive" content="true" />
<meta name="allow-skip" content="true" />

<title>3: Reactive programming</title>

<link rel="icon" type="image/png" href="images/favicon.ico"/>

<!--Bootstrap-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>


<!--Clipboard JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<script>

/* Clipboard --------------------------*/
/* This copy-paste button (with tooltips) requires ClipboardJS, JQuery, & Bootstrap JS, linked in head_includes.html */

$(document).ready(function() {

  function changeTooltipMessage(element, msg) {
    var tooltipOriginalTitle=element.getAttribute('data-original-title');
    element.setAttribute('data-original-title', msg);
    $(element).tooltip('show');
    element.setAttribute('data-original-title', tooltipOriginalTitle);
  }

  if(ClipboardJS.isSupported()) {
    $(document).ready(function() {
      var copyButton = "<button type='button' class='btn btn-primary btn-copy-ex' type = 'submit' title='Copy to clipboard' aria-label='Copy to clipboard' data-toggle='tooltip' data-placement='left auto' data-trigger='hover' data-clipboard-copy><i class='fa fa-copy'></i></button>";

      $(".sourceCode > pre").addClass("hasCopyButton");

      // Insert copy buttons:
      $(copyButton).prependTo(".hasCopyButton");

      // Initialize tooltips:
      $('.btn-copy-ex').tooltip({container: 'body'});

      // Initialize clipboard:
      var clipboardBtnCopies = new ClipboardJS('[data-clipboard-copy]', {
        text: function(trigger) {
          return trigger.parentNode.textContent;
        }
      });

      clipboardBtnCopies.on('success', function(e) {
        changeTooltipMessage(e.trigger, 'Copied!');
        e.clearSelection();
      });

      clipboardBtnCopies.on('error', function() {
        changeTooltipMessage(e.trigger,'Press Ctrl+C or Command+C to copy');
      });
    });
  }
})

</script>

<!-- highlightjs -->
<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>

<!-- taken from https://github.com/rstudio/rmarkdown/blob/67b7f5fc779e4cfdfd0f021d3d7745b6b6e17149/inst/rmd/h/default.html#L296-L362 -->
<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>
<!-- end tabsets -->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />

</head>

<body>


<style type="text/css">
  /* padding for bootstrap navbar */
  body {
    padding-top: 64px;
    padding-bottom: 40px;
  }
/* offset scroll position for anchor links (for fixed navbar)  */
  .section h1 {
    padding-top: 69px;
    margin-top: -69px;
  }
.section h2 {
  padding-top: 69px;
  margin-top: -69px;
}
.section h3 {
  padding-top: 69px;
  margin-top: -69px;
}
.section h4 {
  padding-top: 69px;
  margin-top: -69px;
}
.section h5 {
  padding-top: 69px;
  margin-top: -69px;
}
.section h6 {
  padding-top: 69px;
  margin-top: -69px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
    margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>


<div class="container-fluid main-container">
  <div class="row-fluid">
    <div class="col-xs-12 col-sm-4 col-md-3">
      <div id="TOC" class="tocify">
      </div>
    </div>

    <div class="toc-content col-xs-12 col-sm-8 col-md-9">

    <div class="navbar navbar-default  navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="index.html"> </a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li>
              <a href="https://rstudio-education.github.io/shiny-course/">
                <span class="fa fa-home"></span>
              </a>
            </li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li>
              <a href="https://minecr.shinyapps.io/01-hello/">Module 1</a>
            </li>
            <li>
              <a href="https://minecr.shinyapps.io/02-flow/">Module 2</a>
            </li>
            <li>
              <a href="https://minecr.shinyapps.io/03-reactivity/">Module 3</a>
            </li>
            <li>
              <a href="https://minecr.shinyapps.io/04-ui/">Module 4</a>
            </li>
          </ul>
        </div><!--/.nav-collapse -->
      </div><!--/.container -->
    </div><!--/.navbar -->
  </div>
</div>

<div class="pageContent band">
<div class="bandContent page">

<div class="topics">

<div id="section-reactive-elements" class="section level2">
<h2>3.1 Reactive elements</h2>
<div id="section-reactive-objects" class="section level3">
<h3>Reactive objects</h3>
<p>In this section we discuss reactivity in a bit more detail.</p>
<p>Three components of reactive execution in Shiny are</p>
<ul>
<li>reactive inputs,</li>
<li>reactive expressions, and</li>
<li>reactive outputs.</li>
</ul>
<p>We’re going to denote them with these symbols:</p>
<p><img src="images/input-expression-output.png" width="60%" style="display: block; margin: auto;" /></p>
</div>
<div id="section-reactive-inputs-and-outputs" class="section level3">
<h3>Reactive inputs and outputs</h3>
<p><img src="images/input-output.png" width="40%" style="display: block; margin: auto;" /></p>
<ul>
<li>A <strong>reactive input</strong> is a user input that comes through a browser interface, typically.</li>
<li>A <strong>reactive output</strong> is something that appears in the user’s browser window, such as a plot or a table of values.</li>
<li>One reactive input can be connected to multiple outputs, and vice versa. For example we might have a UI input widget for filtering out data based on user’s selection, and the filtered data can be used in multiple outputs like plots and summaries.</li>
</ul>
</div>
<div id="section-reactive-expressions" class="section level3">
<h3>Reactive expressions</h3>
<p>A <strong>reactive expressions</strong> is component between an input and an output.<br />
It can both be a dependent (i.e be a child) and have dependents (i.e. be a parent).</p>
<p><img src="images/input-expression-outputs.png" width="40%" style="display: block; margin: auto;" /></p>
<div class="panel panel-default">
<div data-label="mc-parents-children" class="tutorial-question panel-body">
<div id="mc-parents-children-answer_container" class="shiny-html-output"></div>
<div id="mc-parents-children-message_container" class="shiny-html-output"></div>
<div id="mc-parents-children-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
</div>
<div id="section-section" class="section level3">
<h3></h3>
<p>To illustrate reactivity we’re going to start with this app once again</p>
<p><img src="images/app-selectinput-scatterplot.png" width="80%" style="display: block; margin: auto;" /></p>
</div>
<div id="section-section-1" class="section level3">
<h3></h3>
<p>And end up with an app that…</p>
<ul>
<li>lets the user subset the data by movie type</li>
<li>updates the plot for those selected movie types</li>
<li>and display some text noting the number of movies in the selection</li>
</ul>
<p><img src="images/app-scatterplot-text.png" width="80%" style="display: block; margin: auto;" /></p>
<p>The subsetted movies data frame gets used in two places, plot and text outputs. Hence, we we’re going to make use of reactive expressions to build this app.</p>
</div>
<div id="section-ui-add-a-ui-element-for-the-user-to-select-which-movie-types-of-moves-they-want-to-plot-with-selectinput." class="section level3">
<h3>1. <strong>ui:</strong> Add a UI element for the user to select which movie type(s) of moves they want to plot with <code>selectInput()</code>.</h3>
<p><img src="images/input.png" width="10%" style="display: block; margin: auto auto auto 0;" /></p>
<div class="sourceCode" id="section-cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb1-1"><a href="#section-cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Select which types of movies to plot</span></span>
<span id="section-cb1-2"><a href="#section-cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">selectInput</span>(</span>
<span id="section-cb1-3"><a href="#section-cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">inputId =</span> <span class="st">&quot;selected_type&quot;</span>,</span>
<span id="section-cb1-4"><a href="#section-cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">label =</span> <span class="st">&quot;Select movie type:&quot;</span>,</span>
<span id="section-cb1-5"><a href="#section-cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">choices =</span> <span class="fu">levels</span>(movies<span class="sc">$</span>title_type),</span>
<span id="section-cb1-6"><a href="#section-cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">selected =</span> <span class="st">&quot;Feature Film&quot;</span></span>
<span id="section-cb1-7"><a href="#section-cb1-7" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<ul>
<li>We define an <code>inputId()</code> that we’ll use to refer to the input element to later in the app</li>
<li>We come up with a user facing <code>label</code></li>
<li>We specify the choices users can select from,</li>
<li>as well as a default choice</li>
</ul>
</div>
<div id="section-server-filter-for-chosen-title-type-and-save-the-new-data-frame-as-a-reactive-expression." class="section level3">
<h3>2. <strong>server:</strong> Filter for chosen title type and save the new data frame as a reactive expression.</h3>
<p>Next, we filter for selected title type and save the new data frame as a reactive expression using the <code>reactive()</code> function.</p>
<p><img src="images/expression.png" width="10%" style="display: block; margin: auto auto auto 0;" /></p>
<div class="sourceCode" id="section-cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb2-1"><a href="#section-cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a subset of data filtering for chosen title types</span></span>
<span id="section-cb2-2"><a href="#section-cb2-2" aria-hidden="true" tabindex="-1"></a>movies_subset <span class="ot">&lt;-</span> <span class="fu">reactive</span>({</span>
<span id="section-cb2-3"><a href="#section-cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">req</span>(input<span class="sc">$</span>selected_type)</span>
<span id="section-cb2-4"><a href="#section-cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(movies, title_type <span class="sc">%in%</span> input<span class="sc">$</span>selected_type)</span>
<span id="section-cb2-5"><a href="#section-cb2-5" aria-hidden="true" tabindex="-1"></a>})</span></code></pre></div>
<p>This function creates a <strong>cached expression</strong> that knows it is out of date when its input changes. So you, the Shiny developer, do not need to worry about keeping track of when the input changes, Shiny automatically does that for you.</p>
<p>Two more things to note here:</p>
<ol style="list-style-type: decimal">
<li>Before we do any calculations that depends on <code>input$selected_type</code>, we check its availability with the <code>req()</code> function, and</li>
<li>We surround the expression with curly braces</li>
</ol>
</div>
<div id="section-server-use-movies_subset-which-is-reactive-for-plotting." class="section level3">
<h3>3. <strong>server:</strong> Use <code>movies_subset</code> (which is reactive) for plotting.</h3>
<p>The next two steps could happen in either order. Let’s start with the plot first.</p>
<p><img src="images/output.png" width="10%" style="display: block; margin: auto auto auto 0;" /></p>
<div class="sourceCode" id="section-cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb3-1"><a href="#section-cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create scatterplot</span></span>
<span id="section-cb3-2"><a href="#section-cb3-2" aria-hidden="true" tabindex="-1"></a>output<span class="sc">$</span>scatterplot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="section-cb3-3"><a href="#section-cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">data =</span> <span class="fu">movies_subset</span>(),<span class="fu">aes_string</span>(<span class="at">x =</span> input<span class="sc">$</span>x, <span class="at">y =</span> input<span class="sc">$</span>y)) <span class="sc">+</span></span>
<span id="section-cb3-4"><a href="#section-cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>()</span>
<span id="section-cb3-5"><a href="#section-cb3-5" aria-hidden="true" tabindex="-1"></a>})</span></code></pre></div>
<p>You should be familiar with creating plots using the <code>renderPlot()</code> function by now. But there is something new here. The data frame we’re using is no longer movies, but the new reactive expression we created. And because it’s reactive we refer to it with parentheses after its name. This is, once again, a cached expression, meaning that it will only rerun when its inputs change.</p>
</div>
<div id="section-ui-server-use-movies_subset-which-is-reactive-for-printing-number-of-observations." class="section level3">
<h3>3. <strong>ui</strong> &amp; <strong>server:</strong> Use movies_subset (which is reactive) for printing number of observations.</h3>
<p><img src="images/output.png" width="10%" style="display: block; margin: auto auto auto 0;" /></p>
<p>And lastly we create the text stating the number of observations in the selection. The obvious choice for creating this output would be <code>renderText()</code>. But I feel like getting a little fancier with this one. Suppose we know a bit of HTML – which is true, I really only know a bit of HTML – and I want to use some text decoration, like bolding and line breaks in my text output. So we need a rendering function that generates HTML, which is <code>renderUI()</code>.</p>
<div class="sourceCode" id="section-cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb4-1"><a href="#section-cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ui - Lay out where text should appear on app</span></span>
<span id="section-cb4-2"><a href="#section-cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mainPanel</span>( </span>
<span id="section-cb4-3"><a href="#section-cb4-3" aria-hidden="true" tabindex="-1"></a>  ...</span>
<span id="section-cb4-4"><a href="#section-cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Print number of obs plotted</span></span>
<span id="section-cb4-5"><a href="#section-cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">uiOutput</span>(<span class="at">outputId =</span> <span class="st">&quot;n&quot;</span>), </span>
<span id="section-cb4-6"><a href="#section-cb4-6" aria-hidden="true" tabindex="-1"></a>  ...</span>
<span id="section-cb4-7"><a href="#section-cb4-7" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<div class="sourceCode" id="section-cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb5-1"><a href="#section-cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># server - Print number of movies plotted</span></span>
<span id="section-cb5-2"><a href="#section-cb5-2" aria-hidden="true" tabindex="-1"></a>output<span class="sc">$</span>n <span class="ot">&lt;-</span> <span class="fu">renderUI</span>({</span>
<span id="section-cb5-3"><a href="#section-cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">HTML</span>(<span class="fu">paste0</span>(</span>
<span id="section-cb5-4"><a href="#section-cb5-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;The plot displays the relationship between the &lt;br&gt;</span></span>
<span id="section-cb5-5"><a href="#section-cb5-5" aria-hidden="true" tabindex="-1"></a><span class="st">              audience and critics&#39; scores of &lt;br&gt;&quot;</span>,</span>
<span id="section-cb5-6"><a href="#section-cb5-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">nrow</span>(<span class="fu">movies_subset</span>()),</span>
<span id="section-cb5-7"><a href="#section-cb5-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot; &lt;b&gt;&quot;</span>, input<span class="sc">$</span>selected_type, <span class="st">&quot;&lt;/b&gt; movies.&quot;</span></span>
<span id="section-cb5-8"><a href="#section-cb5-8" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="section-cb5-9"><a href="#section-cb5-9" aria-hidden="true" tabindex="-1"></a>})</span></code></pre></div>
<p>We use the <code>paste()</code> function to string along the text of the sentence we want displayed on the app. This sentence depends on the value of the number of rows of the <code>movies_subset</code> reactive expression we created earlier, as well as <code>input$selected</code> type.</p>
<p>Using simple HTML we add some decoration to the text, and finally wrap the whole thing up in a function that marks the given text as HTML.</p>
<p>Then on the ui side, we use the counterpart <code>uiOutput()</code> function to lay out the text on the app.</p>
</div>
</div>
<div id="section-practice" class="section level2">
<h2>3.1 Practice</h2>
<div id="section-add-reactive-data-frame" class="section level3">
<h3>Add reactive data frame</h3>
<p>We ended the previous chapter with an app that allows you to download a data file with selected variables from the <code>movies</code> dataset. We will now extend this app by adding a table output of the selected data as well. Given that the same dataset will be used in two outputs, it makes sense to make our code more efficient by using a reactive data frame.</p>
<p>Extend app by adding reactive data frame, which is a subset, that is used in the plot.</p>
<div id="section-your-turn" class="section level4">
<h4>Your turn</h4>
<ul>
<li>Define <code>movies_selected</code>: a reactive data frame consisting of selected variables (<code>input$selected_var</code>).</li>
<li>Use the newly constructed <code>movies_selected</code> reactive data frame to avoid reconstructing the subsetted data frame multiple times throughout the app.</li>
</ul>
<div class="proj">
<p><em>Complete the exercise by navigating to the RStudio Cloud Project titled <strong>3-1 Add reactive data frame</strong> in your RStudio Workspace</em></p>
<p><a href="https://rstudio.cloud/spaces/81721/join?access_code=I4VJaNsKfTqR3Td9hLP7E1nz8%2FtMg6Xbw9Bgqumv" class="btn test-drive"><i class="fa fa-cloud"></i> Go to RStudio Cloud Project</a></p>
</div>
<div class="sourceCode" id="section-cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb6-1"><a href="#section-cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load packages ----------------------------------------------------------------</span></span>
<span id="section-cb6-2"><a href="#section-cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb6-3"><a href="#section-cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="section-cb6-4"><a href="#section-cb6-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="section-cb6-5"><a href="#section-cb6-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="section-cb6-6"><a href="#section-cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb6-7"><a href="#section-cb6-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Load data --------------------------------------------------------------------</span></span>
<span id="section-cb6-8"><a href="#section-cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb6-9"><a href="#section-cb6-9" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;movies.RData&quot;</span>)</span>
<span id="section-cb6-10"><a href="#section-cb6-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb6-11"><a href="#section-cb6-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Define UI --------------------------------------------------------------------</span></span>
<span id="section-cb6-12"><a href="#section-cb6-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb6-13"><a href="#section-cb6-13" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="section-cb6-14"><a href="#section-cb6-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sidebarLayout</span>(</span>
<span id="section-cb6-15"><a href="#section-cb6-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sidebarPanel</span>(</span>
<span id="section-cb6-16"><a href="#section-cb6-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">radioButtons</span>(</span>
<span id="section-cb6-17"><a href="#section-cb6-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">inputId =</span> <span class="st">&quot;filetype&quot;</span>,</span>
<span id="section-cb6-18"><a href="#section-cb6-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="st">&quot;Select filetype:&quot;</span>,</span>
<span id="section-cb6-19"><a href="#section-cb6-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">&quot;csv&quot;</span>, <span class="st">&quot;tsv&quot;</span>),</span>
<span id="section-cb6-20"><a href="#section-cb6-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">selected =</span> <span class="st">&quot;csv&quot;</span></span>
<span id="section-cb6-21"><a href="#section-cb6-21" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="section-cb6-22"><a href="#section-cb6-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb6-23"><a href="#section-cb6-23" aria-hidden="true" tabindex="-1"></a>      <span class="fu">checkboxGroupInput</span>(</span>
<span id="section-cb6-24"><a href="#section-cb6-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">inputId =</span> <span class="st">&quot;selected_var&quot;</span>,</span>
<span id="section-cb6-25"><a href="#section-cb6-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="st">&quot;Select variables:&quot;</span>,</span>
<span id="section-cb6-26"><a href="#section-cb6-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">choices =</span> <span class="fu">names</span>(movies),</span>
<span id="section-cb6-27"><a href="#section-cb6-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">selected =</span> <span class="fu">c</span>(<span class="st">&quot;title&quot;</span>)</span>
<span id="section-cb6-28"><a href="#section-cb6-28" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="section-cb6-29"><a href="#section-cb6-29" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="section-cb6-30"><a href="#section-cb6-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb6-31"><a href="#section-cb6-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mainPanel</span>(</span>
<span id="section-cb6-32"><a href="#section-cb6-32" aria-hidden="true" tabindex="-1"></a>      <span class="fu">dataTableOutput</span>(<span class="at">outputId =</span> <span class="st">&quot;moviestable&quot;</span>),</span>
<span id="section-cb6-33"><a href="#section-cb6-33" aria-hidden="true" tabindex="-1"></a>      <span class="fu">downloadButton</span>(<span class="st">&quot;download_data&quot;</span>, <span class="st">&quot;Download data&quot;</span>)</span>
<span id="section-cb6-34"><a href="#section-cb6-34" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="section-cb6-35"><a href="#section-cb6-35" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="section-cb6-36"><a href="#section-cb6-36" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="section-cb6-37"><a href="#section-cb6-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb6-38"><a href="#section-cb6-38" aria-hidden="true" tabindex="-1"></a><span class="co"># Define server ----------------------------------------------------------------</span></span>
<span id="section-cb6-39"><a href="#section-cb6-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb6-40"><a href="#section-cb6-40" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="section-cb6-41"><a href="#section-cb6-41" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="section-cb6-42"><a href="#section-cb6-42" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create reactive data frame</span></span>
<span id="section-cb6-43"><a href="#section-cb6-43" aria-hidden="true" tabindex="-1"></a>  movies_selected <span class="ot">&lt;-</span> ___</span>
<span id="section-cb6-44"><a href="#section-cb6-44" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="section-cb6-45"><a href="#section-cb6-45" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create data table</span></span>
<span id="section-cb6-46"><a href="#section-cb6-46" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>moviestable <span class="ot">&lt;-</span> DT<span class="sc">::</span><span class="fu">renderDataTable</span>({</span>
<span id="section-cb6-47"><a href="#section-cb6-47" aria-hidden="true" tabindex="-1"></a>    <span class="fu">req</span>(input<span class="sc">$</span>selected_var)</span>
<span id="section-cb6-48"><a href="#section-cb6-48" aria-hidden="true" tabindex="-1"></a>    <span class="fu">datatable</span>(</span>
<span id="section-cb6-49"><a href="#section-cb6-49" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> movies <span class="sc">%&gt;%</span> <span class="fu">select</span>(input<span class="sc">$</span>selected_var),</span>
<span id="section-cb6-50"><a href="#section-cb6-50" aria-hidden="true" tabindex="-1"></a>      <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">10</span>),</span>
<span id="section-cb6-51"><a href="#section-cb6-51" aria-hidden="true" tabindex="-1"></a>      <span class="at">rownames =</span> <span class="cn">FALSE</span></span>
<span id="section-cb6-52"><a href="#section-cb6-52" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="section-cb6-53"><a href="#section-cb6-53" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="section-cb6-54"><a href="#section-cb6-54" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="section-cb6-55"><a href="#section-cb6-55" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Download file</span></span>
<span id="section-cb6-56"><a href="#section-cb6-56" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>download_data <span class="ot">&lt;-</span> <span class="fu">downloadHandler</span>(</span>
<span id="section-cb6-57"><a href="#section-cb6-57" aria-hidden="true" tabindex="-1"></a>    <span class="at">filename =</span> <span class="cf">function</span>() {</span>
<span id="section-cb6-58"><a href="#section-cb6-58" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(<span class="st">&quot;movies.&quot;</span>, input<span class="sc">$</span>filetype)</span>
<span id="section-cb6-59"><a href="#section-cb6-59" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="section-cb6-60"><a href="#section-cb6-60" aria-hidden="true" tabindex="-1"></a>    <span class="at">content =</span> <span class="cf">function</span>(file) {</span>
<span id="section-cb6-61"><a href="#section-cb6-61" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (input<span class="sc">$</span>filetype <span class="sc">==</span> <span class="st">&quot;csv&quot;</span>) {</span>
<span id="section-cb6-62"><a href="#section-cb6-62" aria-hidden="true" tabindex="-1"></a>        <span class="fu">write_csv</span>(movies <span class="sc">%&gt;%</span> <span class="fu">select</span>(input<span class="sc">$</span>selected_var), file)</span>
<span id="section-cb6-63"><a href="#section-cb6-63" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="section-cb6-64"><a href="#section-cb6-64" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (input<span class="sc">$</span>filetype <span class="sc">==</span> <span class="st">&quot;tsv&quot;</span>) {</span>
<span id="section-cb6-65"><a href="#section-cb6-65" aria-hidden="true" tabindex="-1"></a>        <span class="fu">write_tsv</span>(movies <span class="sc">%&gt;%</span> <span class="fu">select</span>(input<span class="sc">$</span>selected_var), file)</span>
<span id="section-cb6-66"><a href="#section-cb6-66" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="section-cb6-67"><a href="#section-cb6-67" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="section-cb6-68"><a href="#section-cb6-68" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="section-cb6-69"><a href="#section-cb6-69" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="section-cb6-70"><a href="#section-cb6-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb6-71"><a href="#section-cb6-71" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the Shiny app object --------------------------------------------------</span></span>
<span id="section-cb6-72"><a href="#section-cb6-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb6-73"><a href="#section-cb6-73" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code></pre></div>
<details>
<summary>
Show solution
</summary>
<div class="sourceCode" id="section-cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb7-1"><a href="#section-cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load packages ----------------------------------------------------------------</span></span>
<span id="section-cb7-2"><a href="#section-cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb7-3"><a href="#section-cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="section-cb7-4"><a href="#section-cb7-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="section-cb7-5"><a href="#section-cb7-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="section-cb7-6"><a href="#section-cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb7-7"><a href="#section-cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Load data --------------------------------------------------------------------</span></span>
<span id="section-cb7-8"><a href="#section-cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb7-9"><a href="#section-cb7-9" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;movies.RData&quot;</span>)</span>
<span id="section-cb7-10"><a href="#section-cb7-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb7-11"><a href="#section-cb7-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Define UI --------------------------------------------------------------------</span></span>
<span id="section-cb7-12"><a href="#section-cb7-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb7-13"><a href="#section-cb7-13" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="section-cb7-14"><a href="#section-cb7-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sidebarLayout</span>(</span>
<span id="section-cb7-15"><a href="#section-cb7-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sidebarPanel</span>(</span>
<span id="section-cb7-16"><a href="#section-cb7-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">radioButtons</span>(</span>
<span id="section-cb7-17"><a href="#section-cb7-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">inputId =</span> <span class="st">&quot;filetype&quot;</span>,</span>
<span id="section-cb7-18"><a href="#section-cb7-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="st">&quot;Select filetype:&quot;</span>,</span>
<span id="section-cb7-19"><a href="#section-cb7-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">&quot;csv&quot;</span>, <span class="st">&quot;tsv&quot;</span>),</span>
<span id="section-cb7-20"><a href="#section-cb7-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">selected =</span> <span class="st">&quot;csv&quot;</span></span>
<span id="section-cb7-21"><a href="#section-cb7-21" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="section-cb7-22"><a href="#section-cb7-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb7-23"><a href="#section-cb7-23" aria-hidden="true" tabindex="-1"></a>      <span class="fu">checkboxGroupInput</span>(</span>
<span id="section-cb7-24"><a href="#section-cb7-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">inputId =</span> <span class="st">&quot;selected_var&quot;</span>,</span>
<span id="section-cb7-25"><a href="#section-cb7-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="st">&quot;Select variables:&quot;</span>,</span>
<span id="section-cb7-26"><a href="#section-cb7-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">choices =</span> <span class="fu">names</span>(movies),</span>
<span id="section-cb7-27"><a href="#section-cb7-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">selected =</span> <span class="fu">c</span>(<span class="st">&quot;title&quot;</span>)</span>
<span id="section-cb7-28"><a href="#section-cb7-28" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="section-cb7-29"><a href="#section-cb7-29" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="section-cb7-30"><a href="#section-cb7-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb7-31"><a href="#section-cb7-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mainPanel</span>(</span>
<span id="section-cb7-32"><a href="#section-cb7-32" aria-hidden="true" tabindex="-1"></a>      <span class="fu">dataTableOutput</span>(<span class="at">outputId =</span> <span class="st">&quot;moviestable&quot;</span>),</span>
<span id="section-cb7-33"><a href="#section-cb7-33" aria-hidden="true" tabindex="-1"></a>      <span class="fu">downloadButton</span>(<span class="st">&quot;download_data&quot;</span>, <span class="st">&quot;Download data&quot;</span>)</span>
<span id="section-cb7-34"><a href="#section-cb7-34" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="section-cb7-35"><a href="#section-cb7-35" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="section-cb7-36"><a href="#section-cb7-36" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="section-cb7-37"><a href="#section-cb7-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb7-38"><a href="#section-cb7-38" aria-hidden="true" tabindex="-1"></a><span class="co"># Define server ----------------------------------------------------------------</span></span>
<span id="section-cb7-39"><a href="#section-cb7-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb7-40"><a href="#section-cb7-40" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="section-cb7-41"><a href="#section-cb7-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb7-42"><a href="#section-cb7-42" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create reactive data frame</span></span>
<span id="section-cb7-43"><a href="#section-cb7-43" aria-hidden="true" tabindex="-1"></a>  movies_selected <span class="ot">&lt;-</span> <span class="fu">reactive</span>({</span>
<span id="section-cb7-44"><a href="#section-cb7-44" aria-hidden="true" tabindex="-1"></a>    movies <span class="sc">%&gt;%</span> <span class="fu">select</span>(input<span class="sc">$</span>selected_var)</span>
<span id="section-cb7-45"><a href="#section-cb7-45" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="section-cb7-46"><a href="#section-cb7-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb7-47"><a href="#section-cb7-47" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create data table</span></span>
<span id="section-cb7-48"><a href="#section-cb7-48" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>moviestable <span class="ot">&lt;-</span> DT<span class="sc">::</span><span class="fu">renderDataTable</span>({</span>
<span id="section-cb7-49"><a href="#section-cb7-49" aria-hidden="true" tabindex="-1"></a>    <span class="fu">req</span>(input<span class="sc">$</span>selected_var)</span>
<span id="section-cb7-50"><a href="#section-cb7-50" aria-hidden="true" tabindex="-1"></a>    <span class="fu">datatable</span>(</span>
<span id="section-cb7-51"><a href="#section-cb7-51" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> <span class="fu">movies_selected</span>(),</span>
<span id="section-cb7-52"><a href="#section-cb7-52" aria-hidden="true" tabindex="-1"></a>      <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">10</span>),</span>
<span id="section-cb7-53"><a href="#section-cb7-53" aria-hidden="true" tabindex="-1"></a>      <span class="at">rownames =</span> <span class="cn">FALSE</span></span>
<span id="section-cb7-54"><a href="#section-cb7-54" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="section-cb7-55"><a href="#section-cb7-55" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="section-cb7-56"><a href="#section-cb7-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb7-57"><a href="#section-cb7-57" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Download file</span></span>
<span id="section-cb7-58"><a href="#section-cb7-58" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>download_data <span class="ot">&lt;-</span> <span class="fu">downloadHandler</span>(</span>
<span id="section-cb7-59"><a href="#section-cb7-59" aria-hidden="true" tabindex="-1"></a>    <span class="at">filename =</span> <span class="cf">function</span>() {</span>
<span id="section-cb7-60"><a href="#section-cb7-60" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(<span class="st">&quot;movies.&quot;</span>, input<span class="sc">$</span>filetype)</span>
<span id="section-cb7-61"><a href="#section-cb7-61" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="section-cb7-62"><a href="#section-cb7-62" aria-hidden="true" tabindex="-1"></a>    <span class="at">content =</span> <span class="cf">function</span>(file) {</span>
<span id="section-cb7-63"><a href="#section-cb7-63" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (input<span class="sc">$</span>filetype <span class="sc">==</span> <span class="st">&quot;csv&quot;</span>) {</span>
<span id="section-cb7-64"><a href="#section-cb7-64" aria-hidden="true" tabindex="-1"></a>        <span class="fu">write_csv</span>(<span class="fu">movies_selected</span>(), file)</span>
<span id="section-cb7-65"><a href="#section-cb7-65" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="section-cb7-66"><a href="#section-cb7-66" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (input<span class="sc">$</span>filetype <span class="sc">==</span> <span class="st">&quot;tsv&quot;</span>) {</span>
<span id="section-cb7-67"><a href="#section-cb7-67" aria-hidden="true" tabindex="-1"></a>        <span class="fu">write_tsv</span>(<span class="fu">movies_selected</span>(), file)</span>
<span id="section-cb7-68"><a href="#section-cb7-68" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="section-cb7-69"><a href="#section-cb7-69" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="section-cb7-70"><a href="#section-cb7-70" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="section-cb7-71"><a href="#section-cb7-71" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="section-cb7-72"><a href="#section-cb7-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb7-73"><a href="#section-cb7-73" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the Shiny app object --------------------------------------------------</span></span>
<span id="section-cb7-74"><a href="#section-cb7-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb7-75"><a href="#section-cb7-75" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code></pre></div>
</details>
</div>
</div>
<div id="section-identify-reactive-objects" class="section level3">
<h3>Identify reactive objects</h3>
<div class="panel panel-default">
<div data-label="mc-component" class="tutorial-question panel-body">
<div id="mc-component-answer_container" class="shiny-html-output"></div>
<div id="mc-component-message_container" class="shiny-html-output"></div>
<div id="mc-component-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
</div>
</div>
<div id="section-using-reactives" class="section level2">
<h2>3.2 Using reactives</h2>
<p>In this section we discuss why we use reactives.</p>
<div id="section-why-use-reactives" class="section level3">
<h3>Why use reactives?</h3>
<p>In the previous exercises we were able to reuse our subsetted data frame in multiple places in the server after defining it once as a reactive expression.</p>
<p>In general, reactive expressions help you avoid copy-and-paste code and let you not repeat yourself, and they also help decompose large and complex calculations into smaller pieces.</p>
<p>These benefits are similar to what happens when you decompose a large complex R script into a series of small functions that build on each other</p>
</div>
<div id="section-functions-vs.-reactives" class="section level3">
<h3>Functions vs. reactives</h3>
<p>While functions and reactives help accomplish similar goals in terms of not-repeating oneself, they’re different in implementation.</p>
<ul>
<li><p>Each time you call a function, R will evaluate it.</p></li>
<li><p>However reactive expressions are lazy, they only get executed when their input changes.</p>
<ul>
<li>This means that even if you call a reactive expression multiple times in your app, it will only re-execute when its inputs change.</li>
</ul></li>
</ul>
</div>
<div id="section-reactlog" class="section level3">
<h3>Reactlog</h3>
<p>Using many reactive expressions in your app can create a complicated dependency structure in your app.</p>
<p>The <strong>reactlog</strong> is a graphical representation of this dependency structure, and it also gives you very detailed information about what’s happening under the hood as Shiny evaluates your application.</p>
<p>To view the reactlog:</p>
<ul>
<li>Start a fresh R session, and run <code>options(shiny.reactlog = TRUE)</code></li>
<li>Then launch your app as you normally would</li>
<li>and in the app press <code>Ctrl + F3</code> (or on a Mac: <code>Cmd + F3</code>).</li>
</ul>
</div>
<div id="section-section-2" class="section level3">
<h3></h3>
<p>The reactlog for the app we developed in the previous section looks like this. It uses the icons for reactive inputs, expressions, and outputs that we saw earlier in the course.</p>
<p><img src="images/reactlog.png" width="80%" style="display: block; margin: auto;" /></p>
<ul>
<li>Outputs are at the end of the reactive flow.</li>
<li>Inputs are at the beginning.<br />
</li>
<li><code>movies_subset()</code> is a reactive expression in between the input and the outputs.</li>
</ul>
<p>This visualization also makes it easy to view the inputs the reactive expression depends on and the output that depend on it.</p>
</div>
</div>
<div id="section-practice-1" class="section level2">
<h2>3.2 Practice</h2>
<div id="section-find-missing-reactives" class="section level3">
<h3>Find missing reactives</h3>
<p>In the following app code there are a number of spots where reactives are not used properly.</p>
<div id="section-your-turn-1" class="section level4">
<h4>Your turn</h4>
<p>Debug the app, making sure reactives are being used correctly.</p>
<div class="proj">
<p><em>Complete the exercise by navigating to the RStudio Cloud Project titled <strong>3-2a Find missing reactives</strong> in your RStudio Workspace</em></p>
<p><a href="https://rstudio.cloud/spaces/81721/join?access_code=I4VJaNsKfTqR3Td9hLP7E1nz8%2FtMg6Xbw9Bgqumv" class="btn test-drive"><i class="fa fa-cloud"></i> Go to RStudio Cloud Project</a></p>
</div>
<div class="sourceCode" id="section-cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb8-1"><a href="#section-cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load packages ----------------------------------------------------------------</span></span>
<span id="section-cb8-2"><a href="#section-cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb8-3"><a href="#section-cb8-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="section-cb8-4"><a href="#section-cb8-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="section-cb8-5"><a href="#section-cb8-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="section-cb8-6"><a href="#section-cb8-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tools)</span>
<span id="section-cb8-7"><a href="#section-cb8-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb8-8"><a href="#section-cb8-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Load data --------------------------------------------------------------------</span></span>
<span id="section-cb8-9"><a href="#section-cb8-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb8-10"><a href="#section-cb8-10" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;movies.RData&quot;</span>)</span>
<span id="section-cb8-11"><a href="#section-cb8-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb8-12"><a href="#section-cb8-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Define UI --------------------------------------------------------------------</span></span>
<span id="section-cb8-13"><a href="#section-cb8-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb8-14"><a href="#section-cb8-14" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="section-cb8-15"><a href="#section-cb8-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">titlePanel</span>(<span class="st">&quot;Movie browser&quot;</span>),</span>
<span id="section-cb8-16"><a href="#section-cb8-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb8-17"><a href="#section-cb8-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sidebarLayout</span>(</span>
<span id="section-cb8-18"><a href="#section-cb8-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sidebarPanel</span>(</span>
<span id="section-cb8-19"><a href="#section-cb8-19" aria-hidden="true" tabindex="-1"></a>      <span class="fu">selectInput</span>(</span>
<span id="section-cb8-20"><a href="#section-cb8-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">inputId =</span> <span class="st">&quot;y&quot;</span>,</span>
<span id="section-cb8-21"><a href="#section-cb8-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="st">&quot;Y-axis:&quot;</span>,</span>
<span id="section-cb8-22"><a href="#section-cb8-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">choices =</span> <span class="fu">c</span>(</span>
<span id="section-cb8-23"><a href="#section-cb8-23" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;IMDB rating&quot;</span> <span class="ot">=</span> <span class="st">&quot;imdb_rating&quot;</span>,</span>
<span id="section-cb8-24"><a href="#section-cb8-24" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;IMDB number of votes&quot;</span> <span class="ot">=</span> <span class="st">&quot;imdb_num_votes&quot;</span>,</span>
<span id="section-cb8-25"><a href="#section-cb8-25" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Critics Score&quot;</span> <span class="ot">=</span> <span class="st">&quot;critics_score&quot;</span>,</span>
<span id="section-cb8-26"><a href="#section-cb8-26" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Audience Score&quot;</span> <span class="ot">=</span> <span class="st">&quot;audience_score&quot;</span>,</span>
<span id="section-cb8-27"><a href="#section-cb8-27" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Runtime&quot;</span> <span class="ot">=</span> <span class="st">&quot;runtime&quot;</span></span>
<span id="section-cb8-28"><a href="#section-cb8-28" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="section-cb8-29"><a href="#section-cb8-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">selected =</span> <span class="st">&quot;audience_score&quot;</span></span>
<span id="section-cb8-30"><a href="#section-cb8-30" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="section-cb8-31"><a href="#section-cb8-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb8-32"><a href="#section-cb8-32" aria-hidden="true" tabindex="-1"></a>      <span class="fu">selectInput</span>(</span>
<span id="section-cb8-33"><a href="#section-cb8-33" aria-hidden="true" tabindex="-1"></a>        <span class="at">inputId =</span> <span class="st">&quot;x&quot;</span>,</span>
<span id="section-cb8-34"><a href="#section-cb8-34" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="st">&quot;X-axis:&quot;</span>,</span>
<span id="section-cb8-35"><a href="#section-cb8-35" aria-hidden="true" tabindex="-1"></a>        <span class="at">choices =</span> <span class="fu">c</span>(</span>
<span id="section-cb8-36"><a href="#section-cb8-36" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;IMDB rating&quot;</span> <span class="ot">=</span> <span class="st">&quot;imdb_rating&quot;</span>,</span>
<span id="section-cb8-37"><a href="#section-cb8-37" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;IMDB number of votes&quot;</span> <span class="ot">=</span> <span class="st">&quot;imdb_num_votes&quot;</span>,</span>
<span id="section-cb8-38"><a href="#section-cb8-38" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Critics Score&quot;</span> <span class="ot">=</span> <span class="st">&quot;critics_score&quot;</span>,</span>
<span id="section-cb8-39"><a href="#section-cb8-39" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Audience Score&quot;</span> <span class="ot">=</span> <span class="st">&quot;audience_score&quot;</span>,</span>
<span id="section-cb8-40"><a href="#section-cb8-40" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Runtime&quot;</span> <span class="ot">=</span> <span class="st">&quot;runtime&quot;</span></span>
<span id="section-cb8-41"><a href="#section-cb8-41" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="section-cb8-42"><a href="#section-cb8-42" aria-hidden="true" tabindex="-1"></a>        <span class="at">selected =</span> <span class="st">&quot;critics_score&quot;</span></span>
<span id="section-cb8-43"><a href="#section-cb8-43" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="section-cb8-44"><a href="#section-cb8-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb8-45"><a href="#section-cb8-45" aria-hidden="true" tabindex="-1"></a>      <span class="fu">selectInput</span>(</span>
<span id="section-cb8-46"><a href="#section-cb8-46" aria-hidden="true" tabindex="-1"></a>        <span class="at">inputId =</span> <span class="st">&quot;z&quot;</span>,</span>
<span id="section-cb8-47"><a href="#section-cb8-47" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="st">&quot;Color by:&quot;</span>,</span>
<span id="section-cb8-48"><a href="#section-cb8-48" aria-hidden="true" tabindex="-1"></a>        <span class="at">choices =</span> <span class="fu">c</span>(</span>
<span id="section-cb8-49"><a href="#section-cb8-49" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Title Type&quot;</span> <span class="ot">=</span> <span class="st">&quot;title_type&quot;</span>,</span>
<span id="section-cb8-50"><a href="#section-cb8-50" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Genre&quot;</span> <span class="ot">=</span> <span class="st">&quot;genre&quot;</span>,</span>
<span id="section-cb8-51"><a href="#section-cb8-51" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;MPAA Rating&quot;</span> <span class="ot">=</span> <span class="st">&quot;mpaa_rating&quot;</span>,</span>
<span id="section-cb8-52"><a href="#section-cb8-52" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Critics Rating&quot;</span> <span class="ot">=</span> <span class="st">&quot;critics_rating&quot;</span>,</span>
<span id="section-cb8-53"><a href="#section-cb8-53" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Audience Rating&quot;</span> <span class="ot">=</span> <span class="st">&quot;audience_rating&quot;</span></span>
<span id="section-cb8-54"><a href="#section-cb8-54" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="section-cb8-55"><a href="#section-cb8-55" aria-hidden="true" tabindex="-1"></a>        <span class="at">selected =</span> <span class="st">&quot;mpaa_rating&quot;</span></span>
<span id="section-cb8-56"><a href="#section-cb8-56" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="section-cb8-57"><a href="#section-cb8-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb8-58"><a href="#section-cb8-58" aria-hidden="true" tabindex="-1"></a>      <span class="fu">textInput</span>(</span>
<span id="section-cb8-59"><a href="#section-cb8-59" aria-hidden="true" tabindex="-1"></a>        <span class="at">inputId =</span> <span class="st">&quot;plot_title&quot;</span>,</span>
<span id="section-cb8-60"><a href="#section-cb8-60" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="st">&quot;Plot title&quot;</span>,</span>
<span id="section-cb8-61"><a href="#section-cb8-61" aria-hidden="true" tabindex="-1"></a>        <span class="at">placeholder =</span> <span class="st">&quot;Enter text for plot title&quot;</span></span>
<span id="section-cb8-62"><a href="#section-cb8-62" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="section-cb8-63"><a href="#section-cb8-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb8-64"><a href="#section-cb8-64" aria-hidden="true" tabindex="-1"></a>      <span class="fu">checkboxGroupInput</span>(</span>
<span id="section-cb8-65"><a href="#section-cb8-65" aria-hidden="true" tabindex="-1"></a>        <span class="at">inputId =</span> <span class="st">&quot;selected_type&quot;</span>,</span>
<span id="section-cb8-66"><a href="#section-cb8-66" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="st">&quot;Select movie type(s):&quot;</span>,</span>
<span id="section-cb8-67"><a href="#section-cb8-67" aria-hidden="true" tabindex="-1"></a>        <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">&quot;Documentary&quot;</span>, <span class="st">&quot;Feature Film&quot;</span>, <span class="st">&quot;TV Movie&quot;</span>),</span>
<span id="section-cb8-68"><a href="#section-cb8-68" aria-hidden="true" tabindex="-1"></a>        <span class="at">selected =</span> <span class="st">&quot;Feature Film&quot;</span></span>
<span id="section-cb8-69"><a href="#section-cb8-69" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="section-cb8-70"><a href="#section-cb8-70" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="section-cb8-71"><a href="#section-cb8-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb8-72"><a href="#section-cb8-72" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mainPanel</span>(</span>
<span id="section-cb8-73"><a href="#section-cb8-73" aria-hidden="true" tabindex="-1"></a>      <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">&quot;scatterplot&quot;</span>),</span>
<span id="section-cb8-74"><a href="#section-cb8-74" aria-hidden="true" tabindex="-1"></a>      <span class="fu">textOutput</span>(<span class="at">outputId =</span> <span class="st">&quot;description&quot;</span>)</span>
<span id="section-cb8-75"><a href="#section-cb8-75" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="section-cb8-76"><a href="#section-cb8-76" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="section-cb8-77"><a href="#section-cb8-77" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="section-cb8-78"><a href="#section-cb8-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb8-79"><a href="#section-cb8-79" aria-hidden="true" tabindex="-1"></a><span class="co"># Define server ----------------------------------------------------------------</span></span>
<span id="section-cb8-80"><a href="#section-cb8-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb8-81"><a href="#section-cb8-81" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="section-cb8-82"><a href="#section-cb8-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb8-83"><a href="#section-cb8-83" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create a subset of data filtering for selected title types</span></span>
<span id="section-cb8-84"><a href="#section-cb8-84" aria-hidden="true" tabindex="-1"></a>  movies_subset <span class="ot">&lt;-</span> <span class="fu">reactive</span>({</span>
<span id="section-cb8-85"><a href="#section-cb8-85" aria-hidden="true" tabindex="-1"></a>    <span class="fu">req</span>(input<span class="sc">$</span>selected_type)</span>
<span id="section-cb8-86"><a href="#section-cb8-86" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(movies, title_type <span class="sc">%in%</span> input<span class="sc">$</span>selected_type)</span>
<span id="section-cb8-87"><a href="#section-cb8-87" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="section-cb8-88"><a href="#section-cb8-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb8-89"><a href="#section-cb8-89" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Convert plot_title toTitleCase</span></span>
<span id="section-cb8-90"><a href="#section-cb8-90" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>pretty_plot_title <span class="ot">&lt;-</span> <span class="fu">toTitleCase</span>(input<span class="sc">$</span>plot_title)</span>
<span id="section-cb8-91"><a href="#section-cb8-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb8-92"><a href="#section-cb8-92" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create scatterplot object the plotOutput function is expecting</span></span>
<span id="section-cb8-93"><a href="#section-cb8-93" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>scatterplot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="section-cb8-94"><a href="#section-cb8-94" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(</span>
<span id="section-cb8-95"><a href="#section-cb8-95" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> movies_subset,</span>
<span id="section-cb8-96"><a href="#section-cb8-96" aria-hidden="true" tabindex="-1"></a>      <span class="fu">aes_string</span>(<span class="at">x =</span> input<span class="sc">$</span>x, <span class="at">y =</span> input<span class="sc">$</span>y, <span class="at">color =</span> input<span class="sc">$</span>z)</span>
<span id="section-cb8-97"><a href="#section-cb8-97" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="section-cb8-98"><a href="#section-cb8-98" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="section-cb8-99"><a href="#section-cb8-99" aria-hidden="true" tabindex="-1"></a>      <span class="fu">labs</span>(<span class="at">title =</span> pretty_plot_title)</span>
<span id="section-cb8-100"><a href="#section-cb8-100" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="section-cb8-101"><a href="#section-cb8-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb8-102"><a href="#section-cb8-102" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create descriptive text</span></span>
<span id="section-cb8-103"><a href="#section-cb8-103" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>description <span class="ot">&lt;-</span> <span class="fu">renderText</span>({</span>
<span id="section-cb8-104"><a href="#section-cb8-104" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste0</span>(<span class="st">&quot;The plot above titled &#39;&quot;</span>, pretty_plot_title, <span class="st">&quot;&#39; visualizes the relationship between &quot;</span>, input<span class="sc">$</span>x, <span class="st">&quot; and &quot;</span>, input<span class="sc">$</span>y, <span class="st">&quot;, conditional on &quot;</span>, input<span class="sc">$</span>z, <span class="st">&quot;.&quot;</span>)</span>
<span id="section-cb8-105"><a href="#section-cb8-105" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="section-cb8-106"><a href="#section-cb8-106" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="section-cb8-107"><a href="#section-cb8-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb8-108"><a href="#section-cb8-108" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the Shiny app object --------------------------------------------------</span></span>
<span id="section-cb8-109"><a href="#section-cb8-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb8-110"><a href="#section-cb8-110" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code></pre></div>
</div>
</div>
<div id="section-find-inconsistencies-in-what-the-app-is-reporting" class="section level3">
<h3>Find inconsistencies in what the app is reporting</h3>
<p>In this exercise we go on a hunt for mismatched used of reactives.</p>
<div id="section-your-turn-2" class="section level4">
<h4>Your turn</h4>
<ul>
<li>Run the sample code and view the app. Do the number of movies plotted match the number cited in the text below the app?</li>
<li>If not, fix the app code.</li>
</ul>
<div class="proj">
<p><em>Complete the exercise by navigating to the RStudio Cloud Project titled <strong>3-2b Find inconsistencies in what the app is reporting</strong> in your RStudio Workspace</em></p>
<p><a href="https://rstudio.cloud/spaces/81721/join?access_code=I4VJaNsKfTqR3Td9hLP7E1nz8%2FtMg6Xbw9Bgqumv" class="btn test-drive"><i class="fa fa-cloud"></i> Go to RStudio Cloud Project</a></p>
</div>
<div class="sourceCode" id="section-cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb9-1"><a href="#section-cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load packages ----------------------------------------------------------------</span></span>
<span id="section-cb9-2"><a href="#section-cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb9-3"><a href="#section-cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="section-cb9-4"><a href="#section-cb9-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="section-cb9-5"><a href="#section-cb9-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="section-cb9-6"><a href="#section-cb9-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb9-7"><a href="#section-cb9-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Load data --------------------------------------------------------------------</span></span>
<span id="section-cb9-8"><a href="#section-cb9-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb9-9"><a href="#section-cb9-9" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;movies.RData&quot;</span>)</span>
<span id="section-cb9-10"><a href="#section-cb9-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb9-11"><a href="#section-cb9-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Define UI --------------------------------------------------------------------</span></span>
<span id="section-cb9-12"><a href="#section-cb9-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb9-13"><a href="#section-cb9-13" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="section-cb9-14"><a href="#section-cb9-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sidebarLayout</span>(</span>
<span id="section-cb9-15"><a href="#section-cb9-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sidebarPanel</span>(</span>
<span id="section-cb9-16"><a href="#section-cb9-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">selectInput</span>(</span>
<span id="section-cb9-17"><a href="#section-cb9-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">inputId =</span> <span class="st">&quot;y&quot;</span>,</span>
<span id="section-cb9-18"><a href="#section-cb9-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="st">&quot;Y-axis:&quot;</span>,</span>
<span id="section-cb9-19"><a href="#section-cb9-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">choices =</span> <span class="fu">c</span>(</span>
<span id="section-cb9-20"><a href="#section-cb9-20" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;IMDB rating&quot;</span> <span class="ot">=</span> <span class="st">&quot;imdb_rating&quot;</span>,</span>
<span id="section-cb9-21"><a href="#section-cb9-21" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;IMDB number of votes&quot;</span> <span class="ot">=</span> <span class="st">&quot;imdb_num_votes&quot;</span>,</span>
<span id="section-cb9-22"><a href="#section-cb9-22" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Critics Score&quot;</span> <span class="ot">=</span> <span class="st">&quot;critics_score&quot;</span>,</span>
<span id="section-cb9-23"><a href="#section-cb9-23" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Audience Score&quot;</span> <span class="ot">=</span> <span class="st">&quot;audience_score&quot;</span>,</span>
<span id="section-cb9-24"><a href="#section-cb9-24" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Runtime&quot;</span> <span class="ot">=</span> <span class="st">&quot;runtime&quot;</span></span>
<span id="section-cb9-25"><a href="#section-cb9-25" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="section-cb9-26"><a href="#section-cb9-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">selected =</span> <span class="st">&quot;audience_score&quot;</span></span>
<span id="section-cb9-27"><a href="#section-cb9-27" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="section-cb9-28"><a href="#section-cb9-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb9-29"><a href="#section-cb9-29" aria-hidden="true" tabindex="-1"></a>      <span class="fu">selectInput</span>(</span>
<span id="section-cb9-30"><a href="#section-cb9-30" aria-hidden="true" tabindex="-1"></a>        <span class="at">inputId =</span> <span class="st">&quot;x&quot;</span>,</span>
<span id="section-cb9-31"><a href="#section-cb9-31" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="st">&quot;X-axis:&quot;</span>,</span>
<span id="section-cb9-32"><a href="#section-cb9-32" aria-hidden="true" tabindex="-1"></a>        <span class="at">choices =</span> <span class="fu">c</span>(</span>
<span id="section-cb9-33"><a href="#section-cb9-33" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;IMDB rating&quot;</span> <span class="ot">=</span> <span class="st">&quot;imdb_rating&quot;</span>,</span>
<span id="section-cb9-34"><a href="#section-cb9-34" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;IMDB number of votes&quot;</span> <span class="ot">=</span> <span class="st">&quot;imdb_num_votes&quot;</span>,</span>
<span id="section-cb9-35"><a href="#section-cb9-35" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Critics Score&quot;</span> <span class="ot">=</span> <span class="st">&quot;critics_score&quot;</span>,</span>
<span id="section-cb9-36"><a href="#section-cb9-36" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Audience Score&quot;</span> <span class="ot">=</span> <span class="st">&quot;audience_score&quot;</span>,</span>
<span id="section-cb9-37"><a href="#section-cb9-37" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Runtime&quot;</span> <span class="ot">=</span> <span class="st">&quot;runtime&quot;</span></span>
<span id="section-cb9-38"><a href="#section-cb9-38" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="section-cb9-39"><a href="#section-cb9-39" aria-hidden="true" tabindex="-1"></a>        <span class="at">selected =</span> <span class="st">&quot;critics_score&quot;</span></span>
<span id="section-cb9-40"><a href="#section-cb9-40" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="section-cb9-41"><a href="#section-cb9-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb9-42"><a href="#section-cb9-42" aria-hidden="true" tabindex="-1"></a>      <span class="fu">selectInput</span>(</span>
<span id="section-cb9-43"><a href="#section-cb9-43" aria-hidden="true" tabindex="-1"></a>        <span class="at">inputId =</span> <span class="st">&quot;z&quot;</span>,</span>
<span id="section-cb9-44"><a href="#section-cb9-44" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="st">&quot;Color by:&quot;</span>,</span>
<span id="section-cb9-45"><a href="#section-cb9-45" aria-hidden="true" tabindex="-1"></a>        <span class="at">choices =</span> <span class="fu">c</span>(</span>
<span id="section-cb9-46"><a href="#section-cb9-46" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Title Type&quot;</span> <span class="ot">=</span> <span class="st">&quot;title_type&quot;</span>,</span>
<span id="section-cb9-47"><a href="#section-cb9-47" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Genre&quot;</span> <span class="ot">=</span> <span class="st">&quot;genre&quot;</span>,</span>
<span id="section-cb9-48"><a href="#section-cb9-48" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;MPAA Rating&quot;</span> <span class="ot">=</span> <span class="st">&quot;mpaa_rating&quot;</span>,</span>
<span id="section-cb9-49"><a href="#section-cb9-49" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Critics Rating&quot;</span> <span class="ot">=</span> <span class="st">&quot;critics_rating&quot;</span>,</span>
<span id="section-cb9-50"><a href="#section-cb9-50" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Audience Rating&quot;</span> <span class="ot">=</span> <span class="st">&quot;audience_rating&quot;</span></span>
<span id="section-cb9-51"><a href="#section-cb9-51" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="section-cb9-52"><a href="#section-cb9-52" aria-hidden="true" tabindex="-1"></a>        <span class="at">selected =</span> <span class="st">&quot;mpaa_rating&quot;</span></span>
<span id="section-cb9-53"><a href="#section-cb9-53" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="section-cb9-54"><a href="#section-cb9-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb9-55"><a href="#section-cb9-55" aria-hidden="true" tabindex="-1"></a>      <span class="fu">checkboxGroupInput</span>(</span>
<span id="section-cb9-56"><a href="#section-cb9-56" aria-hidden="true" tabindex="-1"></a>        <span class="at">inputId =</span> <span class="st">&quot;selected_type&quot;</span>,</span>
<span id="section-cb9-57"><a href="#section-cb9-57" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="st">&quot;Select movie type(s):&quot;</span>,</span>
<span id="section-cb9-58"><a href="#section-cb9-58" aria-hidden="true" tabindex="-1"></a>        <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">&quot;Documentary&quot;</span>, <span class="st">&quot;Feature Film&quot;</span>, <span class="st">&quot;TV Movie&quot;</span>),</span>
<span id="section-cb9-59"><a href="#section-cb9-59" aria-hidden="true" tabindex="-1"></a>        <span class="at">selected =</span> <span class="st">&quot;Feature Film&quot;</span></span>
<span id="section-cb9-60"><a href="#section-cb9-60" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="section-cb9-61"><a href="#section-cb9-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb9-62"><a href="#section-cb9-62" aria-hidden="true" tabindex="-1"></a>      <span class="fu">numericInput</span>(</span>
<span id="section-cb9-63"><a href="#section-cb9-63" aria-hidden="true" tabindex="-1"></a>        <span class="at">inputId =</span> <span class="st">&quot;n_samp&quot;</span>,</span>
<span id="section-cb9-64"><a href="#section-cb9-64" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="st">&quot;Sample size:&quot;</span>,</span>
<span id="section-cb9-65"><a href="#section-cb9-65" aria-hidden="true" tabindex="-1"></a>        <span class="at">min =</span> <span class="dv">1</span>, <span class="at">max =</span> <span class="fu">nrow</span>(movies),</span>
<span id="section-cb9-66"><a href="#section-cb9-66" aria-hidden="true" tabindex="-1"></a>        <span class="at">value =</span> <span class="dv">3</span></span>
<span id="section-cb9-67"><a href="#section-cb9-67" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="section-cb9-68"><a href="#section-cb9-68" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="section-cb9-69"><a href="#section-cb9-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb9-70"><a href="#section-cb9-70" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mainPanel</span>(</span>
<span id="section-cb9-71"><a href="#section-cb9-71" aria-hidden="true" tabindex="-1"></a>      <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">&quot;scatterplot&quot;</span>),</span>
<span id="section-cb9-72"><a href="#section-cb9-72" aria-hidden="true" tabindex="-1"></a>      <span class="fu">uiOutput</span>(<span class="at">outputId =</span> <span class="st">&quot;n&quot;</span>)</span>
<span id="section-cb9-73"><a href="#section-cb9-73" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="section-cb9-74"><a href="#section-cb9-74" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="section-cb9-75"><a href="#section-cb9-75" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="section-cb9-76"><a href="#section-cb9-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb9-77"><a href="#section-cb9-77" aria-hidden="true" tabindex="-1"></a><span class="co"># Define server ----------------------------------------------------------------</span></span>
<span id="section-cb9-78"><a href="#section-cb9-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb9-79"><a href="#section-cb9-79" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="section-cb9-80"><a href="#section-cb9-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb9-81"><a href="#section-cb9-81" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create a subset of data filtering for selected title types</span></span>
<span id="section-cb9-82"><a href="#section-cb9-82" aria-hidden="true" tabindex="-1"></a>  movies_subset <span class="ot">&lt;-</span> <span class="fu">reactive</span>({</span>
<span id="section-cb9-83"><a href="#section-cb9-83" aria-hidden="true" tabindex="-1"></a>    <span class="fu">req</span>(input<span class="sc">$</span>selected_type)</span>
<span id="section-cb9-84"><a href="#section-cb9-84" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(movies, title_type <span class="sc">%in%</span> input<span class="sc">$</span>selected_type)</span>
<span id="section-cb9-85"><a href="#section-cb9-85" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="section-cb9-86"><a href="#section-cb9-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb9-87"><a href="#section-cb9-87" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create new df that is n_samp obs from selected type movies</span></span>
<span id="section-cb9-88"><a href="#section-cb9-88" aria-hidden="true" tabindex="-1"></a>  movies_sample <span class="ot">&lt;-</span> <span class="fu">reactive</span>({</span>
<span id="section-cb9-89"><a href="#section-cb9-89" aria-hidden="true" tabindex="-1"></a>    <span class="fu">req</span>(input<span class="sc">$</span>n_samp)</span>
<span id="section-cb9-90"><a href="#section-cb9-90" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sample_n</span>(<span class="fu">movies_subset</span>(), input<span class="sc">$</span>n_samp)</span>
<span id="section-cb9-91"><a href="#section-cb9-91" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="section-cb9-92"><a href="#section-cb9-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb9-93"><a href="#section-cb9-93" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create scatterplot object the plotOutput function is expecting</span></span>
<span id="section-cb9-94"><a href="#section-cb9-94" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>scatterplot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="section-cb9-95"><a href="#section-cb9-95" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="at">data =</span> <span class="fu">movies_sample</span>(), <span class="fu">aes_string</span>(<span class="at">x =</span> input<span class="sc">$</span>x, <span class="at">y =</span> input<span class="sc">$</span>y, <span class="at">color =</span> input<span class="sc">$</span>z)) <span class="sc">+</span></span>
<span id="section-cb9-96"><a href="#section-cb9-96" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_point</span>()</span>
<span id="section-cb9-97"><a href="#section-cb9-97" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="section-cb9-98"><a href="#section-cb9-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb9-99"><a href="#section-cb9-99" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Print number of movies plotted</span></span>
<span id="section-cb9-100"><a href="#section-cb9-100" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>n <span class="ot">&lt;-</span> <span class="fu">renderUI</span>({</span>
<span id="section-cb9-101"><a href="#section-cb9-101" aria-hidden="true" tabindex="-1"></a>    types <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">movies_subset</span>()<span class="sc">$</span>title_type, <span class="at">levels =</span> input<span class="sc">$</span>selected_type)</span>
<span id="section-cb9-102"><a href="#section-cb9-102" aria-hidden="true" tabindex="-1"></a>    counts <span class="ot">&lt;-</span> <span class="fu">table</span>(types)</span>
<span id="section-cb9-103"><a href="#section-cb9-103" aria-hidden="true" tabindex="-1"></a>    <span class="fu">HTML</span>(<span class="fu">paste</span>(<span class="st">&quot;There are&quot;</span>, counts, input<span class="sc">$</span>selected_type, <span class="st">&quot;movies plotted in the plot above. &lt;br&gt;&quot;</span>))</span>
<span id="section-cb9-104"><a href="#section-cb9-104" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="section-cb9-105"><a href="#section-cb9-105" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="section-cb9-106"><a href="#section-cb9-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb9-107"><a href="#section-cb9-107" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the Shiny app object --------------------------------------------------</span></span>
<span id="section-cb9-108"><a href="#section-cb9-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb9-109"><a href="#section-cb9-109" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code></pre></div>
</div>
</div>
</div>
<div id="section-reactives-and-observers" class="section level2">
<h2>3.3 Reactives and observers</h2>
<p>In this section we discuss implementations of the three different types of reactive objects.</p>
<div id="section-reactive-flow" class="section level3">
<h3>Reactive flow</h3>
<p>As we go through the different implementations, I recommend that you think back to where they appear on the reactive flow chart.</p>
<p><img src="images/reactive-flow.png" width="80%" style="display: block; margin: auto;" /></p>
</div>
<div id="section-reactive-inputs" class="section level3">
<h3>Reactive inputs</h3>
<p>An implementation of reactive inputs is <code>reactiveValues()</code>.</p>
<p>One example is user inputs (<code>input$*</code>). The input object is a reactive value that looks like a list, and contains many individual reactive values that are set by input from the web browser.</p>
</div>
<div id="section-reactive-expressions-1" class="section level3">
<h3>Reactive expressions</h3>
<p>You can create reactive expressions with the <code>reactive()</code> function.</p>
<p>An example is the reactive data frame subsets we created in the earlier sections and exercises.</p>
<ul>
<li><p>Reactive expressions can access reactive values or other reactive expressions, and they return a value.</p></li>
<li><p>They are useful for caching the results of any procedure that happens in response to user input.</p></li>
</ul>
</div>
<div id="section-implementation-of-reactive-outputs" class="section level3">
<h3>Implementation of reactive outputs</h3>
<p>And lastly, the implementation for reactive outputs is observers.</p>
<p>For example, an <code>output$*</code> object is a reactive observer. Actually, under the hood a render function returns a reactive expression, and when you assign this reactive expression to an <code>output$*</code> value, Shiny automatically creates an observer that uses the reactive expression.</p>
<ul>
<li><p>Observers can access reactive inputs and reactive expressions, but they don’t return a value.</p></li>
<li><p>Instead they are used for their <strong>side effects</strong>, which typically involves sending data to the web browser.</p></li>
</ul>
</div>
<div id="section-reactives-vs.-observers" class="section level3">
<h3>Reactives vs. observers</h3>
<p>To help these concepts sink in a bit more, let’s compare reactives vs. observers.</p>
<div id="section-similarities" class="section level4">
<h4>Similarities</h4>
<p>Both store expressions that can be executed</p>
</div>
<div id="section-differences" class="section level4">
<h4>Differences</h4>
<ul>
<li>Reactive expressions return values, but observers do not.</li>
<li>Observers eagerly respond to reactives, but reactive expressions do not.</li>
<li>Reactive expressions must not have side effects, while observers are only useful for their side effects.</li>
</ul>
</div>
<div id="section-most-importantly" class="section level4">
<h4>Most importantly</h4>
<ul>
<li>We use the <code>reactive()</code> function when calculating values, without side effects.</li>
<li>We use the <code>observe()</code> function when performing actions, with side effects.</li>
<li>The moral of the story is to not use <code>observe()</code> when calculating a value, and to especially not use <code>reactive()</code> for performing actions with side effects.</li>
</ul>
</div>
</div>
<div id="section-section-3" class="section level3">
<h3></h3>
<p>Here is a summary table of the differences between reactives and observers.</p>
<table>
<thead>
<tr class="header">
<th></th>
<th><code>reactive()</code></th>
<th><code>observe()</code></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Purpose</td>
<td>Calculations</td>
<td>Actions</td>
</tr>
<tr class="even">
<td>Side effects</td>
<td>Forbidden</td>
<td>Allowed</td>
</tr>
</tbody>
</table>
<p>A calculation is a block of code where you don’t care about whether the code actually executes—you just want the answer. Safe for caching. We use <code>reactive()</code> for these.</p>
<p>An action is where you care very much that the code executes, and there is no return value, there are only side effects. For these we use <code>observe()</code>.</p>
</div>
</div>
<div id="section-practice-2" class="section level2">
<h2>3.3 Practice</h2>
<p>Next you get to assess your understanding of reactives vs. observers.</p>
<p>You’ll add a <code>reactiveValues()</code> element to the app. Define observers and their side effects, and how these compare to reactives.</p>
<div id="section-test-understanding-of-the-reactivevalues-function" class="section level3">
<h3>Test understanding of the <code>reactiveValues()</code> function</h3>
<div id="section-your-turn-3" class="section level4">
<h4>Your turn</h4>
<p>Using the code from the app you worked on in the last exercise, add another <code>reactiveValues()</code> and <code>reactiveVal()</code> element to the app.</p>
<div class="proj">
<p><em>Complete the exercise by building off of the code you completed in the last RStudio Cloud Project titled <strong>3-2b Find inconsistencies in what the app is reporting</strong> in your RStudio Workspace</em></p>
<p><a href="https://rstudio.cloud/spaces/81721/join?access_code=I4VJaNsKfTqR3Td9hLP7E1nz8%2FtMg6Xbw9Bgqumv" class="btn test-drive"><i class="fa fa-cloud"></i> Go to RStudio Cloud Project</a></p>
</div>
</div>
</div>
</div>
<div id="section-stop-trigger-delay" class="section level2">
<h2>3.4 Stop-trigger-delay</h2>
<div id="section-section-4" class="section level3">
<h3></h3>
<p>In this section we present how to stop, trigger, and delay Shiny actions.</p>
</div>
<div id="section-isolating-reactions" class="section level3">
<h3>Isolating reactions</h3>
<p>Suppose your app has an input widget where users can enter text for the title of the plot. However you only want the title to update if any of the other inputs that go into the plot change. You can achieve this by isolating the plot title such that…</p>
<ul>
<li>When <code>input$x</code> or <code>input$y</code> changes, the plot, along with the title, will update.</li>
<li>But when only the title input (<code>input$plot_title</code>) changes, the plot will <strong>not</strong> update.</li>
</ul>
<p><img src="images/isolate.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="section-triggering-reactions" class="section level3">
<h3>Triggering reactions</h3>
<p>For triggering reactions, we use <code>observeEvent()</code>. So why might one want to explicitly trigger a reaction?</p>
<p>Sometimes you might want to wait for a specific action to be taken from the user, like clicking an action button, before calculating an expression or taking an action. A reactive value or expression that is used to trigger other calculations in this way is called an <strong>event</strong>.</p>
<p><img src="images/observeEvent.png" width="100%" style="display: block; margin: auto;" /></p>
<ul>
<li><p>These events can be the first argument in the <code>observeEvent()</code> function. This argument can be a simple reactive value like an input, a call to a reactive expression, or a complex expression provided wrapped in curly braces.</p></li>
<li><p>The second argument is the expression to call whenever the first argument is invalidated.</p></li>
</ul>
<p>So what you see here is similar to saying “if event expression happens, call handler expression”.</p>
</div>
<div id="section-section-5" class="section level3">
<h3></h3>
<p>Suppose your app allows for taking a random sample of the data based on a sample size numeric input. Suppose also that you want to add functionality for the users to download the random sample they generated <em>if</em> they press an action button (<code>actionButton()</code>) requesting to do so.</p>
<p><img src="images/actionButton.png" width="100%" style="display: block; margin: auto;" /></p>
<ul>
<li>In the UI, we create an action button.</li>
<li>And in the server, we condition the <code>observeEvent()</code> on the <code>inputId</code> of that action button. This way R knows to call the expression given in the second argument of <code>observeEvent()</code> when the user presses the action button.</li>
</ul>
</div>
<div id="section-delaying-reactions" class="section level3">
<h3>Delaying reactions</h3>
<p>And finally we can delay reactions with <code>eventReactive()</code>, which takes similar arguments as <code>observeEvent()</code>.</p>
<p><img src="images/eventReactive.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="section-section-6" class="section level3">
<h3></h3>
<p>Suppose your goal is to change how users take random samples in your app – you only want them to get a new sample when an action button that says “get new sample” is pressed, not when other things like a numeric input defining the size of the sample changes.</p>
<p><img src="images/eventReactive-ignoreNULL.png" width="100%" style="display: block; margin: auto;" /></p>
<ul>
<li>In the <code>eventReactive()</code> function, the first argument is the input associated with the action button, and the second argument is the sampling code.</li>
<li>Then, we add one more argument – <code>ignoreNull</code>. This argument tells R what to do (or what not to do) when the event expression evaluates to <code>Null</code>. For example, what should the app do when the app is first launched and the user has not even interacted with the app yet? If this is set to <code>FALSE</code>, the app will initially perform the action or calculation and then the user can re-initiate it.</li>
</ul>
</div>
<div id="section-observeevent-vs-eventreactive" class="section level3">
<h3><code>observeEvent()</code> vs <code>eventReactive()</code></h3>
<p><code>observeEvent()</code> and <code>eventReactive()</code> look and feel very similar – same syntax, same arguments, but they’re actually not the same at all!</p>
<ul>
<li><code>observeEvent()</code> is used to perform an action in response to an event</li>
<li><code>eventReactive()</code> is used to create a calculated value that only updates in response to an event</li>
</ul>
</div>
<div id="section-observeeventeventreactive-vs.-observereactive" class="section level3">
<h3><code>observeEvent()</code>/<code>eventReactive()</code> vs. <code>observe()</code>/<code>reactive()</code></h3>
<p>This pair of functions also seem similar, at a first glance, to the observe/reactive pair, however the main difference between them is that</p>
<ul>
<li><code>observe()</code> and <code>reactive()</code> functions automatically trigger on whatever they access</li>
<li><code>observeEvent()</code> and <code>eventReactive()</code> functions need to be explicitly told what triggers them</li>
</ul>
</div>
<div id="section-isolate-vs-event-handling-functions" class="section level3">
<h3><code>isolate()</code> vs event handling functions</h3>
<p>And where does isolate fit in all this?</p>
<ul>
<li><code>isolate()</code> is used to stop a reaction</li>
<li><code>observeEvent()</code> is used to perform an action in response to an event</li>
<li><code>eventReactive()</code> is used to create a calculated value that only updates in response to an event</li>
</ul>
</div>
</div>
<div id="section-practice-3" class="section level2">
<h2>3.4 Practice</h2>
<div id="section-stop-with-isolate" class="section level3">
<h3>Stop with <code>isolate()</code></h3>
<p>In the following app, the user, in addition to controlling which variables are plotted, can adjust the size and transparency of points and define the plot title.</p>
<div id="section-your-turn-4" class="section level4">
<h4>Your turn</h4>
<ul>
<li>Run the code and test out the functionality of the plot title input. Is the plot title updated immediately after you’re done typing the title?</li>
<li>Modify the app so that the plot title <em>only</em> gets updated when one of the other inputs is changed.</li>
</ul>
<div class="proj">
<p><em>Complete the exercise by navigating to the RStudio Cloud Project titled <strong>3-4a Stop with isolate()</strong> in your RStudio Workspace</em></p>
<p><a href="https://rstudio.cloud/spaces/81721/join?access_code=I4VJaNsKfTqR3Td9hLP7E1nz8%2FtMg6Xbw9Bgqumv" class="btn test-drive"><i class="fa fa-cloud"></i> Go to RStudio Cloud Project</a></p>
</div>
<div class="sourceCode" id="section-cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb10-1"><a href="#section-cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load packages ----------------------------------------------------------------</span></span>
<span id="section-cb10-2"><a href="#section-cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb10-3"><a href="#section-cb10-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="section-cb10-4"><a href="#section-cb10-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="section-cb10-5"><a href="#section-cb10-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tools)</span>
<span id="section-cb10-6"><a href="#section-cb10-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb10-7"><a href="#section-cb10-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Load data --------------------------------------------------------------------</span></span>
<span id="section-cb10-8"><a href="#section-cb10-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb10-9"><a href="#section-cb10-9" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;movies.RData&quot;</span>)</span>
<span id="section-cb10-10"><a href="#section-cb10-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb10-11"><a href="#section-cb10-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Define UI --------------------------------------------------------------------</span></span>
<span id="section-cb10-12"><a href="#section-cb10-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb10-13"><a href="#section-cb10-13" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="section-cb10-14"><a href="#section-cb10-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sidebarLayout</span>(</span>
<span id="section-cb10-15"><a href="#section-cb10-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sidebarPanel</span>(</span>
<span id="section-cb10-16"><a href="#section-cb10-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">selectInput</span>(</span>
<span id="section-cb10-17"><a href="#section-cb10-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">inputId =</span> <span class="st">&quot;y&quot;</span>,</span>
<span id="section-cb10-18"><a href="#section-cb10-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="st">&quot;Y-axis:&quot;</span>,</span>
<span id="section-cb10-19"><a href="#section-cb10-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">choices =</span> <span class="fu">c</span>(</span>
<span id="section-cb10-20"><a href="#section-cb10-20" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;IMDB rating&quot;</span> <span class="ot">=</span> <span class="st">&quot;imdb_rating&quot;</span>,</span>
<span id="section-cb10-21"><a href="#section-cb10-21" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;IMDB number of votes&quot;</span> <span class="ot">=</span> <span class="st">&quot;imdb_num_votes&quot;</span>,</span>
<span id="section-cb10-22"><a href="#section-cb10-22" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Critics Score&quot;</span> <span class="ot">=</span> <span class="st">&quot;critics_score&quot;</span>,</span>
<span id="section-cb10-23"><a href="#section-cb10-23" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Audience Score&quot;</span> <span class="ot">=</span> <span class="st">&quot;audience_score&quot;</span>,</span>
<span id="section-cb10-24"><a href="#section-cb10-24" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Runtime&quot;</span> <span class="ot">=</span> <span class="st">&quot;runtime&quot;</span></span>
<span id="section-cb10-25"><a href="#section-cb10-25" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="section-cb10-26"><a href="#section-cb10-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">selected =</span> <span class="st">&quot;audience_score&quot;</span></span>
<span id="section-cb10-27"><a href="#section-cb10-27" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="section-cb10-28"><a href="#section-cb10-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb10-29"><a href="#section-cb10-29" aria-hidden="true" tabindex="-1"></a>      <span class="fu">selectInput</span>(</span>
<span id="section-cb10-30"><a href="#section-cb10-30" aria-hidden="true" tabindex="-1"></a>        <span class="at">inputId =</span> <span class="st">&quot;x&quot;</span>,</span>
<span id="section-cb10-31"><a href="#section-cb10-31" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="st">&quot;X-axis:&quot;</span>,</span>
<span id="section-cb10-32"><a href="#section-cb10-32" aria-hidden="true" tabindex="-1"></a>        <span class="at">choices =</span> <span class="fu">c</span>(</span>
<span id="section-cb10-33"><a href="#section-cb10-33" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;IMDB rating&quot;</span> <span class="ot">=</span> <span class="st">&quot;imdb_rating&quot;</span>,</span>
<span id="section-cb10-34"><a href="#section-cb10-34" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;IMDB number of votes&quot;</span> <span class="ot">=</span> <span class="st">&quot;imdb_num_votes&quot;</span>,</span>
<span id="section-cb10-35"><a href="#section-cb10-35" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Critics Score&quot;</span> <span class="ot">=</span> <span class="st">&quot;critics_score&quot;</span>,</span>
<span id="section-cb10-36"><a href="#section-cb10-36" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Audience Score&quot;</span> <span class="ot">=</span> <span class="st">&quot;audience_score&quot;</span>,</span>
<span id="section-cb10-37"><a href="#section-cb10-37" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Runtime&quot;</span> <span class="ot">=</span> <span class="st">&quot;runtime&quot;</span></span>
<span id="section-cb10-38"><a href="#section-cb10-38" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="section-cb10-39"><a href="#section-cb10-39" aria-hidden="true" tabindex="-1"></a>        <span class="at">selected =</span> <span class="st">&quot;critics_score&quot;</span></span>
<span id="section-cb10-40"><a href="#section-cb10-40" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="section-cb10-41"><a href="#section-cb10-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb10-42"><a href="#section-cb10-42" aria-hidden="true" tabindex="-1"></a>      <span class="fu">selectInput</span>(</span>
<span id="section-cb10-43"><a href="#section-cb10-43" aria-hidden="true" tabindex="-1"></a>        <span class="at">inputId =</span> <span class="st">&quot;z&quot;</span>,</span>
<span id="section-cb10-44"><a href="#section-cb10-44" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="st">&quot;Color by:&quot;</span>,</span>
<span id="section-cb10-45"><a href="#section-cb10-45" aria-hidden="true" tabindex="-1"></a>        <span class="at">choices =</span> <span class="fu">c</span>(</span>
<span id="section-cb10-46"><a href="#section-cb10-46" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Title Type&quot;</span> <span class="ot">=</span> <span class="st">&quot;title_type&quot;</span>,</span>
<span id="section-cb10-47"><a href="#section-cb10-47" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Genre&quot;</span> <span class="ot">=</span> <span class="st">&quot;genre&quot;</span>,</span>
<span id="section-cb10-48"><a href="#section-cb10-48" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;MPAA Rating&quot;</span> <span class="ot">=</span> <span class="st">&quot;mpaa_rating&quot;</span>,</span>
<span id="section-cb10-49"><a href="#section-cb10-49" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Critics Rating&quot;</span> <span class="ot">=</span> <span class="st">&quot;critics_rating&quot;</span>,</span>
<span id="section-cb10-50"><a href="#section-cb10-50" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Audience Rating&quot;</span> <span class="ot">=</span> <span class="st">&quot;audience_rating&quot;</span></span>
<span id="section-cb10-51"><a href="#section-cb10-51" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="section-cb10-52"><a href="#section-cb10-52" aria-hidden="true" tabindex="-1"></a>        <span class="at">selected =</span> <span class="st">&quot;mpaa_rating&quot;</span></span>
<span id="section-cb10-53"><a href="#section-cb10-53" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="section-cb10-54"><a href="#section-cb10-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb10-55"><a href="#section-cb10-55" aria-hidden="true" tabindex="-1"></a>      <span class="fu">sliderInput</span>(</span>
<span id="section-cb10-56"><a href="#section-cb10-56" aria-hidden="true" tabindex="-1"></a>        <span class="at">inputId =</span> <span class="st">&quot;alpha&quot;</span>,</span>
<span id="section-cb10-57"><a href="#section-cb10-57" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="st">&quot;Alpha:&quot;</span>,</span>
<span id="section-cb10-58"><a href="#section-cb10-58" aria-hidden="true" tabindex="-1"></a>        <span class="at">min =</span> <span class="dv">0</span>, <span class="at">max =</span> <span class="dv">1</span>,</span>
<span id="section-cb10-59"><a href="#section-cb10-59" aria-hidden="true" tabindex="-1"></a>        <span class="at">value =</span> <span class="fl">0.5</span></span>
<span id="section-cb10-60"><a href="#section-cb10-60" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="section-cb10-61"><a href="#section-cb10-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb10-62"><a href="#section-cb10-62" aria-hidden="true" tabindex="-1"></a>      <span class="fu">sliderInput</span>(</span>
<span id="section-cb10-63"><a href="#section-cb10-63" aria-hidden="true" tabindex="-1"></a>        <span class="at">inputId =</span> <span class="st">&quot;size&quot;</span>,</span>
<span id="section-cb10-64"><a href="#section-cb10-64" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="st">&quot;Size:&quot;</span>,</span>
<span id="section-cb10-65"><a href="#section-cb10-65" aria-hidden="true" tabindex="-1"></a>        <span class="at">min =</span> <span class="dv">0</span>, <span class="at">max =</span> <span class="dv">5</span>,</span>
<span id="section-cb10-66"><a href="#section-cb10-66" aria-hidden="true" tabindex="-1"></a>        <span class="at">value =</span> <span class="dv">2</span></span>
<span id="section-cb10-67"><a href="#section-cb10-67" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="section-cb10-68"><a href="#section-cb10-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb10-69"><a href="#section-cb10-69" aria-hidden="true" tabindex="-1"></a>      <span class="fu">textInput</span>(</span>
<span id="section-cb10-70"><a href="#section-cb10-70" aria-hidden="true" tabindex="-1"></a>        <span class="at">inputId =</span> <span class="st">&quot;plot_title&quot;</span>,</span>
<span id="section-cb10-71"><a href="#section-cb10-71" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="st">&quot;Plot title&quot;</span>,</span>
<span id="section-cb10-72"><a href="#section-cb10-72" aria-hidden="true" tabindex="-1"></a>        <span class="at">placeholder =</span> <span class="st">&quot;Enter text to be used as plot title&quot;</span></span>
<span id="section-cb10-73"><a href="#section-cb10-73" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="section-cb10-74"><a href="#section-cb10-74" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="section-cb10-75"><a href="#section-cb10-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb10-76"><a href="#section-cb10-76" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mainPanel</span>(</span>
<span id="section-cb10-77"><a href="#section-cb10-77" aria-hidden="true" tabindex="-1"></a>      <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">&quot;scatterplot&quot;</span>)</span>
<span id="section-cb10-78"><a href="#section-cb10-78" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="section-cb10-79"><a href="#section-cb10-79" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="section-cb10-80"><a href="#section-cb10-80" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="section-cb10-81"><a href="#section-cb10-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb10-82"><a href="#section-cb10-82" aria-hidden="true" tabindex="-1"></a><span class="co"># Define server ----------------------------------------------------------------</span></span>
<span id="section-cb10-83"><a href="#section-cb10-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb10-84"><a href="#section-cb10-84" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="section-cb10-85"><a href="#section-cb10-85" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>scatterplot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="section-cb10-86"><a href="#section-cb10-86" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="at">data =</span> movies, <span class="fu">aes_string</span>(<span class="at">x =</span> input<span class="sc">$</span>x, <span class="at">y =</span> input<span class="sc">$</span>y, <span class="at">color =</span> input<span class="sc">$</span>z)) <span class="sc">+</span></span>
<span id="section-cb10-87"><a href="#section-cb10-87" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_point</span>(<span class="at">alpha =</span> input<span class="sc">$</span>alpha, <span class="at">size =</span> input<span class="sc">$</span>size) <span class="sc">+</span></span>
<span id="section-cb10-88"><a href="#section-cb10-88" aria-hidden="true" tabindex="-1"></a>      <span class="fu">labs</span>(<span class="at">title =</span> <span class="fu">toTitleCase</span>(input<span class="sc">$</span>plot_title))</span>
<span id="section-cb10-89"><a href="#section-cb10-89" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="section-cb10-90"><a href="#section-cb10-90" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="section-cb10-91"><a href="#section-cb10-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb10-92"><a href="#section-cb10-92" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the Shiny app object --------------------------------------------------</span></span>
<span id="section-cb10-93"><a href="#section-cb10-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb10-94"><a href="#section-cb10-94" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code></pre></div>
</div>
</div>
<div id="section-delay-with-eventreactive" class="section level3">
<h3>Delay with <code>eventReactive()</code></h3>
<p>The following app has the same starter code as the previous exercise.</p>
<div id="section-your-turn-5" class="section level4">
<h4>Your turn</h4>
<p>Modify the app such that the title is updated only when a button titled “Update plot title” is clicked.</p>
<div class="proj">
<p><em>Complete the exercise by navigating to the RStudio Cloud Project titled <strong>3-4b Delay with eventReactive()</strong> in your RStudio Workspace</em></p>
<p><a href="https://rstudio.cloud/spaces/81721/join?access_code=I4VJaNsKfTqR3Td9hLP7E1nz8%2FtMg6Xbw9Bgqumv" class="btn test-drive"><i class="fa fa-cloud"></i> Go to RStudio Cloud Project</a></p>
</div>
<div class="sourceCode" id="section-cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb11-1"><a href="#section-cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load packages ----------------------------------------------------------------</span></span>
<span id="section-cb11-2"><a href="#section-cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb11-3"><a href="#section-cb11-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="section-cb11-4"><a href="#section-cb11-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="section-cb11-5"><a href="#section-cb11-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tools)</span>
<span id="section-cb11-6"><a href="#section-cb11-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb11-7"><a href="#section-cb11-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Load data --------------------------------------------------------------------</span></span>
<span id="section-cb11-8"><a href="#section-cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb11-9"><a href="#section-cb11-9" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;movies.RData&quot;</span>)</span>
<span id="section-cb11-10"><a href="#section-cb11-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb11-11"><a href="#section-cb11-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Define UI --------------------------------------------------------------------</span></span>
<span id="section-cb11-12"><a href="#section-cb11-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb11-13"><a href="#section-cb11-13" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="section-cb11-14"><a href="#section-cb11-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sidebarLayout</span>(</span>
<span id="section-cb11-15"><a href="#section-cb11-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sidebarPanel</span>(</span>
<span id="section-cb11-16"><a href="#section-cb11-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">selectInput</span>(</span>
<span id="section-cb11-17"><a href="#section-cb11-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">inputId =</span> <span class="st">&quot;y&quot;</span>,</span>
<span id="section-cb11-18"><a href="#section-cb11-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="st">&quot;Y-axis:&quot;</span>,</span>
<span id="section-cb11-19"><a href="#section-cb11-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">choices =</span> <span class="fu">c</span>(</span>
<span id="section-cb11-20"><a href="#section-cb11-20" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;IMDB rating&quot;</span> <span class="ot">=</span> <span class="st">&quot;imdb_rating&quot;</span>,</span>
<span id="section-cb11-21"><a href="#section-cb11-21" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;IMDB number of votes&quot;</span> <span class="ot">=</span> <span class="st">&quot;imdb_num_votes&quot;</span>,</span>
<span id="section-cb11-22"><a href="#section-cb11-22" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Critics Score&quot;</span> <span class="ot">=</span> <span class="st">&quot;critics_score&quot;</span>,</span>
<span id="section-cb11-23"><a href="#section-cb11-23" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Audience Score&quot;</span> <span class="ot">=</span> <span class="st">&quot;audience_score&quot;</span>,</span>
<span id="section-cb11-24"><a href="#section-cb11-24" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Runtime&quot;</span> <span class="ot">=</span> <span class="st">&quot;runtime&quot;</span></span>
<span id="section-cb11-25"><a href="#section-cb11-25" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="section-cb11-26"><a href="#section-cb11-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">selected =</span> <span class="st">&quot;audience_score&quot;</span></span>
<span id="section-cb11-27"><a href="#section-cb11-27" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="section-cb11-28"><a href="#section-cb11-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb11-29"><a href="#section-cb11-29" aria-hidden="true" tabindex="-1"></a>      <span class="fu">selectInput</span>(</span>
<span id="section-cb11-30"><a href="#section-cb11-30" aria-hidden="true" tabindex="-1"></a>        <span class="at">inputId =</span> <span class="st">&quot;x&quot;</span>,</span>
<span id="section-cb11-31"><a href="#section-cb11-31" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="st">&quot;X-axis:&quot;</span>,</span>
<span id="section-cb11-32"><a href="#section-cb11-32" aria-hidden="true" tabindex="-1"></a>        <span class="at">choices =</span> <span class="fu">c</span>(</span>
<span id="section-cb11-33"><a href="#section-cb11-33" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;IMDB rating&quot;</span> <span class="ot">=</span> <span class="st">&quot;imdb_rating&quot;</span>,</span>
<span id="section-cb11-34"><a href="#section-cb11-34" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;IMDB number of votes&quot;</span> <span class="ot">=</span> <span class="st">&quot;imdb_num_votes&quot;</span>,</span>
<span id="section-cb11-35"><a href="#section-cb11-35" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Critics Score&quot;</span> <span class="ot">=</span> <span class="st">&quot;critics_score&quot;</span>,</span>
<span id="section-cb11-36"><a href="#section-cb11-36" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Audience Score&quot;</span> <span class="ot">=</span> <span class="st">&quot;audience_score&quot;</span>,</span>
<span id="section-cb11-37"><a href="#section-cb11-37" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Runtime&quot;</span> <span class="ot">=</span> <span class="st">&quot;runtime&quot;</span></span>
<span id="section-cb11-38"><a href="#section-cb11-38" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="section-cb11-39"><a href="#section-cb11-39" aria-hidden="true" tabindex="-1"></a>        <span class="at">selected =</span> <span class="st">&quot;critics_score&quot;</span></span>
<span id="section-cb11-40"><a href="#section-cb11-40" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="section-cb11-41"><a href="#section-cb11-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb11-42"><a href="#section-cb11-42" aria-hidden="true" tabindex="-1"></a>      <span class="fu">selectInput</span>(</span>
<span id="section-cb11-43"><a href="#section-cb11-43" aria-hidden="true" tabindex="-1"></a>        <span class="at">inputId =</span> <span class="st">&quot;z&quot;</span>,</span>
<span id="section-cb11-44"><a href="#section-cb11-44" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="st">&quot;Color by:&quot;</span>,</span>
<span id="section-cb11-45"><a href="#section-cb11-45" aria-hidden="true" tabindex="-1"></a>        <span class="at">choices =</span> <span class="fu">c</span>(</span>
<span id="section-cb11-46"><a href="#section-cb11-46" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Title Type&quot;</span> <span class="ot">=</span> <span class="st">&quot;title_type&quot;</span>,</span>
<span id="section-cb11-47"><a href="#section-cb11-47" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Genre&quot;</span> <span class="ot">=</span> <span class="st">&quot;genre&quot;</span>,</span>
<span id="section-cb11-48"><a href="#section-cb11-48" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;MPAA Rating&quot;</span> <span class="ot">=</span> <span class="st">&quot;mpaa_rating&quot;</span>,</span>
<span id="section-cb11-49"><a href="#section-cb11-49" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Critics Rating&quot;</span> <span class="ot">=</span> <span class="st">&quot;critics_rating&quot;</span>,</span>
<span id="section-cb11-50"><a href="#section-cb11-50" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;Audience Rating&quot;</span> <span class="ot">=</span> <span class="st">&quot;audience_rating&quot;</span></span>
<span id="section-cb11-51"><a href="#section-cb11-51" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="section-cb11-52"><a href="#section-cb11-52" aria-hidden="true" tabindex="-1"></a>        <span class="at">selected =</span> <span class="st">&quot;mpaa_rating&quot;</span></span>
<span id="section-cb11-53"><a href="#section-cb11-53" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="section-cb11-54"><a href="#section-cb11-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb11-55"><a href="#section-cb11-55" aria-hidden="true" tabindex="-1"></a>      <span class="fu">sliderInput</span>(</span>
<span id="section-cb11-56"><a href="#section-cb11-56" aria-hidden="true" tabindex="-1"></a>        <span class="at">inputId =</span> <span class="st">&quot;alpha&quot;</span>,</span>
<span id="section-cb11-57"><a href="#section-cb11-57" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="st">&quot;Alpha:&quot;</span>,</span>
<span id="section-cb11-58"><a href="#section-cb11-58" aria-hidden="true" tabindex="-1"></a>        <span class="at">min =</span> <span class="dv">0</span>, <span class="at">max =</span> <span class="dv">1</span>,</span>
<span id="section-cb11-59"><a href="#section-cb11-59" aria-hidden="true" tabindex="-1"></a>        <span class="at">value =</span> <span class="fl">0.5</span></span>
<span id="section-cb11-60"><a href="#section-cb11-60" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="section-cb11-61"><a href="#section-cb11-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb11-62"><a href="#section-cb11-62" aria-hidden="true" tabindex="-1"></a>      <span class="fu">sliderInput</span>(</span>
<span id="section-cb11-63"><a href="#section-cb11-63" aria-hidden="true" tabindex="-1"></a>        <span class="at">inputId =</span> <span class="st">&quot;size&quot;</span>,</span>
<span id="section-cb11-64"><a href="#section-cb11-64" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="st">&quot;Size:&quot;</span>,</span>
<span id="section-cb11-65"><a href="#section-cb11-65" aria-hidden="true" tabindex="-1"></a>        <span class="at">min =</span> <span class="dv">0</span>, <span class="at">max =</span> <span class="dv">5</span>,</span>
<span id="section-cb11-66"><a href="#section-cb11-66" aria-hidden="true" tabindex="-1"></a>        <span class="at">value =</span> <span class="dv">2</span></span>
<span id="section-cb11-67"><a href="#section-cb11-67" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="section-cb11-68"><a href="#section-cb11-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb11-69"><a href="#section-cb11-69" aria-hidden="true" tabindex="-1"></a>      <span class="fu">textInput</span>(</span>
<span id="section-cb11-70"><a href="#section-cb11-70" aria-hidden="true" tabindex="-1"></a>        <span class="at">inputId =</span> <span class="st">&quot;plot_title&quot;</span>,</span>
<span id="section-cb11-71"><a href="#section-cb11-71" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="st">&quot;Plot title&quot;</span>,</span>
<span id="section-cb11-72"><a href="#section-cb11-72" aria-hidden="true" tabindex="-1"></a>        <span class="at">placeholder =</span> <span class="st">&quot;Enter text to be used as plot title&quot;</span></span>
<span id="section-cb11-73"><a href="#section-cb11-73" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="section-cb11-74"><a href="#section-cb11-74" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="section-cb11-75"><a href="#section-cb11-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb11-76"><a href="#section-cb11-76" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mainPanel</span>(</span>
<span id="section-cb11-77"><a href="#section-cb11-77" aria-hidden="true" tabindex="-1"></a>      <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">&quot;scatterplot&quot;</span>)</span>
<span id="section-cb11-78"><a href="#section-cb11-78" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="section-cb11-79"><a href="#section-cb11-79" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="section-cb11-80"><a href="#section-cb11-80" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="section-cb11-81"><a href="#section-cb11-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb11-82"><a href="#section-cb11-82" aria-hidden="true" tabindex="-1"></a><span class="co"># Define server ----------------------------------------------------------------</span></span>
<span id="section-cb11-83"><a href="#section-cb11-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb11-84"><a href="#section-cb11-84" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="section-cb11-85"><a href="#section-cb11-85" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>scatterplot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="section-cb11-86"><a href="#section-cb11-86" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="at">data =</span> movies, <span class="fu">aes_string</span>(<span class="at">x =</span> input<span class="sc">$</span>x, <span class="at">y =</span> input<span class="sc">$</span>y, <span class="at">color =</span> input<span class="sc">$</span>z)) <span class="sc">+</span></span>
<span id="section-cb11-87"><a href="#section-cb11-87" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_point</span>(<span class="at">alpha =</span> input<span class="sc">$</span>alpha, <span class="at">size =</span> input<span class="sc">$</span>size) <span class="sc">+</span></span>
<span id="section-cb11-88"><a href="#section-cb11-88" aria-hidden="true" tabindex="-1"></a>      <span class="fu">labs</span>(<span class="at">title =</span> <span class="fu">toTitleCase</span>(input<span class="sc">$</span>plot_title))</span>
<span id="section-cb11-89"><a href="#section-cb11-89" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="section-cb11-90"><a href="#section-cb11-90" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="section-cb11-91"><a href="#section-cb11-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb11-92"><a href="#section-cb11-92" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the Shiny app object --------------------------------------------------</span></span>
<span id="section-cb11-93"><a href="#section-cb11-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb11-94"><a href="#section-cb11-94" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code></pre></div>
</div>
</div>
<div id="section-trigger-with-observeevent" class="section level3">
<h3>Trigger with <code>observeEvent()</code></h3>
<p>In this app we want two things to happen when an action button is clicked:</p>
<ol style="list-style-type: decimal">
<li>A message printed to the console stating how many records are shown and</li>
<li>A table output of those records.</li>
</ol>
<div id="section-your-turn-6" class="section level4">
<h4>Your turn</h4>
<ul>
<li>Fill in the necessary function and input ID for printing a message to the console when the action button is clicked.</li>
<li>Set up a table output that will print only when action button is clicked, but not when other inputs that go into the creation of that output changes.</li>
</ul>
<div class="proj">
<p><em>Complete the exercise by navigating to the RStudio Cloud Project titled <strong>3-4c Trigger with observeEvent()</strong> in your RStudio Workspace</em></p>
<p><a href="https://rstudio.cloud/spaces/81721/join?access_code=I4VJaNsKfTqR3Td9hLP7E1nz8%2FtMg6Xbw9Bgqumv" class="btn test-drive"><i class="fa fa-cloud"></i> Go to RStudio Cloud Project</a></p>
</div>
<div class="sourceCode" id="section-cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb12-1"><a href="#section-cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load packages ----------------------------------------------------------------</span></span>
<span id="section-cb12-2"><a href="#section-cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb12-3"><a href="#section-cb12-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="section-cb12-4"><a href="#section-cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb12-5"><a href="#section-cb12-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Load data --------------------------------------------------------------------</span></span>
<span id="section-cb12-6"><a href="#section-cb12-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb12-7"><a href="#section-cb12-7" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;movies.RData&quot;</span>)</span>
<span id="section-cb12-8"><a href="#section-cb12-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb12-9"><a href="#section-cb12-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Define UI --------------------------------------------------------------------</span></span>
<span id="section-cb12-10"><a href="#section-cb12-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb12-11"><a href="#section-cb12-11" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="section-cb12-12"><a href="#section-cb12-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sidebarLayout</span>(</span>
<span id="section-cb12-13"><a href="#section-cb12-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sidebarPanel</span>(</span>
<span id="section-cb12-14"><a href="#section-cb12-14" aria-hidden="true" tabindex="-1"></a>      <span class="fu">numericInput</span>(</span>
<span id="section-cb12-15"><a href="#section-cb12-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">inputId =</span> <span class="st">&quot;n_rows&quot;</span>,</span>
<span id="section-cb12-16"><a href="#section-cb12-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="st">&quot;How many rows do you want to see?&quot;</span>,</span>
<span id="section-cb12-17"><a href="#section-cb12-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">value =</span> <span class="dv">10</span></span>
<span id="section-cb12-18"><a href="#section-cb12-18" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="section-cb12-19"><a href="#section-cb12-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb12-20"><a href="#section-cb12-20" aria-hidden="true" tabindex="-1"></a>      <span class="fu">actionButton</span>(</span>
<span id="section-cb12-21"><a href="#section-cb12-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">inputId =</span> <span class="st">&quot;button&quot;</span>,</span>
<span id="section-cb12-22"><a href="#section-cb12-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="st">&quot;Show&quot;</span></span>
<span id="section-cb12-23"><a href="#section-cb12-23" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="section-cb12-24"><a href="#section-cb12-24" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="section-cb12-25"><a href="#section-cb12-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb12-26"><a href="#section-cb12-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mainPanel</span>(</span>
<span id="section-cb12-27"><a href="#section-cb12-27" aria-hidden="true" tabindex="-1"></a>      <span class="fu">tableOutput</span>(<span class="at">outputId =</span> <span class="st">&quot;datatable&quot;</span>)</span>
<span id="section-cb12-28"><a href="#section-cb12-28" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="section-cb12-29"><a href="#section-cb12-29" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="section-cb12-30"><a href="#section-cb12-30" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="section-cb12-31"><a href="#section-cb12-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb12-32"><a href="#section-cb12-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Define server ----------------------------------------------------------------</span></span>
<span id="section-cb12-33"><a href="#section-cb12-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb12-34"><a href="#section-cb12-34" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="section-cb12-35"><a href="#section-cb12-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb12-36"><a href="#section-cb12-36" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Print a message to the console every time button is pressed;</span></span>
<span id="section-cb12-37"><a href="#section-cb12-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">___</span>(input<span class="sc">$</span>___, {</span>
<span id="section-cb12-38"><a href="#section-cb12-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">&quot;Showing&quot;</span>, input<span class="sc">$</span>n_rows, <span class="st">&quot;rows</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="section-cb12-39"><a href="#section-cb12-39" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="section-cb12-40"><a href="#section-cb12-40" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="section-cb12-41"><a href="#section-cb12-41" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Take a reactive dependency on input$button, but not on any other inputs</span></span>
<span id="section-cb12-42"><a href="#section-cb12-42" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> <span class="fu">___</span>(input<span class="sc">$</span>___, {</span>
<span id="section-cb12-43"><a href="#section-cb12-43" aria-hidden="true" tabindex="-1"></a>    <span class="fu">head</span>(movies, input<span class="sc">$</span>n_rows)</span>
<span id="section-cb12-44"><a href="#section-cb12-44" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="section-cb12-45"><a href="#section-cb12-45" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>___ <span class="ot">&lt;-</span> <span class="fu">___</span>({</span>
<span id="section-cb12-46"><a href="#section-cb12-46" aria-hidden="true" tabindex="-1"></a>    <span class="fu">df</span>()</span>
<span id="section-cb12-47"><a href="#section-cb12-47" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="section-cb12-48"><a href="#section-cb12-48" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="section-cb12-49"><a href="#section-cb12-49" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="section-cb12-50"><a href="#section-cb12-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb12-51"><a href="#section-cb12-51" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the Shiny app object --------------------------------------------------</span></span>
<span id="section-cb12-52"><a href="#section-cb12-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb12-53"><a href="#section-cb12-53" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code></pre></div>
</div>
</div>
<div id="section-difference-between-eventreactive-and-observeevent" class="section level3">
<h3>Difference between <code>eventReactive()</code> and <code>observeEvent()</code></h3>
<div class="panel panel-default">
<div data-label="diff" class="tutorial-question panel-body">
<div id="diff-answer_container" class="shiny-html-output"></div>
<div id="diff-message_container" class="shiny-html-output"></div>
<div id="diff-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
</div>
</div>
<div id="section-reactive-recap" class="section level2">
<h2>3.5 Reactive Recap</h2>
<div id="section-section-7" class="section level3">
<h3></h3>
<p>Let’s recap what we have learned about reactivity and discuss best practices.</p>
</div>
<div id="section-three-lessons" class="section level3">
<h3>Three Lessons</h3>
<p>There are three main takeaway messages about reactivity that all Shiny developers should be familiar with.</p>
<ol style="list-style-type: decimal">
<li>Reactives are like functions, but they are lazily evaluated, meaning they will only evaluate when their inputs change, not each time they are called.</li>
<li>Reactive inputs and expressions are for their values and observers are for their side effects.</li>
<li>Do not define a <code>reactive()</code> inside a <code>render*()</code> function.</li>
</ol>
</div>
<div id="section-whats-wrong" class="section level3">
<h3>What’s wrong?</h3>
<p>We’ll wrap up the chapter with a simple but important example.</p>
<p>Here we have an app that adds 2 to the current value of x.</p>
<div class="sourceCode" id="section-cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb13-1"><a href="#section-cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="section-cb13-2"><a href="#section-cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb13-3"><a href="#section-cb13-3" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="section-cb13-4"><a href="#section-cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">titlePanel</span>(<span class="st">&quot;Add 2&quot;</span>),</span>
<span id="section-cb13-5"><a href="#section-cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sidebarLayout</span>(</span>
<span id="section-cb13-6"><a href="#section-cb13-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sidebarPanel</span>(</span>
<span id="section-cb13-7"><a href="#section-cb13-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">sliderInput</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;Select x&quot;</span>, <span class="at">min =</span> <span class="dv">1</span>, <span class="at">max =</span> <span class="dv">50</span>, <span class="at">value =</span> <span class="dv">30</span>)</span>
<span id="section-cb13-8"><a href="#section-cb13-8" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="section-cb13-9"><a href="#section-cb13-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mainPanel</span>(<span class="fu">textOutput</span>(<span class="st">&quot;x_updated&quot;</span>))</span>
<span id="section-cb13-10"><a href="#section-cb13-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="section-cb13-11"><a href="#section-cb13-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="section-cb13-12"><a href="#section-cb13-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb13-13"><a href="#section-cb13-13" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="section-cb13-14"><a href="#section-cb13-14" aria-hidden="true" tabindex="-1"></a>  add_2 <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="section-cb13-15"><a href="#section-cb13-15" aria-hidden="true" tabindex="-1"></a>    x <span class="sc">+</span> <span class="dv">2</span></span>
<span id="section-cb13-16"><a href="#section-cb13-16" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="section-cb13-17"><a href="#section-cb13-17" aria-hidden="true" tabindex="-1"></a>  current_x <span class="ot">&lt;-</span> <span class="fu">add_2</span>(input<span class="sc">$</span>x)</span>
<span id="section-cb13-18"><a href="#section-cb13-18" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>x_updated <span class="ot">&lt;-</span> <span class="fu">renderText</span>({</span>
<span id="section-cb13-19"><a href="#section-cb13-19" aria-hidden="true" tabindex="-1"></a>    current_x</span>
<span id="section-cb13-20"><a href="#section-cb13-20" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="section-cb13-21"><a href="#section-cb13-21" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="section-cb13-22"><a href="#section-cb13-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb13-23"><a href="#section-cb13-23" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyApp</span>(ui, server)</span></code></pre></div>
</div>
<div id="section-section-8" class="section level3">
<h3></h3>
<p>Here is what the app should look like:</p>
<p><img src="images/add-2.png" width="50%" style="display: block; margin: auto;" /></p>
</div>
<div id="section-section-9" class="section level3">
<h3></h3>
<p>And here again is the code. What’s wrong here?</p>
<div class="sourceCode" id="section-cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb14-1"><a href="#section-cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="section-cb14-2"><a href="#section-cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb14-3"><a href="#section-cb14-3" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="section-cb14-4"><a href="#section-cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">titlePanel</span>(<span class="st">&quot;Add 2&quot;</span>),</span>
<span id="section-cb14-5"><a href="#section-cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sidebarLayout</span>(</span>
<span id="section-cb14-6"><a href="#section-cb14-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sidebarPanel</span>(</span>
<span id="section-cb14-7"><a href="#section-cb14-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">sliderInput</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;Select x&quot;</span>, <span class="at">min =</span> <span class="dv">1</span>, <span class="at">max =</span> <span class="dv">50</span>, <span class="at">value =</span> <span class="dv">30</span>)</span>
<span id="section-cb14-8"><a href="#section-cb14-8" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="section-cb14-9"><a href="#section-cb14-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mainPanel</span>(<span class="fu">textOutput</span>(<span class="st">&quot;x_updated&quot;</span>))</span>
<span id="section-cb14-10"><a href="#section-cb14-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="section-cb14-11"><a href="#section-cb14-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="section-cb14-12"><a href="#section-cb14-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb14-13"><a href="#section-cb14-13" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="section-cb14-14"><a href="#section-cb14-14" aria-hidden="true" tabindex="-1"></a>  add_2 <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="section-cb14-15"><a href="#section-cb14-15" aria-hidden="true" tabindex="-1"></a>    x <span class="sc">+</span> <span class="dv">2</span></span>
<span id="section-cb14-16"><a href="#section-cb14-16" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="section-cb14-17"><a href="#section-cb14-17" aria-hidden="true" tabindex="-1"></a>  current_x <span class="ot">&lt;-</span> <span class="fu">add_2</span>(input<span class="sc">$</span>x)</span>
<span id="section-cb14-18"><a href="#section-cb14-18" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>x_updated <span class="ot">&lt;-</span> <span class="fu">renderText</span>({</span>
<span id="section-cb14-19"><a href="#section-cb14-19" aria-hidden="true" tabindex="-1"></a>    current_x</span>
<span id="section-cb14-20"><a href="#section-cb14-20" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="section-cb14-21"><a href="#section-cb14-21" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="section-cb14-22"><a href="#section-cb14-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb14-23"><a href="#section-cb14-23" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyApp</span>(ui, server)</span></code></pre></div>
</div>
<div id="section-section-10" class="section level3">
<h3></h3>
<p>The object <code>current_x</code> is used in the render function, but it’s not currently a reactive expression.</p>
</div>
<div id="section-section-11" class="section level3">
<h3></h3>
<p>So we need to put the definition of <code>current_x</code> in the reactive function, like this:</p>
<div class="sourceCode" id="section-cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb15-1"><a href="#section-cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="section-cb15-2"><a href="#section-cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb15-3"><a href="#section-cb15-3" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="section-cb15-4"><a href="#section-cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">titlePanel</span>(<span class="st">&quot;Add 2&quot;</span>),</span>
<span id="section-cb15-5"><a href="#section-cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sidebarLayout</span>(</span>
<span id="section-cb15-6"><a href="#section-cb15-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sidebarPanel</span>(<span class="fu">sliderInput</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;Select x&quot;</span>, <span class="at">min =</span> <span class="dv">1</span>, <span class="at">max =</span> <span class="dv">50</span>, <span class="at">value =</span> <span class="dv">30</span>)),</span>
<span id="section-cb15-7"><a href="#section-cb15-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mainPanel</span>(<span class="fu">textOutput</span>(<span class="st">&quot;x_updated&quot;</span>))</span>
<span id="section-cb15-8"><a href="#section-cb15-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="section-cb15-9"><a href="#section-cb15-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="section-cb15-10"><a href="#section-cb15-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb15-11"><a href="#section-cb15-11" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="section-cb15-12"><a href="#section-cb15-12" aria-hidden="true" tabindex="-1"></a>  add_2 <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="section-cb15-13"><a href="#section-cb15-13" aria-hidden="true" tabindex="-1"></a>    x <span class="sc">+</span> <span class="dv">2</span></span>
<span id="section-cb15-14"><a href="#section-cb15-14" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="section-cb15-15"><a href="#section-cb15-15" aria-hidden="true" tabindex="-1"></a>  current_x <span class="ot">&lt;-</span> <span class="fu">reactive</span>({</span>
<span id="section-cb15-16"><a href="#section-cb15-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_2</span>(input<span class="sc">$</span>x)</span>
<span id="section-cb15-17"><a href="#section-cb15-17" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="section-cb15-18"><a href="#section-cb15-18" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>x_updated <span class="ot">&lt;-</span> <span class="fu">renderText</span>({</span>
<span id="section-cb15-19"><a href="#section-cb15-19" aria-hidden="true" tabindex="-1"></a>    current_x</span>
<span id="section-cb15-20"><a href="#section-cb15-20" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="section-cb15-21"><a href="#section-cb15-21" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="section-cb15-22"><a href="#section-cb15-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb15-23"><a href="#section-cb15-23" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyApp</span>(ui, server)</span></code></pre></div>
<p>But that’s still not enough…</p>
</div>
<div id="section-section-12" class="section level3">
<h3></h3>
<p>We also need to refer to <code>current_x</code> with parantheses after its name.</p>
<div class="sourceCode" id="section-cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb16-1"><a href="#section-cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="section-cb16-2"><a href="#section-cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb16-3"><a href="#section-cb16-3" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="section-cb16-4"><a href="#section-cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">titlePanel</span>(<span class="st">&quot;Add 2&quot;</span>),</span>
<span id="section-cb16-5"><a href="#section-cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sidebarLayout</span>(</span>
<span id="section-cb16-6"><a href="#section-cb16-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sidebarPanel</span>(<span class="fu">sliderInput</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;Select x&quot;</span>, <span class="at">min =</span> <span class="dv">1</span>, <span class="at">max =</span> <span class="dv">50</span>, <span class="at">value =</span> <span class="dv">30</span>)),</span>
<span id="section-cb16-7"><a href="#section-cb16-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mainPanel</span>(<span class="fu">textOutput</span>(<span class="st">&quot;x_updated&quot;</span>))</span>
<span id="section-cb16-8"><a href="#section-cb16-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="section-cb16-9"><a href="#section-cb16-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="section-cb16-10"><a href="#section-cb16-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb16-11"><a href="#section-cb16-11" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="section-cb16-12"><a href="#section-cb16-12" aria-hidden="true" tabindex="-1"></a>  add_2 <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="section-cb16-13"><a href="#section-cb16-13" aria-hidden="true" tabindex="-1"></a>    x <span class="sc">+</span> <span class="dv">2</span></span>
<span id="section-cb16-14"><a href="#section-cb16-14" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="section-cb16-15"><a href="#section-cb16-15" aria-hidden="true" tabindex="-1"></a>  current_x <span class="ot">&lt;-</span> <span class="fu">reactive</span>({</span>
<span id="section-cb16-16"><a href="#section-cb16-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_2</span>(input<span class="sc">$</span>x)</span>
<span id="section-cb16-17"><a href="#section-cb16-17" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="section-cb16-18"><a href="#section-cb16-18" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>x_updated <span class="ot">&lt;-</span> <span class="fu">renderText</span>({</span>
<span id="section-cb16-19"><a href="#section-cb16-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">current_x</span>()</span>
<span id="section-cb16-20"><a href="#section-cb16-20" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="section-cb16-21"><a href="#section-cb16-21" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="section-cb16-22"><a href="#section-cb16-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb16-23"><a href="#section-cb16-23" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyApp</span>(ui, server)</span></code></pre></div>
<p>Missing the parentheses is a common error when working with reactives. So add this to your list! When developing Shiny apps, be wary of missing commas, and of missing parentheses when calling reactive expressions.</p>
</div>
</div>
<div id="section-practice-4" class="section level2">
<h2>3.5 Practice</h2>
<div id="section-whats-wrong-1" class="section level3">
<h3>What’s wrong?</h3>
<div id="section-your-turn-7" class="section level4">
<h4>Your turn</h4>
<p>What’s wrong with this? Fix it.</p>
<div class="proj">
<p><em>Complete the exercise by navigating to the RStudio Cloud Project titled <strong>3-5 Whats wrong</strong> in your RStudio Workspace</em></p>
<p><a href="https://rstudio.cloud/spaces/81721/join?access_code=I4VJaNsKfTqR3Td9hLP7E1nz8%2FtMg6Xbw9Bgqumv" class="btn test-drive"><i class="fa fa-cloud"></i> Go to RStudio Cloud Project</a></p>
</div>
<div class="sourceCode" id="section-cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb17-1"><a href="#section-cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load packages ----------------------------------------------------------------</span></span>
<span id="section-cb17-2"><a href="#section-cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb17-3"><a href="#section-cb17-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="section-cb17-4"><a href="#section-cb17-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb17-5"><a href="#section-cb17-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Define UI --------------------------------------------------------------------</span></span>
<span id="section-cb17-6"><a href="#section-cb17-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb17-7"><a href="#section-cb17-7" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="section-cb17-8"><a href="#section-cb17-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">titlePanel</span>(<span class="st">&quot;Multiply by 3&quot;</span>),</span>
<span id="section-cb17-9"><a href="#section-cb17-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sidebarLayout</span>(</span>
<span id="section-cb17-10"><a href="#section-cb17-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sidebarPanel</span>(<span class="fu">sliderInput</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;Select x&quot;</span>, <span class="at">min =</span> <span class="dv">1</span>, <span class="at">max =</span> <span class="dv">50</span>, <span class="at">value =</span> <span class="dv">30</span>)),</span>
<span id="section-cb17-11"><a href="#section-cb17-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mainPanel</span>(<span class="fu">textOutput</span>(<span class="st">&quot;x_updated&quot;</span>))</span>
<span id="section-cb17-12"><a href="#section-cb17-12" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="section-cb17-13"><a href="#section-cb17-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="section-cb17-14"><a href="#section-cb17-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb17-15"><a href="#section-cb17-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Define server ----------------------------------------------------------------</span></span>
<span id="section-cb17-16"><a href="#section-cb17-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb17-17"><a href="#section-cb17-17" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="section-cb17-18"><a href="#section-cb17-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="section-cb17-19"><a href="#section-cb17-19" aria-hidden="true" tabindex="-1"></a>  mult_3 <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="section-cb17-20"><a href="#section-cb17-20" aria-hidden="true" tabindex="-1"></a>    x <span class="sc">*</span> <span class="dv">3</span></span>
<span id="section-cb17-21"><a href="#section-cb17-21" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="section-cb17-22"><a href="#section-cb17-22" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>x_updated <span class="ot">&lt;-</span> <span class="fu">mult_3</span>(input<span class="sc">$</span>x)</span>
<span id="section-cb17-23"><a href="#section-cb17-23" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="section-cb17-24"><a href="#section-cb17-24" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="section-cb17-25"><a href="#section-cb17-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="section-cb17-26"><a href="#section-cb17-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the Shiny app ---------------------------------------------------------</span></span>
<span id="section-cb17-27"><a href="#section-cb17-27" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyApp</span>(ui, server)</span></code></pre></div>

<script type="application/shiny-prerendered" data-context="server-start">
library(learnr)
library(shiny)
library(tidyverse)
library(usethis)
library(devtools)
library(rsconnect)

knitr::opts_chunk$set(
  echo = FALSE, 
  fig.align = "center",
  out.width = "80%"
  )
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::register_http_handlers(session, metadata = NULL)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::clear_exercise_cache_env()
</script>
 
<script type="application/shiny-prerendered" data-context="server">
session$onSessionEnded(function() {
        learnr:::event_trigger(session, "session_stop")
      })
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_setup_chunk("__setup__", c("library(learnr)", "library(shiny)", "library(tidyverse)", 
"library(usethis)", "library(devtools)", "library(rsconnect)", 
"", "knitr::opts_chunk$set(", "  echo = FALSE, ", "  fig.align = \"center\",", 
"  out.width = \"80%\"", "  )"), overwrite = FALSE)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_setup_chunk("__setup__", c("library(learnr)", "library(shiny)", "library(tidyverse)", 
"library(usethis)", "library(devtools)", "library(rsconnect)", 
"", "knitr::opts_chunk$set(", "  echo = FALSE, ", "  fig.align = \"center\",", 
"  out.width = \"80%\"", "  )"), overwrite = FALSE)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_setup_chunk("__setup__", c("library(learnr)", "library(shiny)", "library(tidyverse)", 
"library(usethis)", "library(devtools)", "library(rsconnect)", 
"", "knitr::opts_chunk$set(", "  echo = FALSE, ", "  fig.align = \"center\",", 
"  out.width = \"80%\"", "  )"), overwrite = FALSE)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_checkbox", label = "mc-parents-children", 
    question = structure("Which of the following is false? Select all that apply.", html = TRUE, class = c("html", 
    "character")), answers = list(structure(list(id = "lnr_ans_b5f896e", 
        option = "Reactive inputs can only be parents.", value = "Reactive inputs can only be parents.", 
        label = structure("Reactive inputs can only be parents.", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_83dbda7", 
        option = "Reactive inputs can only be children.", value = "Reactive inputs can only be children.", 
        label = structure("Reactive inputs can only be children.", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = NULL), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_9415b6c", 
        option = "Reactive expressions can be parents.", value = "Reactive expressions can be parents.", 
        label = structure("Reactive expressions can be parents.", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_42013c0", 
        option = "Reactive expressions can be children.", value = "Reactive expressions can be children.", 
        label = structure("Reactive expressions can be children.", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_ff3a476", 
        option = "Reactive outputs can be parents.", value = "Reactive outputs can be parents.", 
        label = structure("Reactive outputs can be parents.", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = NULL), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_aa8a17a", 
        option = "Reactive outputs can be children", value = "Reactive outputs can be children", 
        label = structure("Reactive outputs can be children", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
    "character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
    "character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
    "character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), message = NULL, post_message = NULL), ids = list(
        answer = "mc-parents-children-answer", question = "mc-parents-children"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nWhich of the following is false? Select all that apply.\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 248273784.884389, options = list()), class = c("learnr_checkbox", 
"tutorial_question")))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "mc-component", 
    question = structure("The <code>movies_selected()<\u002fcode> reactive expression from the previous exercise is a...", html = TRUE, class = c("html", 
    "character")), answers = list(structure(list(id = "lnr_ans_ed7de94", 
        option = "Reactive input", value = "Reactive input", 
        label = structure("Reactive input", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_aa5c151", 
        option = "Reactive expression", value = "Reactive expression", 
        label = structure("Reactive expression", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = NULL), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_592bd0a", 
        option = "Reactive output", value = "Reactive output", 
        label = structure("Reactive output", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_93c404b", 
        option = "Reactive paradigm", value = "Reactive paradigm", 
        label = structure("Reactive paradigm", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
    "character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
    "character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
    "character")), try_again = structure("Try again -- does it have children? Does it have parents? Does it have both?", html = TRUE, class = c("html", 
    "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), message = NULL, post_message = NULL), ids = list(
        answer = "mc-component-answer", question = "mc-component"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nThe <code>movies_selected()<\u002fcode> reactive expression from the previous exercise is a...\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 974179516.046362, options = list()), class = c("learnr_radio", 
"tutorial_question")))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "diff", question = structure("Which of the following is false?", html = TRUE, class = c("html", 
"character")), answers = list(structure(list(id = "lnr_ans_6d16349", 
    option = "`observeEvent()` is used to perform an action in response to an event", 
    value = "`observeEvent()` is used to perform an action in response to an event", 
    label = structure("<code>observeEvent()<\u002fcode> is used to perform an action in response to an event", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_5607c90", 
    option = "`isolate()` is used to trigger a reaction", value = "`isolate()` is used to trigger a reaction", 
    label = structure("<code>isolate()<\u002fcode> is used to trigger a reaction", html = TRUE, class = c("html", 
    "character")), correct = TRUE, message = NULL), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_1ab609f", 
    option = "`eventReactive()` is used to create a calculated value that only updates in response to an event", 
    value = "`eventReactive()` is used to create a calculated value that only updates in response to an event", 
    label = structure("<code>eventReactive()<\u002fcode> is used to create a calculated value that only updates in response to an event", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_e381a28", 
    option = "Recalculating a value does not generally count as performing an action", 
    value = "Recalculating a value does not generally count as performing an action", 
    label = structure("Recalculating a value does not generally count as performing an action", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer", 
"tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
"character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
"character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
"character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
"character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
"character")), message = NULL, post_message = NULL), ids = list(
    answer = "diff-answer", question = "diff"), loading = structure("<strong>Loading:<\u002fstrong> \nWhich of the following is false?\n<br/><br/><br/>", html = TRUE, class = c("html", 
"character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 1955954131.58919, options = list()), class = c("learnr_radio", 
"tutorial_question")))
</script>
 <!--html_preserve-->
<script type="application/shiny-prerendered" data-context="dependencies">
{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["header-attrs"]},{"type":"character","attributes":{},"value":["2.7.10"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/pandoc"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["header-attrs.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.7.10"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["1.11.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.7.10"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootstrap"]},{"type":"character","attributes":{},"value":["3.3.5"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/bootstrap"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["viewport"]}},"value":[{"type":"character","attributes":{},"value":["width=device-width, initial-scale=1"]}]},{"type":"character","attributes":{},"value":["js/bootstrap.min.js","shim/html5shiv.min.js","shim/respond.min.js"]},{"type":"character","attributes":{},"value":["css/paper.min.css"]},{"type":"character","attributes":{},"value":["<style>h1 {font-size: 34px;}\n       h1.title {font-size: 38px;}\n       h2 {font-size: 30px;}\n       h3 {font-size: 24px;}\n       h4 {font-size: 18px;}\n       h5 {font-size: 16px;}\n       h6 {font-size: 12px;}\n       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}\n       pre:not([class]) { background-color: white }<\/style>"]},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.7.10"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["pagedtable"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/pagedtable-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/pagedtable.js"]},{"type":"character","attributes":{},"value":["css/pagedtable.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.7.10"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial"]},{"type":"character","attributes":{},"value":["0.10.1.9008"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial.js"]},{"type":"character","attributes":{},"value":["tutorial.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9008"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-autocompletion"]},{"type":"character","attributes":{},"value":["0.10.1.9008"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-autocompletion.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9008"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-diagnostics"]},{"type":"character","attributes":{},"value":["0.10.1.9008"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-diagnostics.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9008"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["i18n"]},{"type":"character","attributes":{},"value":["1.2.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/i18n"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["i18next.min.js","tutorial-i18n-init.js"]},{"type":"NULL"},{"type":"character","attributes":{},"value":["<script id=\"i18n-cstm-trns\" type=\"application/json\">{\"language\":\"en\",\"resources\":{\"en\":{\"translation\":{\"button\":{\"runcode\":\"Run Code\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Hint\",\"hint_plural\":\"Hints\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Next Hint\",\"hintprev\":\"Previous Hint\",\"solution\":\"Solution\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Copy to Clipboard\",\"startover\":\"Start Over\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Continue\",\"submitanswer\":\"Submit Answer\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Previous Topic\",\"nexttopic\":\"Next Topic\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Try Again\"},\"text\":{\"startover\":\"Start Over\",\"areyousure\":\"Are you sure you want to start over? (all exercise progress will be reset)\",\"youmustcomplete\":\"You must complete the\",\"exercise\":\"exercise\",\"exercise_plural\":\"exercises\",\"inthissection\":\"in this section before continuing.\",\"code\":\"Code\",\"enginecap\":\"{{engine}} $t(text.code)\",\"quiz\":\"Quiz\"}}},\"fr\":{\"translation\":{\"button\":{\"runcode\":\"Lancer le Code\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Indication\",\"hint_plural\":\"Indications\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Indication Suivante\",\"hintprev\":\"Indication Précédente\",\"solution\":\"Solution\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Copier dans le Presse-papier\",\"startover\":\"Recommencer\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Continuer\",\"submitanswer\":\"Soumettre\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Chapitre Précédent\",\"nexttopic\":\"Chapitre Suivant\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Réessayer\"},\"text\":{\"startover\":\"Recommencer\",\"areyousure\":\"Êtes-vous certains de vouloir recommencer? (La progression sera remise à zéro)\",\"youmustcomplete\":\"Vous devez d'abord compléter\",\"exercise\":\"l'exercice\",\"exercise_plural\":\"des exercices\",\"inthissection\":\"de cette section avec de continuer.\",\"code\":\"Code\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Quiz\"}}},\"es\":{\"translation\":{\"button\":{\"runcode\":\"Ejecutar código\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Pista\",\"hint_plural\":\"Pistas\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Siguiente pista\",\"hintprev\":\"Pista anterior\",\"solution\":\"Solución\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Copiar al portapapeles\",\"startover\":\"Reiniciar\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Continuar\",\"submitanswer\":\"Enviar respuesta\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Tema anterior\",\"nexttopic\":\"Tema siguiente\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Volver a intentar\"},\"text\":{\"startover\":\"Reiniciar\",\"areyousure\":\"¿De verdad quieres empezar de nuevo? (todo el progreso del ejercicio se perderá)\",\"youmustcomplete\":\"Debes completar\",\"exercise\":\"el ejercicio\",\"exercise_plural\":\"los ejercicios\",\"inthissection\":\"en esta sección antes de continuar.\",\"code\":\"Código\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Cuestionario\"}}},\"pt\":{\"translation\":{\"button\":{\"runcode\":\"Executar código\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Dica\",\"hint_plural\":\"Dicas\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Próxima dica\",\"hintprev\":\"Dica anterior\",\"solution\":\"Solução\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Copiar para a área de transferência\",\"startover\":\"Reiniciar\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Continuar\",\"submitanswer\":\"Enviar resposta\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Tópico anterior\",\"nexttopic\":\"Próximo tópico\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Tentar novamente\"},\"text\":{\"startover\":\"Reiniciar\",\"areyousure\":\"Tem certeza que deseja começar novamente? (todo o progresso feito será perdido)\",\"youmustcomplete\":\"Você deve completar\",\"exercise\":\"o exercício\",\"exercise_plural\":\"os exercícios\",\"inthissection\":\"nesta seção antes de continuar.\",\"code\":\"Código\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Quiz\"}}},\"tr\":{\"translation\":{\"button\":{\"runcode\":\"Çalıştırma Kodu\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Ipucu\",\"hint_plural\":\"İpuçları\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Sonraki İpucu\",\"hintprev\":\"Önceki İpucu\",\"solution\":\"Çözüm\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Pano'ya Kopyala\",\"startover\":\"Baştan Başlamak\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Devam et\",\"submitanswer\":\"Cevabı onayla\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Önceki Konu\",\"nexttopic\":\"Sonraki Konu\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Tekrar Deneyin\"},\"text\":{\"startover\":\"Baştan Başlamak\",\"areyousure\":\"Baştan başlamak istediğinizden emin misiniz? (tüm egzersiz ilerlemesi kaybolacak)\",\"youmustcomplete\":\"Tamamlamalısın\",\"exercise\":\"egzersiz\",\"exercise_plural\":\"egzersizler\",\"inthissection\":\"devam etmeden önce bu bölümde\",\"code\":\"Kod\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Sınav\"}}},\"emo\":{\"translation\":{\"button\":{\"runcode\":\"🏃\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"💡\",\"hint_plural\":\"$t(button.hint)\",\"hinttitle\":\"$t(button.hint)\",\"solution\":\"🎯\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"📋\",\"startover\":\"⏮\",\"startovertitle\":\"Start Over\",\"continue\":\"✅\",\"submitanswer\":\"🆗\",\"submitanswertitle\":\"Submit Answer\",\"previoustopic\":\"⬅\",\"nexttopic\":\"➡\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"🔁\"},\"text\":{\"startover\":\"⏮\",\"areyousure\":\"🤔\",\"youmustcomplete\":\"⚠️ 👉 🧑‍💻\",\"exercise\":\"\",\"exercise_plural\":\"\",\"inthissection\":\"\",\"code\":\"💻\",\"enginecap\":\"$t(text.code) {{engine}}\"}}},\"eu\":{\"translation\":{\"button\":{\"runcode\":\"Kodea egikaritu\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Laguntza\",\"hint_plural\":\"Laguntza\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Aurreko laguntza\",\"hintprev\":\"Hurrengo laguntza\",\"solution\":\"Ebazpena\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Arbelean kopiatu\",\"startover\":\"Berrabiarazi\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Jarraitu\",\"submitanswer\":\"Erantzuna bidali\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Aurreko atala\",\"nexttopic\":\"Hurrengo atala\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Berriro saiatu\"},\"text\":{\"startover\":\"Berrabiarazi\",\"areyousure\":\"Berriro hasi nahi duzu? (egindako lana galdu egingo da)\",\"youmustcomplete\":\"Aurrera egin baino lehen atal honetako\",\"exercise\":\"ariketa egin behar duzu.\",\"exercise_plural\":\"ariketak egin behar dituzu.\",\"inthissection\":\"\",\"code\":\"Kodea\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Galdetegia\"}}}}}<\/script>"]},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9008"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-format"]},{"type":"character","attributes":{},"value":["0.10.1.9008"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmarkdown/templates/tutorial/resources"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-format.js"]},{"type":"character","attributes":{},"value":["tutorial-format.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9008"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["1.11.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.7.10"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["navigation"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/navigation-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tabsets.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.7.10"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["highlightjs"]},{"type":"character","attributes":{},"value":["9.12.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/highlightjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["highlight.js"]},{"type":"character","attributes":{},"value":["default.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.7.10"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["1.11.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.7.10"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["font-awesome"]},{"type":"character","attributes":{},"value":["5.1.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/fontawesome"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/all.css","css/v4-shims.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.7.10"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootbox"]},{"type":"character","attributes":{},"value":["4.4.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/bootbox"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["bootbox.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9008"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["idb-keyvalue"]},{"type":"character","attributes":{},"value":["3.2.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/idb-keyval"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["idb-keyval-iife-compat.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["0.10.1.9008"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial"]},{"type":"character","attributes":{},"value":["0.10.1.9008"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial.js"]},{"type":"character","attributes":{},"value":["tutorial.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9008"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-autocompletion"]},{"type":"character","attributes":{},"value":["0.10.1.9008"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-autocompletion.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9008"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-diagnostics"]},{"type":"character","attributes":{},"value":["0.10.1.9008"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-diagnostics.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9008"]}]}]}
</script>
<!--/html_preserve-->
<!--html_preserve-->
<script type="application/shiny-prerendered" data-context="execution_dependencies">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages","version"]},"class":{"type":"character","attributes":{},"value":["data.frame"]},"row.names":{"type":"integer","attributes":{},"value":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101]}},"value":[{"type":"character","attributes":{},"value":["assertthat","backports","base","broom","bslib","cachem","callr","cellranger","checkmate","cli","colorspace","compiler","crayon","curl","datasets","DBI","dbplyr","desc","devtools","digest","dplyr","ellipsis","evaluate","fansi","farver","fastmap","forcats","fs","generics","ggplot2","glue","graphics","grDevices","grid","gtable","haven","highr","hms","htmltools","htmlwidgets","httpuv","httr","jquerylib","jsonlite","knitr","labeling","later","learnr","lifecycle","lubridate","magrittr","markdown","memoise","methods","mime","modelr","munsell","pillar","pkgbuild","pkgconfig","pkgload","prettyunits","processx","promises","ps","purrr","R6","Rcpp","readr","readxl","remotes","reprex","rlang","rmarkdown","rprojroot","rsconnect","rstudioapi","rvest","sass","scales","sessioninfo","shiny","stats","stringi","stringr","testthat","tibble","tidyr","tidyselect","tidyverse","tools","usethis","utf8","utils","vctrs","webshot","withr","xfun","xml2","xtable","yaml"]},{"type":"character","attributes":{},"value":["0.2.1","1.2.1","4.0.4","0.7.5.9000","0.2.4","1.0.4","3.6.0","1.1.0","2.0.0","2.4.0","2.0-0","4.0.4","1.4.1","4.3","4.0.4","1.1.1","2.1.0","1.3.0","2.3.2","0.6.27","1.0.5","0.3.1","0.14","0.4.2","2.1.0","1.1.0","0.5.1","1.5.0","0.1.0","3.3.3","1.4.2","4.0.4","4.0.4","4.0.4","0.3.0","2.3.1","0.8","1.0.0","0.5.1.9001","1.5.3","1.5.5","1.4.2","0.1.3","1.7.2","1.32","0.4.2","1.1.0.1","0.10.1.9008","1.0.0","1.7.10","2.0.1","1.1","2.0.0","4.0.4","0.10","0.1.8","0.5.0","1.6.0","1.2.0","2.0.3","1.2.1","1.1.1","3.5.1","1.2.0.1","1.6.0","0.3.4","2.5.0","1.0.6","1.4.0","1.3.1","2.2.0","1.0.0","0.4.10.9000","2.7.10","2.0.2","0.8.16","0.13.0-9000","1.0.0","0.3.1","1.1.1","1.1.1","1.6.0","4.0.4","1.5.3","1.4.0","3.0.2","3.1.0","1.1.3","1.1.0","1.3.0","4.0.4","2.0.1","1.2.1","4.0.4","0.3.7","0.5.2","2.4.1","0.22","1.3.2","1.8-4","2.2.1"]}]}]}
</script>
<!--/html_preserve-->
</div>
</div>
</div>

</div> <!-- topics -->

<div class="topicsContainer">
<div class="topicsPositioner">
<div class="band">
<div class="bandContent topicsListContainer">

<!-- begin doc-metadata -->
<div id="doc-metadata">
<h2 class="title toc-ignore" style="display:none;">3: Reactive programming</h2>
</div>
<!-- end doc-metadata -->

</div> <!-- bandContent.topicsListContainer -->
</div> <!-- band -->
</div> <!-- topicsPositioner -->
</div> <!-- topicsContainer -->


</div> <!-- bandContent page -->
</div> <!-- pageContent band -->



<!-- Build Tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("section-TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<script>
// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});
</script>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>


</body>

</html>
